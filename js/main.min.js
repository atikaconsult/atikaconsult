/* jQuery v1.7.2 jquery.com | jquery.org/license */
(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cu(a){if(!cj[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){ck||(ck=c.createElement("iframe"),ck.frameBorder=ck.width=ck.height=0),b.appendChild(ck);if(!cl||!ck.createElement)cl=(ck.contentWindow||ck.contentDocument).document,cl.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),cl.close();d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,"display"),b.removeChild(ck)}cj[a]=e}return cj[a]}function ct(a,b){var c={};f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a});return c}function cs(){cq=b}function cr(){setTimeout(cs,0);return cq=f.now()}function ci(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ca(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function b_(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&f.type(b)==="object")for(var e in b)b_(a+"["+e+"]",b[e],c,d);else d(a,b)}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bS,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bZ(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=bZ(a,c,d,e,"*",g));return l}function bY(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bO),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bB(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?1:0,g=4;if(d>0){if(c!=="border")for(;e<g;e+=2)c||(d-=parseFloat(f.css(a,"padding"+bx[e]))||0),c==="margin"?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0;return d+"px"}d=by(a,b);if(d<0||d==null)d=a.style[b];if(bt.test(d))return d;d=parseFloat(d)||0;if(c)for(;e<g;e+=2)d+=parseFloat(f.css(a,"padding"+bx[e]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+bx[e]))||0);return d+"px"}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?b.outerHTML=a.outerHTML:c!=="input"||a.type!=="checkbox"&&a.type!=="radio"?c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c,i[c][d])}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){if(typeof c!="string"||!c)return null;var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h,i){var j,k=d==null,l=0,m=a.length;if(d&&typeof d=="object"){for(l in d)e.access(a,c,l,d[l],1,h,f);g=1}else if(f!==b){j=i===b&&e.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),c=null));if(c)for(;l<m;l++)c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i);g=1}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m,n=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?n(g):h==="function"&&(!a.unique||!p.has(g))&&c.push(g)},o=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++)if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&p.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p=c.createElement("div"),q=c.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=p.getElementsByTagName("*"),e=p.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=p.getElementsByTagName("input")[0],b={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:p.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel=c.compatMode==="CSS1Compat",i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),i.setAttribute("name","t"),p.appendChild(i),j=c.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p);if(p.attachEvent)for(n in{submit:1,change:1,focusin:1})m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o=typeof p[m]=="function"),b[n+"Bubbles"]=o;j.removeChild(p),j=g=h=p=i=null,f(function(){var d,e,g,h,i,j,l,m,n,q,r,s,t,u=c.getElementsByTagName("body")[0];!u||(m=1,t="padding:0;margin:0;border:",r="position:absolute;top:0;left:0;width:1px;height:1px;",s=t+"0;visibility:hidden;",n="style='"+r+t+"5px solid #000;",q="<div "+n+"display:block;'><div style='"+t+"0;display:block;overflow:hidden;'></div></div>"+"<table "+n+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",d=c.createElement("div"),d.style.cssText=s+"width:0;height:0;position:static;top:0;margin-top:"+m+"px",u.insertBefore(d,u.firstChild),p=c.createElement("div"),d.appendChild(p),p.innerHTML="<table><tr><td style='"+t+"0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=k[0].offsetHeight===0,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&k[0].offsetHeight===0,a.getComputedStyle&&(p.innerHTML="",l=c.createElement("div"),l.style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),b.reliableMarginRight=(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=r+s,p.innerHTML=q,e=p.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:g.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},g.style.position="fixed",g.style.top="20px",j.fixedPosition=g.offsetTop===20||g.offsetTop===15,g.style.position=g.style.top="",e.style.overflow="hidden",e.style.position="relative",j.subtractsBorderForOverflowNotVisible=g.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=u.offsetTop!==m,a.getComputedStyle&&(p.style.marginTop="1%",b.pixelMargin=(a.getComputedStyle(p,null)||{marginTop:0}).marginTop!=="1%"),typeof d.style.zoom!="undefined"&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a===b){if(this.length){m=f.data(j);if(j.nodeType===1&&!f._data(j,"parsedAttrs")){g=j.attributes;for(i=g.length;k<i;k++)h=g[k].name,h.indexOf("data-")===0&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]));f._data(j,"parsedAttrs",!0)}}return m}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!";return f.access(this,function(c){if(c===b){m=this.triggerHandler("getData"+e,[d[0]]),m===b&&j&&(m=f.data(j,a),m=l(j,a,m));return m===b&&d[1]?this.data(d[0]):m}d[1]=c,this.each(function(){var b=f(this);b.triggerHandler("setData"+e,d),f.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){var d=2;typeof a!="string"&&(c=a,a="fx",d--);if(arguments.length<d)return f.queue(this[0],a);return c===b?this:this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise(c)}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,arguments.length>1)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;i<g;i++)e=d[i],e&&(c=f.propFix[e]||e,h=u.test(e),h||f.attr(a,e,""),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/(?:^|\s)hover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler,g=p.selector),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(!i.preDispatch||i.preDispatch.call(this,c)!==!1){if(e&&(!c.button||c.type!=="click")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this)if(m.disabled!==!0){p={},r=[],n[0]=m;for(k=0;k<e;k++)s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?H(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}i.postDispatch&&i.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9||d===11){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));o.match.globalPOS=p;var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")[\\s/>]","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test("<"+a.nodeName+">")?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g,h,i,j=[];b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var k=0,l;(l=a[k])!=null;k++){typeof l=="number"&&(l+="");if(!l)continue;if(typeof l=="string")if(!_.test(l))l=b.createTextNode(l);else{l=l.replace(Y,"<$1></$2>");var m=(Z.exec(l)||["",""])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement("div"),q=bh.childNodes,r;b===c?bh.appendChild(p):U(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--)p=p.lastChild;if(!f.support.tbody){var s=$.test(l),t=m==="table"&&!s?p.firstChild&&p.firstChild.childNodes:n[1]==="<table>"&&!s?p.childNodes:[];for(i=t.length-1;i>=0;--i)f.nodeName(t[i],"tbody")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i])}!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),q.length>0&&(r=q[q.length-1],r&&r.parentNode&&r.parentNode.removeChild(r)))}var u;if(!f.support.appendChecked)if(l[0]&&typeof(u=l.length)=="number")for(i=0;i<u;i++)bn(l[i]);else bn(l);l.nodeType?j.push(l):j=f.merge(j,l)}if(d){g=function(a){return!a.type||be.test(a.type)};for(k=0;j[k];k++){h=j[k];if(e&&f.nodeName(h,"script")&&(!h.type||be.test(h.type)))e.push(h.parentNode?h.parentNode.removeChild(h):h);else{if(h.nodeType===1){var v=f.grep(h.getElementsByTagName("script"),g);j.splice.apply(j,[k+1,0].concat(v))}d.appendChild(h)}}}return j},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bu=/^([\-+])=([\-+.\de]+)/,bv=/^margin/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Top","Right","Bottom","Left"],by,bz,bA;f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,arguments.length>1)},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(by)return by(a,c)},swap:function(a,b,c){var d={},e,f;for(f in b)d[f]=a.style[f],a.style[f]=b[f];e=c.call(a);for(f in b)a.style[f]=d[f];return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,b){var c,d,e,g,h=a.style;b=b.replace(br,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),!f.support.pixelMargin&&e&&bv.test(b)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g);return c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f==null&&g&&(e=g[b])&&(f=e),bt.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),by=bz||bA,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==0?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)})},set:function(a,b){return bs.test(b)?b+"px":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bp,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bp.test(g)?g.replace(bp,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?by(a,"margin-right"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)}),f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bx[d]+b]=e[d]||e[d-2]||e[0];return f}}});var bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bR=f.fn.load,bS={},bT={},bU,bV,bW=["*/"]+["*"];try{bU=e.href}catch(bX){bU=c.createElement("a"),bU.href="",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bR)return bR.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bM,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b);return a},ajaxSettings:{url:bU,isLocal:bI.test(bV[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?ca(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cb(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bG.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bF,"").replace(bK,bV[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bO),d.crossDomain==null&&(r=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bV[1]&&r[2]==bV[2]&&(r[3]||(r[1]==="http:"?80:443))==(bV[3]||(bV[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bL.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bP,"$1_="+x);d.url=y+(y===d.url?(bL.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bW+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=bZ(bT,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)b_(g,a[g],c,e);return d.join("&").replace(bC,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=typeof b.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ce=a.ActiveXObject?function(){for(var a in cg)cg[a](0,1)}:!1,cf=0,cg;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cj={},ck,cl,cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,co,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cq;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(ct("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),(e===""&&f.css(d,"display")==="none"||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,"olddisplay",cu(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(ct("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ct("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o,p,q;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]);if((k=f.cssHooks[g])&&"expand"in k){l=k.expand(a[g]),delete a[g];for(i in l)i in a||(a[i]=l[i])}}for(g in a){h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cu(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cm.test(h)?(q=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),q?(f._data(this,"toggle"+i,q==="show"?"hide":"show"),j[q]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?"":"px"),p!=="px"&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=(m[1]==="-="?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:ct("show",1),slideUp:ct("hide",1),slideToggle:ct("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?f._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&f._data(e.elem,"fxshow"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cq||cr(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cv,cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?cv=function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};var g=b.body,h=cy(b),i=c.clientTop||g.clientTop||0,j=c.clientLeft||g.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||g.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||g.scrollLeft,m=d.top+k-i,n=d.left+l-j;return{top:m,left:n}}:cv=function(a,b,c){var d,e=a.offsetParent,g=a,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;while((a=a.parentNode)&&a!==h&&a!==c){if(f.support.fixedPosition&&j.position==="fixed")break;d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(a.nodeName))&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),g=e,e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;f.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft));return{top:k,left:l}},f.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;if(!d)return null;if(c===d.body)return f.offset.bodyOffset(c);return cv(c,d,d.documentElement)},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);if(g===b)return h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e];h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,g="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var i,j,k,l;if(f.isWindow(a)){i=a.document,j=i.documentElement[d];return f.support.boxModel&&j||i.body&&i.body[d]||j}if(a.nodeType===9){i=a.documentElement;if(i[d]>=i[e])return i[d];return Math.max(a.body[e],i[e],a.body[g],i[g])}if(h===b){k=f.css(a,c),l=parseFloat(k);return f.isNumeric(l)?l:k}f(a).css(c,h)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);
function aConstructor()
{this.debug=false;this.onSubmitHandlers={};this.registerOnSubmit=function(slotId,callback)
{if(!this.onSubmitHandlers[slotId])
{this.onSubmitHandlers[slotId]=[callback];return;}
this.onSubmitHandlers[slotId].push(callback);};this.callOnSubmit=function(slotId)
{var handlers=this.onSubmitHandlers[slotId];if(handlers)
{var i;for(i=0;(i<handlers.length);i++)
{handlers[i](slotId);}}
$('.a-needs-update').trigger('a.update');};this.setMessages=function(messages)
{this.messages=messages;if(!this.messages.save_changes_first)
{this.messages.save_changes_first='Please save your changes first.';}};this.ready=function(options)
{if(typeof(apostropheReady)==="function")
{apostropheReady();}
if(typeof(aOverrides)==="function")
{aOverrides();}};this.swapNodes=function(a,b){var t=a.parentNode.insertBefore(document.createTextNode(''),a);b.parentNode.insertBefore(a,b);t.parentNode.insertBefore(b,t);t.parentNode.removeChild(t);};this.setupLogger=function(){if((this.debug===true)&&window.console&&console.log){return function(output){console.log(output);};}
return function(output){};}
this.log=this.setupLogger();this.setDebug=function(flag)
{var me=this;me.debug=flag;me.log=me.setupLogger();};this.getDebug=function()
{apostrophe.debug;};this.setObjectId=function(domId,objectId)
{$('#'+domId).data('id',objectId);$('#'+domId).attr('data-id',objectId);};this.selectOnFocus=function(selector)
{$(selector).focus(function(){$(this).select();}).mouseup(function(e){e.preventDefault();});};this.selfLabel=function(options)
{aInputSelfLabel(options['selector'],options['title'],options['select'],options['focus'],options['persistentLabel']);};this.clickOnce=function(selector)
{elements=$(selector);elements.unbind('click.aClickOnce').bind('click.aClickOnce',function(){apostrophe.toSpan($(this));});};this.toSpan=function(selector)
{$(selector).each(function(){var $self=$(this);var aSpan=$('<span>').attr({'id':$self.attr('id'),'class':$self.attr('class')}).html($self.html());$self.replaceWith(aSpan);if(aSpan.hasClass('a-show-busy')){apostrophe.aShowBusy();aSpan.trigger('aShowBusy');};});};this._submitFormForOverrideLinks=function(form,update)
{$.post($(form).attr('action'),$(form).serialize(),function(data){_fixContentForOverrideLinks(data,update);});}
function _fixContentForOverrideLinks(data,update)
{var markup=$(data);var update=$(update);markup.find('a.a-delete').each(function(){var onclick=this.getAttribute('onclick');if(onclick&&onclick.length)
{var updateId=update.attr('id');if(!updateId)
{apostrophe.log("WARNING: element being updated has no id, overrideLinks can't work");}
onclick=onclick.replace('f.submit()','apostrophe._submitFormForOverrideLinks(f, "#'+updateId+'")');this.setAttribute('onclick',onclick);}});$('a:not([href="#"])',markup).click(function(event){if($(this).hasClass('a-no-override-links'))
{return true;}
var onclick=this.getAttribute('onclick');if(onclick&&onclick.length)
{return true;}
event.preventDefault();$.get($(this).attr('href'),function(data){_fixContentForOverrideLinks(data,update);});});$('form',markup).submit(function(event){event.preventDefault();apostrophe._submitFormForOverrideLinks(this,update);});update.empty();update.append(markup);apostrophe.smartCSS({target:update});update.trigger('aAfterOverrideLinks');}
this.loadRemote=function(options)
{var update=$(options['update']);var method=(options['method'])?options['method']:'get';var remoteURL=options['url'];var restore=(options['restore'])?options['restore']:false;$.ajax({type:method,dataType:'html',beforeSend:function(){update.addClass('a-remote-data-loading');},success:function(data,textStatus)
{if(restore)
{update.data('aBeforeUpdate',update.children().clone(true));}
newContent(data);function newContent(data)
{if(options.beforeNewContent)
{options.beforeNewContent();}
if(restore)
{update.find('.a-cancel').unbind('click.aRestore').bind('click.aRestore',function(event){event.preventDefault();update.html(update.data('aBeforeUpdate'));});}
update.removeClass('a-remote-data-loading').addClass('a-remote-data-loaded');if(options['overrideLinks'])
{_fixContentForOverrideLinks(data,update);}
else
{update.html(data);}
if(options.afterNewContent)
{options.afterNewContent();}
if(options.callback)
{options.callback();}}},url:remoteURL});};this.linkToRemote=function(options)
{var selector=options['link'];var update=$(options['update']);var eventType=(options['event'])?options['event']:'click';if(selector===undefined)
{selector=options['selector'];}
var link=$(selector);if(link.length&&update.length){link.bind(eventType,function(){apostrophe.loadRemote(options);return false;});}};this.unobfuscateEmail=function(aClass,email,label)
{$('.'+aClass).attr('href',unescape(email)).html(unescape(label));};this.unobfuscateEmailInline=function(){var links=$('.a-obs-email');if(links.length)
{links.each(function(){$self=$(this);$self.attr('href','mailto:'+$self.attr('data-prefix')+'@'+$self.attr('data-suffix')).html($self.attr('data-label'));});};};this.formUpdates=function(options)
{var form=$(options['selector']);form.unbind('submit.aFormUpdates');form.bind('submit.aFormUpdates',function(){$('.a-needs-update').trigger('a.update');var updating=$('#'+options['update']);var action=form.attr('action');$.post(action,form.serialize(),function(data){updating.html(data);updating.trigger('a.updated');var extras=options['refresh-extra']?options['refresh-extra']:[];$('.a-needs-refresh').trigger('a.refresh',extras);});form.trigger('aSubmitted');return false;});};this.setBlank=function(options)
{var selector=$(options['selector']);if(selector.length)
{selector.bind('click',function(event){$(options['target']).html('');return false;});}
else
{apostrophe.log('apostrophe.setBlank -- Selector not found');}}
this.linkUpdates=function(options)
{var link=$(options['selector']);var confirmMessage=link.attr('data-confirm');link.unbind('click.aLinkUpdates');link.bind('click.aLinkUpdates',function(event){event.preventDefault();if(confirmMessage)
{if(!confirm(confirmMessage))
{return false;}}
$('.a-needs-update').trigger('a.update');var updating=$('#'+options['update']);var action=link.attr('href');$.get(action,{},function(data){updating.trigger('a.updated');updating.html(data);});});};this.updating=function(selector)
{apostrophe.aShowBusy({'updating':selector});};this.aShowBusy=function(options)
{var updating='';if(options!==undefined&&options['updating'])
{updating=options['updating']+' .a-show-busy, ';}
var submit=$(updating+'.a-show-busy');submit.unbind('click.aShowBusy').bind('click.aShowBusy',function(event){var $self=$(this);$self.trigger('aShowBusy');}).unbind('aShowBusy').bind('aShowBusy',function(event){var $self=$(this);if(!$self.hasClass('a-busy'))
{submit.addClass('a-busy');if(!$self.hasClass('icon'))
{$self.addClass('icon').prepend('<span class="icon"></span>');}}}).unbind('aHideBusy').bind('aHideBusy',function(event){var $self=$(this);$self.removeClass('a-busy').removeClass('icon').find('span.icon').remove();});submit.closest($('form')).unbind('submit.aShowBusy').bind('submit.aShowBusy',function(){var $selfForm=$(this);$selfForm.find('.a-show-busy').trigger('aShowBusy');});};this.radioToggleButton=function(options)
{var opt1Label=(options['opt1Label'])?options['opt1Label']:'on';var opt2Label=(options['opt2Label'])?options['opt2Label']:'off';var field=$(options['field']);var radios=field.find('input[type="radio"]');radios.length?'':apostrophe.log('apostrophe.radioToggleButton -- selector: '+options['field']+' -- No radio inputs found');if(field.length)
{options['debug']?apostrophe.log('apostrophe.radioToggleButton --'+field+'-- debugging'):field.find('.radio_list').hide();if(!field.find('.a-toggle-btn').length)
{var toggleButton=$('<a/>');toggleButton.addClass('a-btn icon lite a-toggle-btn');toggleButton.html('<span class="icon"></span><span class="option-1">'+opt1Label+'</span><span class="option-2">'+opt2Label+'</span>');field.prepend(toggleButton);var btn=field.find('.a-toggle-btn');updateToggle(btn);btn.bind('click.apostrophe',function(){toggle(btn);});}}
else
{field.length?'':apostrophe.log('apostrophe.radioToggleButton -- No field found');}
function toggle(button)
{if($(radios[0]).is(':checked'))
{$(radios[0]).attr('checked',null);$(radios[1]).attr('checked','checked');}
else
{$(radios[1]).attr('checked',null);$(radios[0]).attr('checked','checked');}
updateToggle(button);}
function updateToggle(button)
{if($(radios[0]).is(':checked'))
{button.addClass('option-1').removeClass('option-2');}
else
{button.addClass('option-2').removeClass('option-1');}}};this.IE6=function(options)
{var ieBody=$('body');authenticated=options['authenticated'],message=options['message'];if(authenticated&&ieBody.closest($('.ie6')).size())
{ieBody.addClass('ie6').prepend('<div id="ie6-warning"><h2>'+message+'</h2></div>');}};this.jsTree=function(options)
{var treeData=options['treeData'];var moveURL=options['moveUrl'];var aPageTree=$('#a-page-tree');aPageTree.tree({data:{type:'json',json:[treeData]},ui:{theme_path:"/apostrophePlugin/js/jsTree/source/themes/",theme_name:"punk",scroll_spd:16,context:false},rules:{renameable:false,deletable:false,creatable:false,draggable:'all',dragrules:'all'},callback:{onmove:function(node,refNode,type,treeObj,rb)
{aPageTree.parent().addClass('working');var nid=node.id;var rid=refNode.id;jQuery.ajax({url:options['moveURL']+"?"+"id="+nid.substr("tree-".length)+"&refId="+rid.substr("tree-".length)+"&type="+type,error:function(result){window.location.reload();},success:function(result){if(result!=='ok')
{window.location.reload();}
aPageTree.parent().removeClass('working');},async:true});}}});treeRef=$.tree_reference(aPageTree.attr('id'));aPageTree.find('li').each(function(){var id=$(this).attr('id');var a=$(this).find('a:first');a.after($('<cite class="a-tree-delete">x</cite>'));});aPageTree.find('li cite.a-tree-delete').click(function(){var anchor=$(this);var li=anchor.closest('li');var nid=li.attr('id');if(li.find('li').length)
{if(!confirm(options['confirmDeleteWithChildren']))
{return false;}}
else
{if(!confirm(options['confirmDeleteWithoutChildren']))
{return false;}}
aPageTree.parent().addClass('working');jQuery.ajax({url:options['deleteURL']+"?"+"id="+nid.substr("tree-".length),error:function(result){window.location.reload();},success:function(result){if(result!=='ok')
{window.location.reload();}
li.remove();aPageTree.parent().removeClass('working');},async:true});return false;});};this.slideshowSlot=function(options)
{var debug=options['debug'];var transition=options['transition'];var id=options['id'];var intervalEnabled=!!options['interval'];var intervalSetting=options['interval'];var positionFlag=options['position'];var position=(options['startingPosition'])?options['startingPosition']:0;var duration=(options['duration'])?options['duration']:300;var slideshowSelector=(options['slideshowSelector'])?options['slideshowSelector']:'#a-slideshow-'+id;var slideshow=$(slideshowSelector);var slideshowControlsSelector=(options['controls'])?options['controls']:'.a-slideshow-controls';var slideshowControls=slideshow.next(slideshowControlsSelector);var slideshowItemsSelector=(options['slideshowItemsSelector'])?options['slideshowItemsSelector']:'.a-slideshow-item';var slideshowItems=slideshow.find(slideshowItemsSelector);var itemCount=slideshowItems.length;var positionSelector=(options['positionSelector'])?options['positionSelector']:'.a-slideshow-position-head';var positionHead=slideshowControls.find(positionSelector);var intervalTimeout=null;var currentItem;var newItem;var oldItem;(options['title'])?slideshowItems.attr('title',options['title']):slideshowItems.attr('title','');if(itemCount===1)
{slideshow.addClass('single-image');$(slideshowItems[0]).show();}
else
{slideshow.addClass('multi-image');if(window.aSlideshowIntervalTimeouts!==undefined)
{if(window.aSlideshowIntervalTimeouts['a-'+id])
{clearTimeout(window.aSlideshowIntervalTimeouts['a-'+id]);}}
else
{window.aSlideshowIntervalTimeouts={};}
function init()
{slideshowItems.hide();$(slideshowItems[position]).show();setPosition(position);interval();}
function previous()
{currentItem=position;(position==0)?position=itemCount-1:position--;showItem(position,currentItem);};function next()
{currentItem=position;(position==itemCount-1)?position=0:position++;showItem(position,currentItem);};function showItem(position,currentItem)
{if(!slideshow.data('showItem'))
{slideshow.data('showItem',1);newItem=$(slideshowItems[position]);oldItem=(currentItem)?$(slideshowItems[currentItem]):slideshowItems;if(transition=='crossfade')
{oldItem.fadeOut(duration);}
else
{newItemHeight=newItem.height()+'px';slideshow.css('height',newItemHeight);slideshowItems.hide();};newItem.fadeIn(duration,function(){slideshow.data('showItem',0);setPosition(position);interval();});};};function setPosition(p)
{slideshow.data('position',p);if(positionFlag&&positionHead.length)
{positionHead.text(parseInt(p)+1);};};function interval()
{if(intervalTimeout)
{clearTimeout(intervalTimeout);};if(intervalEnabled)
{intervalTimeout=setTimeout(next,intervalSetting*1000);window.aSlideshowIntervalTimeouts['a-'+id]=intervalTimeout;}};init();slideshow.bind('showItem',function(e,p){showItem(p);});slideshow.bind('previousItem',function(){previous();});slideshow.bind('nextItem',function(){next();});slideshow.bind('aSetPosition',function(){var newPosition=slideshow.data('aNewPosition');showItem(newPosition,position);});slideshow.find('.a-slideshow-image').bind('click.apostrophe',function(event){event.preventDefault();intervalEnabled=false;next();});slideshowControls.find('.a-arrow-left').bind('click.apostrophe',function(event){event.preventDefault();intervalEnabled=false;previous();});slideshowControls.find('.a-arrow-right').bind('click.apostrophe',function(event){event.preventDefault();intervalEnabled=false;next();});slideshowControls.find('.a-arrow-left, .a-arrow-right').hover(function(){$(this).addClass('over');},function(){$(this).removeClass('over');});}};this.slideshowSetPosition=function(options)
{var slideshow=$(options.selector);slideshow.data('aNewPosition',options.position);slideshow.trigger('aSetPosition');};this.buttonSlot=function(options)
{var button=(options['button'])?$(options['button']):false;var rollover=(options['rollover'])?options['rollover']:false;apostrophe.slotEnhancements({slot:'#'+button.closest('.a-slot').attr('id'),editClass:'a-options'});if(button.length)
{if(rollover)
{var link=button.find('.a-button-title .a-button-link');var image=button.find('.a-button-image img');image.hover(function(){image.fadeTo(0,.65);},function(){image.fadeTo(0,1);});link.hover(function(){image.fadeTo(0,.65);},function(){image.fadeTo(0,1);});}}
else
{apostrophe.log('apostrophe.buttonSlot -- no button found');}};this.afterAddingSlot=function(name)
{$('#a-add-slot-form-'+name).hide();};this.areaEnableDeleteSlotButton=function(options){$('#'+options['buttonId']).bind('click.apostrophe',function(){if(confirm(options['confirmPrompt']))
{$(this).closest(".a-slot").fadeOut();$.post(options['url'],{},function(data){$("#a-slots-"+options['pageId']+"-"+options['name']).html(data);});}
return false;});};this.areaEnableAddSlotChoice=function(options){var button=$("#"+options['buttonId']);$(button).bind('click.apostrophe',function(){var name=options['name'];var pageId=options['pageId'];$.post(options['url'],{},function(data){var slots=$('#a-slots-'+pageId+'-'+name);slots.html(data);var area=$('#a-area-'+pageId+'-'+name);area.removeClass('a-options-open');});return false;});};this.areaEnableHistoryButtons=function(options)
{var areas=$('.a-area');areas.undelegate('a.a-history-btn','click.apostrophe').delegate('a.a-history-btn','click.apostrophe',function(){var history=$(this);var area=history.closest('div.a-area');_closeHistory();_browseHistory(area);$(".a-history-browser .a-history-items").data("area","a-area-"+area.data('pageid')+"-"+area.data('name'));$(".a-history-browser .a-history-browser-view-more").bind('click.apostrophe',function(){$.post(history.data('moreurl'),{},function(data){$('.a-history-browser .a-history-items').html(data);$(".a-history-browser .a-history-browser-view-more .spinner").hide();});$(this).hide();return false;});$.post(history.data('url'),{},function(data){$('.a-history-browser .a-history-items').html(data);});});};this.areaUpdateMoveButtons=function(updateAction,id,name)
{var area=$('#a-area-'+id+'-'+name);var slots=area.children('.a-slots').children('.a-slot');var newSlots=area.children('.a-slots').children('.a-new-slot');for(n=0;(n<slots.length);n++)
{var slot=slots[n];slotUpdateMoveButtons(id,name,slot,n,slots,updateAction);}
if(newSlots.length)
{newSlots.find('.a-slot-controls .a-move').addClass('a-hidden');newSlots.next('.a-slot').find('.a-move.up').addClass('a-hidden');newSlots.prev('.a-slot').find('.a-move.down').addClass('a-hidden');return;}};this.areaHighliteNewSlot=function(options)
{var pageId=options['pageId'];var slotName=options['slotName'];var newSlot=$('#a-area-'+pageId+'-'+slotName).find('.a-new-slot');if(newSlot.length)
{var tmpBG=newSlot.css('background');newSlot.css({'background':'none'});newSlot.effect("highlight",{},1000,function(){newSlot.css({'background':tmpBG});});$('#a-add-slot-'+pageId+'-'+slotName).parent().trigger('toggleClosed');}};this.areaSingletonSlot=function(options)
{var pageId=options['pageId'];var slotName=options['slotName'];$('#a-area-'+pageId+'-'+slotName+'.singleton .a-slot-controls-moved').remove();$('#a-area-'+pageId+'-'+slotName+'.singleton .a-slot-controls').prependTo($('#a-area-'+pageId+'-'+slotName)).addClass('a-area-controls a-slot-controls-moved').removeClass('a-slot-controls');$('ul.a-slot-controls-moved a.a-btn.a-history-btn').removeClass('big');};this.slotEnableVariantButton=function(options)
{var button=$('#'+options['buttonId']);button.unbind('click.slotEnableVariantButton');button.bind('click.slotEnableVariantButton',function(){var variants=$('#a-'+options['slotFullId']+'-variant');variants.find('ul.a-variant-options').addClass('loading');variants.find('li.active').hide();variants.find('ul.a-variant-options li.inactive').show();var variantStem='#a-'+options['slotFullId']+'-variant-'+options['variant'];$(variantStem+'-active').show();$(variantStem+'-inactive').hide();variants.find('ul.a-variant-options').hide();$.post(options['url'],{},function(data){$('#'+options['slotContentId']).html(data);});return false;});};this.slotShowVariantsMenu=function(slot)
{var outerWrapper=$(slot);var singletonArea=outerWrapper.closest('.singleton');if(singletonArea.length)
{singletonArea.find('.a-controls li.variant').show();}
else
{outerWrapper.find('.a-controls li.variant').show();}};this.slotHideVariantsMenu=function(menu)
{var menu=$(menu);menu.removeClass('loading').fadeOut('slow').parent().removeClass('open');};this.slotApplyVariantClass=function(slot,variant)
{var outerWrapper=$(slot);outerWrapper.addClass(variant);};this.slotRemoveVariantClass=function(slot,variant)
{var outerWrapper=$(slot);outerWrapper.removeClass(variant);};this.slotEnhancements=function(options)
{apostrophe.log('apostrophe.slotEnhancements');var slot=$(options['slot']);var editClass=options['editClass'];if(slot.length)
{if(editClass);{slot.find('.a-edit-view').addClass(editClass);};}
else
{apostrophe.log('apostrophe.slotEnhancements -- No slot found.');apostrophe.log('apostrophe.slotEnhancements -- Selector: '+options['slot']);}};this.mediaSlotEnhancements=function()
{var placeholders=$('.a-js-media-placeholder');placeholders.die('click.mediaSlotEnhancements').live('click.mediaSlotEnhancements',function(event){var $self=$(this),chooseBtn=($self.closest('.singleton').length)?$self.closest('.a-area').find('.a-js-choose-button'):$self.closest('.a-slot').find('.a-js-choose-button');$self.addClass('in-progress');window.location.href=chooseBtn.attr('href');return false;});};this.slotShowEditView=function(pageid,name,permid,realUrl)
{var fullId=pageid+'-'+name+'-'+permid;var editSlot=$('#a-slot-'+fullId);$.get(editSlot.data('a-edit-url'),{id:pageid,slot:name,permid:permid,realUrl:realUrl},function(data){editSlot.children('.a-slot-content').html(data);slotShowEditViewPreloaded(pageid,name,permid);});};this.slotNotNew=function(pageid,name,permid)
{$("#a-slot-"+pageid+"-"+name+"-"+permid).removeClass('a-new-slot');};this.slotEnableEditButton=function(pageid,name,permid,editUrl,realUrl)
{var fullId=pageid+'-'+name+'-'+permid;var editBtn=$('#a-slot-edit-'+fullId);var editSlot=$('#a-slot-'+fullId);editSlot.data('a-edit-url',editUrl);editBtn.die('click.apostrophe').live('click.apostrophe',function(event){apostrophe.slotShowEditView(pageid,name,permid,realUrl);return false;});};this.slotEnableForm=function(options)
{var $slotForm=$(options['slot-form']),$slot=$slotForm.closest('.a-slot'),$slotContent=$(options['slot-content']);$slotForm.submit(function(){$.post(options['url'],$slotForm.serialize(),function(data){$slotContent.html(data);var $area=$slot.closest('.a-area');$area.removeClass('a-editing').addClass('a-normal');$slot.removeClass('a-editing').addClass('a-normal');},'html');return false;});};this.slotEnableFormButtons=function(options)
{var $slot=$(options['view']),$area=$slot.closest('.a-area'),$cancelButton=$(options['cancel']),$saveButton=$(options['save']);$cancelButton.unbind('click.slotEnableFormButtons').bind('click.slotEnableFormButtons',function(event){event.preventDefault();$slot.children('.a-slot-content').children('.a-slot-content-container').fadeIn();$slot.children('.a-controls li.variant').fadeIn();$slot.children('.a-slot-content').children('.a-slot-form').hide();$slot.removeClass('a-editing').addClass('a-normal');var $area=$slot.closest('.a-area');$area.removeClass('a-editing').addClass('a-normal');});$saveButton.unbind('click.slotEnableFormButtons').bind('click.slotEnableFormButtons',function(event){event.preventDefault();window.apostrophe.callOnSubmit(options['slot-full-id']);return true;});if(options['showEditor'])
{$slot.addClass('a-editing').removeClass('a-normal');if($area.hasClass('singleton'))
{$area.addClass('a-editing').removeClass('a-normal');}}};this.mediaCategories=function(options)
{var newCategoryLabel=options['newCategoryLabel'];apostrophe.selfLabel('#a_media_category_name',newCategoryLabel);$('#a-media-edit-categories-button, #a-media-no-categories-messagem, #a-category-sidebar-list').hide();$('#a_media_category_description').parents('div.a-form-row').addClass('hide-description').parent().attr('id','a-media-category-form');$('.a-remote-submit').aRemoteSubmit('#a-media-edit-categories');};this.mediaClearSelectingOnNavAway=function(mediaClearSelectingUrl)
{$('a').bind('click.apostrophe',function(){var href=$(this).attr('href');if(href===undefined)
{return;}
if(href.substr(0,1)==='#')
{return;}
if(href.match(/\/admin\/media/))
{return;}
$.ajax({url:mediaClearSelectingUrl,async:false});return;});};this.mediaEnableRemoveButton=function(i)
{var editor=$('#a-media-item-'+i);editor.find('.a-media-delete-image-btn').bind('click.apostrophe',function()
{editor.remove();if($('.a-media-item').length==0)
{document.location=$('.a-js-media-edit-multiple-cancel').attr('href');}
return false;});};this.mediaReplaceFileListener=function(options)
{var menu=$(options['menu']);var input=$(options['input']);var message='This file will be replaced with the new file you have selected after you click save.';var fileLabel='File: ';if(options['message'])
{message=options['message'];};if(options['fileLabel'])
{fileLabel=options['fileLabel'];};if(input.length){input.change(function(){if(input.val())
{menu.trigger('toggleClosed');var newFileMessage=$('<div/>');newFileMessage.html('<div class="a-options open"><p>'+message+'</p><p>'+fileLabel+'<span>'+input.val()+'</span>'+'</p></div>');newFileMessage.addClass('a-new-file-message help');input.closest('.a-form-row').append(newFileMessage);};});}
else
{apostrophe.log('apostrophe.mediaReplaceFileListener -- no input found');}};this.mediaAjaxSubmitListener=function(options)
{var form=$(options['form']);var url=options['url'];var update=$(options['update']);var file=form.find('input[type="file"]');var embedChanged=false;if(form.length){form.find('.a-form-row.embed textarea').change(function(){embedChanged=true;});form.submit(function(event){$('.a-needs-update').trigger('a.update');if((file.val()=='')&&(!embedChanged))
{event.preventDefault();$.post(url,form.serialize(),function(data){update.html(data);});}});}
else
{apostrophe.log('apostrophe.mediaAjaxSubmitListener -- No form found');}};this.mediaFourUpLayoutEnhancements=function(options)
{var items=$(options['selector']);if(typeof(items)=='undefined'||!items.length){apostrophe.log('apostrophe.mediaFourUpLayoutEnhancements -- Items is undefined or no items found');}
items.mouseover(function(){var item=$(this);item.addClass('over');}).mouseout(function(){var item=$(this);item.find('img').removeClass('dropshadow');item.removeClass('over');}).mouseleave(function(){var item=$(this);if(!item.data('hold_delete'))
{destroyItemSlug(item);};});items.find('.a-media-item-thumbnail').hoverIntent(function(){var item=$(this).closest('.a-media-item');if(!item.data('hold_create'))
{createItemSlug(item);};},function(){});items.each(function(){var item=$(this);if(item.hasClass('a-type-video'))
{item.unbind('embedToggle').find('.a-media-thumb-link').unbind('click.apostrophe').bind('click.apostrophe',function(){return true;});};});function createItemSlug(item)
{var w=item.css('width');var h=item.css('height');var img=item.find('img');var slug=$('<div/>');slug.attr('id',item.attr('id')+'-slug');slug.addClass('a-media-item-slug');slug.css({width:w,height:h});if(item.hasClass('last'))
{slug.addClass('last');};item.wrap(slug).addClass('dropshadow expand').data('hold_create',1);var offset='-'+Math.floor(img.attr('height')/2)+'px';item.css('margin-top',offset);}
function destroyItemSlug(item)
{if(item.parent('.a-media-item-slug').length){item.unwrap();};item.removeClass('over dropshadow expand').css('margin-top','').data('hold_create',null);}};this.mediaEnableLinkAccount=function(previewUrl)
{var form=$('#a-media-add-linked-account');var ready=false;form.submit(function()
{if(ready)
{return true;}
$('#a-media-account-preview-wrapper').load(previewUrl,$('#a-media-add-linked-account').serialize(),function(){form.find('.a-show-busy').trigger('aHideBusy');$('#a-account-preview-ok').bind('click.apostrophe',function(event){event.preventDefault();ready=true;form.submit();});$('#a-account-preview-cancel').bind('click.apostrophe',function(event){event.preventDefault();$('#a-media-account-preview-wrapper').hide();return false;});$('#a-media-account-preview-wrapper').show();});return false;});};this.mediaEmbeddableToggle=function(options)
{var items=$(options['selector']);if(items.length){items.each(function(){var item=$(this);item.bind('embedToggle',function(){var embed=item.data('embed_code');item.find('.a-media-item-thumbnail').addClass('a-previewing');item.find('.a-media-item-embed').removeClass('a-hidden').html(embed);});var link=item.find('.a-media-play-video');link.unbind('click.mediaEmbeddableToggle').bind('click.mediaEmbeddableToggle',function(e){e.preventDefault();item.trigger('embedToggle');});});}
else
{apostrophe.log('apostrophe.mediaEmbeddableToggle -- no items found');};};this.mediaAttachEmbed=function(options)
{var id=options['id'];var embed=options['embed'];var mediaItem=$('#a-media-item-'+id);mediaItem.data('embed_code',embed);};this.mediaItemsIndicateSelected=function(cropOptions)
{var ids=cropOptions.ids;aCrop.init(cropOptions);$('.a-media-selected-overlay').remove();$('.a-media-selected').removeClass('a-media-selected');var i;for(i=0;(i<ids.length);i++)
{id=ids[i];var selector='#a-media-item-'+id;if(!$(selector).hasClass('a-media-selected'))
{$(selector).addClass('a-media-selected');}}
$('.a-media-item.a-media-selected').each(function(){$(this).children('.a-media-item-thumbnail').prepend('<div class="a-media-selected-overlay"></div>');});$('.a-media-selection-help').hide();if(!ids.length){$('.a-media-selection-help').show();}
$('.a-media-selected-overlay').fadeTo(0,0.66);};this.mediaUpdatePreview=function()
{$('#a-media-selection-preview').load(apostrophe.selectOptions.updateMultiplePreviewUrl,function(){$('#a-media-selection-preview li:first').addClass('current');aCrop.resetCrop(true);apostrophe.mediaItemsIndicateSelected(apostrophe.selectOptions);var items=$('.a-media-selection-list-item');var listHeight=0;items.each(function(){var item=$(this);(listHeight<item.height())?listHeight=item.height():'';});items.css('height',listHeight);});};this.mediaDeselectItem=function(id)
{$('#a-media-item-'+id).removeClass('a-media-selected');$('#a-media-item-'+id).children('.a-media-selected-overlay').remove();};this.mediaEnableSelect=function(options)
{apostrophe.selectOptions=options;$('.a-media-selection-list-item .a-delete').unbind('click.aMedia').bind('click.aMedia',function(e){var p=$(this).parents('.a-media-selection-list-item');var id=p.data('id');$.get(options['removeUrl'],{id:id},function(data){$('#a-media-selection-list').html(data);apostrophe.mediaDeselectItem(id);apostrophe.mediaUpdatePreview();});return false;});apostrophe.mediaItemsIndicateSelected(options);$('.a-media-selected-item-overlay').fadeTo(0,.35);$('.a-media-selection-list-item').hover(function(){$(this).addClass('over');},function(){$(this).removeClass('over');});$('.a-media-thumb-link, .a-media-item-title-link, .a-media-select-video').unbind('click.aMedia').bind('click.aMedia',function(e){e.preventDefault();var id=$(this).data('id')?$(this).data('id'):$(this).attr('data-id');$.get(options['multipleAddUrl'],{id:id},function(data){$('#a-media-selection-list').html(data);apostrophe.mediaUpdatePreview();$('.a-show-busy').trigger('aHideBusy');});$(this).addClass('a-media-selected');return false;});};this.mediaItemRefresh=function(options)
{var id=options['id'];var url=options['url'];window.location=url;};this.mediaEnableMultiplePreview=function()
{$('#a-media-selection-preview li:first').addClass('current');aCrop.resetCrop(true);};this.mediaEnableSelectionSort=function(multipleOrderUrl)
{$('#a-media-selection-list').sortable({update:function(e,ui)
{var serial=jQuery('#a-media-selection-list').sortable('serialize',{});$.post(multipleOrderUrl,serial);}});};this.mediaEnableUploadMultiple=function()
{function aMediaUploadSetRemoveHandler(element)
{$(element).find('.a-close').bind('click.apostrophe',function(){var element=$($(this).parent().parent().parent()).remove();$('#a-media-upload-form-inactive').append(element);$('#a-media-add-photo').show();return false;});}
$('#a-media-add-photo').bind('click.apostrophe',function(){var elements=$('#a-media-upload-form-inactive .a-form-row');$('#a-media-upload-form-subforms').append(elements);$('#a-media-add-photo').hide();return false;});function aMediaUploadInitialize()
{$('#a-media-upload-form-inactive').append($('#a-media-upload-form-subforms .a-form-row.initially-inactive').remove());aMediaUploadSetRemoveHandler($('#a-media-upload-form-subforms'));$('#a-media-upload-form .a-cancel').bind('click.apostrophe',function(){$('#a-media-add').hide();return false;});}
aMediaUploadInitialize();};this.menuToggle=function(options)
{var button=options.button||null;var menu=options.menu||null;var classname=options.classname||null;var overlay=options.overlay||null;if(button)
{button=$(options.button);}
else
{return;}
if(menu)
{menu=$(options.menu);}
else
{menu=$(button).parent();}
if(!classname)
{classname='show-options';}
if(overlay)
{if(overlay===true)
{overlay='.a-page-overlay';}
overlay=$(overlay);}
_menuToggle(button,menu,classname,overlay,options.beforeOpen,options.afterClosed,options.afterOpen,options.beforeClosed,options.focus,options.debug);};this.pager=function(selector,pagerOptions)
{$(selector+':not(.a-pager-processed)').each(function(){var pager=$(this);pager.addClass('a-pager-processed');pager.find('.a-page-navigation-number').css('display','block');pager.find('.a-page-navigation-number').css('float','left');var nb_pages=parseInt(pagerOptions['nb-pages']);var nb_links=parseInt(pagerOptions['nb-links']);var selected=parseInt($(this).find('.a-page-navigation-number.a-pager-navigation-disabled').text());(nb_links>=nb_pages)?pager.addClass('a-pager-arrows-disabled'):pager.removeClass('a-pager-arrows-disabled');var min=selected;var max=selected+nb_links-1;var links_container_container=pager.find('.a-pager-navigation-links-container-container');links_container_container.width((nb_links*pager.find('.a-page-navigation-number').first().outerWidth()));links_container_container.css('overflow','hidden');var links_container=pager.find('.a-pager-navigation-links-container');links_container.width((nb_pages*pager.find('.a-page-navigation-number').first().outerWidth()));var first=pager.find('.a-pager-navigation-first');var prev=pager.find('.a-pager-navigation-previous');var next=pager.find('.a-pager-navigation-next');var last=pager.find('.a-pager-navigation-last')
function calculateMinAndMax()
{if((min<1)&&(max>nb_pages))
{min=1;max=nb_pages;}
else if(min<1)
{var diff=0;if(min<0)
{diff=0-min;diff=diff+1;}
else
{diff=1}
min=1;max=max+diff;}
else if(max>nb_pages)
{var diff=max-nb_pages;max=nb_pages;min=min-diff;}}
function toggleClasses()
{pager.find('.a-pager-navigation-disabled').removeClass('a-pager-navigation-disabled');if(min==1)
{first.addClass('a-pager-navigation-disabled');prev.addClass('a-pager-navigation-disabled');}
else if(min==((nb_pages-nb_links)+1))
{next.addClass('a-pager-navigation-disabled');last.addClass('a-pager-navigation-disabled');}}
function updatePageNumbers()
{pager.find('.a-page-navigation-number').each(function(){var current=parseInt($(this).text());if((current>=min)&&(current<=max))
{$(this).show();}
else
{$(this).hide();}});}
function animatePageNumbers(){var width=links_container.children('.a-page-navigation-number').first().outerWidth();width=(min-1)*-width;links_container.animate({marginLeft:width},250,'swing');}
next.bind('click.apostrophe',function(e){min=min+nb_links;max=max+nb_links;calculateMinAndMax();toggleClasses();animatePageNumbers();return false;});last.bind('click.apostrophe',function(e){min=nb_pages;max=nb_pages+nb_links-1;calculateMinAndMax();toggleClasses();animatePageNumbers();return false;});prev.bind('click.apostrophe',function(e){min=min-nb_links;max=max-nb_links;calculateMinAndMax();toggleClasses();animatePageNumbers();return false;});first.bind('click.apostrophe',function(e){e.preventDefault();min=1;max=nb_links;calculateMinAndMax();toggleClasses();animatePageNumbers();return false;});calculateMinAndMax();toggleClasses();animatePageNumbers();});};this.accordion=function(options)
{var toggle=options['accordion_toggle'];if(typeof toggle=="undefined"){apostrophe.log('apostrophe.accordion -- Toggle is undefined.');}
else
{if(typeof toggle=="string"){toggle=$(toggle);}
var container=toggle.parent();var content=toggle.next();container.addClass('a-accordion');content.addClass('a-accordion-content');toggle.each(function(){var t=$(this);t.bind('click.apostrophe',function(event){event.preventDefault();t.closest('.a-accordion').toggleClass('open');}).hover(function(){t.addClass('hover');},function(){t.removeClass('hover');});}).addClass('a-accordion-toggle');}};this.enablePageSettings=function(options)
{apostrophe.log('apostrophe.enablePageSettings');var form=$('#'+options['id']+'-form');var ajaxDirty=false;form.submit(function(){tryPost();return false;});function tryPost()
{if(ajaxDirty)
{setTimeout(tryPost,250);}
else
{$.post(options['url'],form.serialize(),function(data){$('.a-page-overlay').hide();$('#'+options['id']).html(data);});}}
if(options['new'])
{var slugField=form.find('[name="settings[slug]"]');var titleField=form.find('[name="settings[realtitle]"]');var timeout=null;function changed()
{ajaxDirty=true;$.get(options['slugifyUrl'],{slug:$(titleField).val()},function(data){slugField.val(options['slugStem']+'/'+data);ajaxDirty=false;});timeout=null;}
function setChangedTimeout()
{if(!timeout)
{timeout=setTimeout(changed,500);}}
titleField.focus();titleField.change(changed);titleField.keyup(setChangedTimeout);$(form).find('.a-more-options-btn').bind('click.apostrophe',function(e){e.preventDefault();$(this).hide().next().removeClass('a-hidden');});}
var joinedtemplate=form.find('[name="settings[joinedtemplate]"]');if(joinedtemplate.length)
{joinedtemplate.change(function(){updateEngineAndTemplate();});function updateEngineAndTemplate()
{var url=options['engineUrl'];var engineSettings=form.find('.a-engine-page-settings');var val=joinedtemplate.val().split(':')[0];if(val==='a')
{engineSettings.html('');}
else
{$.get(url,{id:options['pageId']?options['pageId']:0,engine:val},function(data){engineSettings.html(data);});}}
updateEngineAndTemplate();}};this.accordionEnhancements=function(options)
{var nurl=options['url'];var name=options['name'];var nest=options['nest'];var nav=$("#a-nav-"+name+"-"+nest);nav.sortable({delay:100,update:function(e,ui)
{var serial=nav.sortable('serialize',{key:'a-tab-nav-item[]'});var options={"url":nurl,"type":"post"};options['data']=serial;$.ajax(options);nav.children().removeClass('first second next-last last');nav.children(':first').addClass('first');nav.children(':last').addClass('last');nav.children(':first').next("li").addClass('second');nav.children(':last').prev("li").addClass('next-last');},items:'li:not(.extra)'});};this.allTagsToggle=function(options)
{var allTags=options['selector']?$(options['selector']):$('.a-tag-sidebar-title.all-tags');allTags.hover(function(){allTags.addClass('over');},function(){allTags.removeClass('over');});allTags.bind('click.apostrophe',function(){allTags.toggleClass('open');allTags.next().toggle();});};this.searchCancel=function(options)
{var search=options['search'];$('#a-media-search-remove').show();$('#a-media-search-submit').hide();$('#a-media-search').bind("keyup blur",function(e)
{if($(this).val()===search)
{$('#a-media-search-remove').show();$('#a-media-search-submit').hide();}
else
{$('#a-media-search-remove').hide();$('#a-media-search-submit').show();}});$('#a-media-search').bind('aInputSelfLabelClear',function(e){$('#a-media-search-remove').show();$('#a-media-search-submit').hide();});};this.togglePageOverlay=function(options)
{var overlay=$('.a-page-overlay');if(options['toggle'])
{overlay.fadeIn(100);}
else
{overlay.hide();}
if(options.callback&&typeof(options.callback)==='function')
{options.callback();};};this.aInjectActualUrl=function(options){var target=options['target'];$(target).find('.a-inject-actual-url').each(function(){var href=$(this).attr('href');href=apostrophe.injectActualUrlIntoHref(href);$(this).attr('href',href);});};this.injectActualUrlIntoHref=function(href)
{var parsed=apostrophe.parseUrl(href);if(parsed.queryData.after!==undefined)
{parsed.queryData.after=apostrophe.injectActualUrlIntoUrl(parsed.queryData.after,'actual_url');parsed.query=$.param(parsed.queryData);q=parsed.stem.indexOf('?');if(q!==-1)
{return parsed.stem+parsed.query;}
else
{return parsed.stem+'?'+parsed.query;}}
return href;}
this.injectActualUrlIntoUrl=function(url,parameterName)
{return apostrophe.addParameterToUrl(url,parameterName,window.location.href);}
this.addParameterToUrl=function(url,name,value)
{var urlParsed=apostrophe.parseUrl(url);urlParsed.queryData[name]=value;urlParsed.query=$.param(urlParsed.queryData);q=urlParsed.stem.indexOf('?');if(q!==-1)
{return urlParsed.stem+urlParsed.query;}
else
{return urlParsed.stem+'?'+urlParsed.query;}}
this.aActAsSubmit=function(options){var target=options['target'];var actAsSubmit=$(target).find('.a-act-as-submit');var actAsSubmitForm=actAsSubmit.closest('form');var actAsSubmitFormInputs=actAsSubmitForm.find('input[type="text"]');actAsSubmit.each(function(){var submit=$(this);var form=submit.closest('form');if(!form.find('input[type="submit"]').length)
{var hidden=$('<input type="submit"/>');hidden.attr('value',submit.text());hidden.addClass('a-hidden-submit');submit.after(hidden);}
submit.unbind('click.aActAsSubmit').bind('click.aActAsSubmit',function(event){var form=submit.closest('form');var name=submit.attr('name');if(name&&name.length)
{var hidden=$('<input type="hidden"/>');hidden.attr('name',name);hidden.val(submit.text());form.append(hidden);}
form.trigger('aActAsSubmitCallback');form.submit();return false;});});}
this.smartCSS=function(options)
{var aBody=$('body'),target='body';if(options&&options['target'])
{target=options['target'];};if(aBody.hasClass('logged-in'))
{apostrophe.mediaSlotEnhancements();apostrophe.aInjectActualUrl({target:target});$(target).find('a.a-variant-options-toggle').unbind('click.aVariantOptionsToggle').bind('click.aVariantOptionsToggle',function(){$(this).parents('.a-slots').children().css('z-index','699');$(this).parents('.a-slot').css('z-index','799');});$(target).find('.a-controls, .a-options').addClass('clearfix');$(target).find('.a-controls li:last-child').addClass('last');var aBtns=$(target).find('.a-btn,.a-submit,.a-cancel');aBtns.each(function(){var aBtn=$(this);if(aBtn.is('a')&&aBtn.hasClass('icon')&&!aBtn.children('.icon').length)
{aBtn.prepend('<span class="icon"></span>').addClass('a-fix-me');};});};apostrophe.aShowBusy();apostrophe.aActAsSubmit({target:target})
$(target).find('a[rel="external"]').attr('target','_blank');};this.onBeforeUnload=function()
{$(window).unbind('beforeunload.apostrophe').bind('beforeunload.apostrophe',function(){if($('.a-admin-event-form form').data('changed'))
{return"You have not saved your changes to the settings for this event in the form at left. Any edits you have made will be lost if you do not save them first before leaving the page.";}
if($('.a-admin-blog-post-form form').data('changed'))
{return"You have not saved your changes to the settings for this blog post in the form at left. Any edits you have made will be lost if you do not save them first before leaving the page.";}
if($('.a-slot.a-editing').length)
{var stop=false;$('.a-slot.a-editing').each(function(){if(!$(this).hasClass('a-no-unload-warning'))
{stop=true;}});if(stop)
{return"You are still editing content. Any edits you have made will be lost if you do not save them first before leaving the page.";}}});}
this.parseUrl=function(url)
{var info={};var q=url.indexOf('?');if(q!==-1)
{info.stem=url.substr(0,q+1);query=url.substr(q+1);info.query=query;info.queryData=apostrophe.decodeQuery(query);}
else
{info.stem=url;info.query='';info.queryData={};}
return info;};this.decodeQuery=function(query)
{var urlParams={};(function(){var e,a=/\+/g,r=/([^&=]+)=?([^&]*)/g,d=function(s){return decodeURIComponent(s.replace(a," "));},q=query;while(e=r.exec(q))
urlParams[d(e[1])]=d(e[2]);})();return urlParams;};this.audioPlayerSetup=function(aAudioContainer,file)
{aAudioContainer=$(aAudioContainer);if(typeof(aAudioContainer)=='object'&&aAudioContainer.length)
{var global_lp=0;var global_wtf=0;var btnPlay=aAudioContainer.find(".a-audio-play");var btnPause=aAudioContainer.find(".a-audio-pause");var sliderPlayback=aAudioContainer.find('.a-audio-playback');var sliderVolume=aAudioContainer.find('.a-audio-volume');var loadingBar=aAudioContainer.find('.a-audio-loader');var time=aAudioContainer.find('.a-audio-time');var aAudioPlayer=aAudioContainer.find('.a-audio-player');var aAudioInterface=aAudioContainer.find('.a-audio-player-interface');aAudioContainer.unbind('setSize.audioPlayer').bind('setSize.audioPlayer',function(){var loader=aAudioContainer.find('.a-audio-loader'),playback=aAudioContainer.find('.a-audio-playback'),newWidth=loader.parent().width();loader.css({width:newWidth});playback.css({width:newWidth});});aAudioContainer.trigger('setSize.audioPlayer');$(window).unbind('resize.audioPlayer').bind('resize.audioPlayer',function(){aAudioContainer.trigger('setSize.audioPlayer');});aAudioPlayer.jPlayer({ready:function()
{this.element.jPlayer("setFile",file);aAudioInterface.removeClass('a-loading');},swfPath:'/apostrophePlugin/swf',customCssIds:true}).jPlayer("onProgressChange",function(lp,ppr,ppa,pt,tt){var lpInt=parseInt(lp);var ppaInt=parseInt(ppa);global_lp=lpInt;loadingBar.progressbar('option','value',lpInt);sliderPlayback.slider('option','value',ppaInt);if(global_wtf&&global_wtf==parseInt(tt)){timeLeft=parseInt(tt)-parseInt(pt);time.text($.jPlayer.convertTime(timeLeft));}
else
{global_wtf=parseInt(tt);}}).jPlayer("onSoundComplete",function(){});btnPause.hide();loadingBar.progressbar();btnPlay.bind('click.apostrophe',function(){aAudioPlayer.jPlayer("play");btnPlay.hide();btnPause.show();return false;});btnPause.bind('click.apostrophe',function(){aAudioPlayer.jPlayer("pause");btnPause.hide();btnPlay.show();return false;});sliderPlayback.slider({max:100,range:'min',animate:false,slide:function(event,ui){aAudioPlayer.jPlayer("playHead",ui.value*(100.0/global_lp));}});sliderVolume.slider({value:50,max:100,range:'min',animate:false,slide:function(event,ui){aAudioPlayer.jPlayer("volume",ui.value);}});}
else
{throw"Cannot find Audio Player.";}};this.enablePermissionsToggles=function()
{var stem='.view-options-widget';$(stem).change(function(){var v=$(stem+':checked').val();if(v==='login')
{$('#a-page-permissions-view-extended').show();}
else
{$('#a-page-permissions-view-extended').hide();}});$('#a_settings_settings_view_options_public').change();$('#a_settings_settings_edit_admin_lock').change(function()
{if($(this).attr('checked'))
{$('#a-page-permissions-edit-extended').hide();}
else
{$('#a-page-permissions-edit-extended').show();}});$('#a_settings_settings_edit_admin_lock').change();};this.enablePermissions=function(options)
{var w=$('#'+options['id']);var ids=[];var input=eval($('#'+options['hiddenField']).val());for(var i=0;(i<input.length);i++)
{ids[ids.length]=input[i]['id'];}
var data={};for(var i=0;(i<ids.length);i++)
{data[ids[i]]=input[i];}
function rebuild(){var select=$('<select class="a-permissions-add"></select>');var list=$('<ul class="a-permissions-entries"></ul>');var option=$('<option></option>');option.val('');option.text(options['addLabel']);select.append(option);var j=0;for(var i=0;(i<ids.length);i++)
{var user=data[ids[i]];var id=user['id'];var who=user['name'];if(!user['selected'])
{var option=$('<option></option>');option.val(id);option.text(who);select.append(option);}
else
{var liMarkup='<li class="a-permission-entry '+((j%2)?'even':'odd')+' clearfix"><ul><li class="a-who"></li>';if(options['extra'])
{liMarkup+='<li class="a-cascade-option extra"><div class="cascade-checkbox"><input type="checkbox" value="1" /> '+options['extraLabel']+'</div></li>';}
if(options['hasSubpages'])
{liMarkup+='<li class="a-cascade-option apply-to-subpages"><div class="cascade-checkbox"><input type="checkbox" value="1" /> '+options['applyToSubpagesLabel']+'</div></li>';}
liMarkup+='<li class="a-actions"><a href="#" class="a-close-small a-btn icon no-label no-bg alt">'+options['removeLabel']+'<span class="icon"></span></a></li></ul></li>';li=$(liMarkup);li.find('.a-who').text(who);if(options['extra'])
{li.find('.extra [type=checkbox]').attr('checked',user['extra']);}
li.find('.apply-to-subpages [type=checkbox]').attr('checked',user['applyToSubpages']);li.data('id',id);if(user['selected']==='remove')
{li.addClass('a-removing');li.find('.a-extra input').attr('disabled',true);}
list.append(li);j++;}}
select.val('');select.change(function(){var id=select.val();data[id]['selected']=true;rebuild();return false;});list.find('.a-close-small').bind('click.apostrophe',function(){var id=$(this).parents('.a-permission-entry').data('id');var user=data[id];if(user['selected']==='remove')
{user['selected']=true;}
else
{user['selected']='remove';}
rebuild();return false;});list.find('.extra [type=checkbox]').change(function(){var id=$(this).parents('.a-permission-entry').data('id');data[id]['extra']=$(this).attr('checked');updateHiddenField();return true;});list.find('.apply-to-subpages [type=checkbox]').change(function(){var id=$(this).parents('.a-permission-entry').data('id');data[id]['applyToSubpages']=$(this).attr('checked');updateHiddenField();return true;});w.html('');w.append(list);w.append(select);updateHiddenField();}
rebuild();function updateHiddenField()
{var flat=[];for(var i=0;(i<ids.length);i++)
{flat[flat.length]=data[ids[i]];}
$('#'+options['hiddenField']).val(JSON.stringify(flat));}};this.enableMediaEditMultiple=function()
{$('.a-media-multiple-submit-button').bind('click.apostrophe',function(){$('#a-media-edit-form-0').submit();return false;});$('#a-media-edit-form-0').submit(function(){$('.a-needs-update').trigger('a.update');return true;});$('#a-media-edit-form-0 .a-media-editor .a-delete').bind('click.apostrophe',function(){$(this).parents('.a-media-editor').remove();if($('#a-media-edit-form-0 .a-media-editor').length===0)
{window.location.href=$('#a-media-edit-form-0 .a-controls .a-cancel:first').attr('href');}
return false;});};this.aAdminEnableFilters=function()
{$('#a-admin-filters-open-button').bind('click.apostrophe',function(){$('#a-admin-filters-container').slideToggle();return false;});};this.historyOpen=function(options)
{var id=options['id'];var name=options['name'];var versionsInfo=options['versionsInfo'];var all=options['all'];var revert=options['revert'];var revisionsLabel=options['revisionsLabel'];for(i=0;(i<versionsInfo.length);i++)
{version=versionsInfo[i].version;$("#a-history-item-"+version).data('params',{'preview':{id:id,name:name,subaction:'preview',version:version},'revert':{id:id,name:name,subaction:'revert',version:version},'cancel':{id:id,name:name,subaction:'cancel',version:version}});}
if((versionsInfo.length==10)&&(!all))
{$('#a-history-browser-view-more').show();}
else
{$('#a-history-browser-view-more').hide().before('&nbsp;');}
$('#a-history-browser-number-of-revisions').text(versionsInfo.length+revisionsLabel);$('.a-history-browser-view-more').mousedown(function(){$(this).children('img').fadeIn('fast');});$('.a-history-item').bind('click.apostrophe',function(){$('.a-history-browser').hide();var params=$(this).data('params');var targetArea="#"+$(this).parent().data('area');var historyBtn=$(targetArea+' .a-area-controls a.a-history');var cancelBtn=$('#a-history-cancel-button');var revertBtn=$('#a-history-revert-button');$(historyBtn).siblings('.a-history-options').show();$.post(revert,params.preview,function(result)
{$('#a-slots-'+id+'-'+name).html(result);$(targetArea).addClass('previewing-history');historyBtn.addClass('a-disabled');$('.a-page-overlay').hide();});revertBtn.bind('click.apostrophe',function(){$.post(revert,params.revert,function(result)
{$('#a-slots-'+id+'-'+name).html(result);historyBtn.removeClass('a-disabled');_closeHistory();});});cancelBtn.bind('click.apostrophe',function(){$.post(revert,params.cancel,function(result)
{$('#a-slots-'+id+'-'+name).html(result);historyBtn.removeClass('a-disabled');_closeHistory();});});});$('.a-history-item').hover(function(){$(this).css('cursor','pointer');},function(){$(this).css('cursor','default');});};this.enableCloseHistoryButtons=function(options)
{var closeHistoryBtns=$(options['close_history_buttons']);closeHistoryBtns.unbind('click.apostrophe').bind('click.apostrophe',function(){_closeHistory();});};this.enablePageSettingsButtons=function(options)
{var aPageSettingsURL=options['aPageSettingsURL'];var aPageSettingsCreateURL=options['aPageSettingsCreateURL'];apostrophe.menuToggle({"button":"#a-page-settings-button","classname":"","overlay":true,"beforeOpen":function(){$.ajax({type:'POST',dataType:'html',success:function(data,textStatus){$('#a-page-settings').html(data);},complete:function(XMLHttpRequest,textStatus){},url:aPageSettingsURL});},"afterClosed":function(){$('#a-page-settings').html('');}});apostrophe.menuToggle({"button":"#a-create-page-button","classname":"","overlay":true,"beforeOpen":function(){$.ajax({type:'POST',dataType:'html',success:function(data,textStatus){$('#a-create-page').html(data);},complete:function(XMLHttpRequest,textStatus){},url:aPageSettingsCreateURL});},"afterClosed":function(){$('#a-create-page').html('');}});};this.enableUserAdmin=function(options)
{$('.a-admin #a-admin-filters-container #a-admin-filters-form .a-form-row .a-admin-filter-field br').replaceWith('<div class="a-spacer"></div>');aMultipleSelectAll({'choose-one':options['choose-one-label']});};this.enhanceAdmin=function(options)
{apostrophe.log('apostrophe.enhanceAdmin');var sortLabel=$("a.a-sort-label").parent().parent();if(sortLabel.length)
{sortLabel.unbind('click.sortLabel').bind('click.sortLabel',function(){var thisSortLabel=$(this).find('a.a-sort-label');thisSortLabel.focus();$(this).addClass('show-filters').find(".filternav").show();$(this).parent().hover(function(){},function(){thisSortLabel.blur();$(this).find('ul').removeClass('show-filters');$(this).find(".filternav").fadeOut();});return false;});};$('#a-admin-list-batch-checkbox-toggle').unbind('click.batchToggle').bind('click.batchToggle',function(){$('.a-admin-batch-checkbox').each(function(){$(this)[0].checked=!$(this)[0].checked;});});};this.setupPreviewToggle=function(options)
{editToggle=$('.a-preview');editToggle.click(function(e){e.preventDefault();$(this).toggleClass('a-previewing');refresh();});var remember=$.cookie('apostrophe_preview');if(remember==='1'){editToggle.addClass('a-previewing');}
else
{editToggle.removeClass('a-previewing');}
refresh();function refresh()
{if(editToggle.hasClass('a-previewing'))
{editToggle.removeClass('a-search').addClass('a-edit');editToggle.find('.label').html(options.labels.edit);$.cookie('apostrophe_preview','1');apostrophe.hideEditControls();}
else
{editToggle.removeClass('a-edit').addClass('a-search');editToggle.find('.label').html(options.labels.preview);$.cookie('apostrophe_preview','0');apostrophe.showEditControls();}}};this.showEditControls=function(){$('body').removeClass('a-hide-edit-controls').addClass('a-show-edit-controls');};this.hideEditControls=function(){apostrophe.log("hiding edit controls");$('body').removeClass('a-show-edit-controls').addClass('a-hide-edit-controls');};function slotUpdateMoveButtons(id,name,slot,n,slots,updateAction)
{var up=$(slot).find('.a-arrow-up:first');var down=$(slot).find('.a-arrow-down:first');if(n>0)
{up.parent().removeClass('a-hidden');up.unbind('click.apostrophe').bind('click.apostrophe',function(){if($(slot).hasClass('a-editing')||$(slots[n-1]).hasClass('a-editing'))
{alert(apostrophe.messages.save_changes_first);return false;}
$.get(updateAction,{id:id,name:name,permid:$(slot).data('a-permid'),up:1});$(slot).find('.a-needs-update').trigger('a.update');$(slots[n-1]).find('.a-needs-update').trigger('a.update');apostrophe.swapNodes(slot,slots[n-1]);apostrophe.areaUpdateMoveButtons(updateAction,id,name);return false;});}
else
{up.parent().addClass('a-hidden');}
if(n<(slots.length-1))
{down.parent().removeClass('a-hidden');down.unbind('click.apostrophe').bind('click.apostrophe',function(){if($(slot).hasClass('a-editing')||$(slots[n+1]).hasClass('a-editing'))
{alert(apostrophe.messages.save_changes_first);return false;}
$.get(updateAction,{id:id,name:name,permid:$(slot).data('a-permid'),up:0});$(slot).find('.a-needs-update').trigger('a.update');$(slots[n+1]).find('.a-needs-update').trigger('a.update');apostrophe.swapNodes(slot,slots[n+1]);apostrophe.areaUpdateMoveButtons(updateAction,id,name);return false;});}
else
{down.parent().addClass('a-hidden');}}
this.supportsFileInput=function()
{var dummy=document.createElement("input");dummy.setAttribute("type","file");if(dummy.disabled)
{return false;}
var ua=navigator.userAgent.toLowerCase();var isAndroid=ua.indexOf("android")>-1;if(isAndroid)
{return false;}
return true;}
function slotShowEditViewPreloaded(pageid,name,permid)
{var fullId=pageid+'-'+name+'-'+permid;var editBtn=$('#a-slot-edit-'+fullId);var editSlot=$('#a-slot-'+fullId);var editArea=editSlot.closest('.a-area');var editContainers=editSlot.add(editArea);editContainers.addClass('a-editing').removeClass('a-normal');editSlot.children('.a-slot-content').children('.a-slot-content-container').hide();editSlot.children('.a-slot-content').children('.a-slot-form').fadeIn();editSlot.children('.a-control li.variant').hide();}
function _browseHistory(area)
{var areaControls=area.find('ul.a-area-controls');var areaControlsTop=areaControls.offset().top;$('.a-page-overlay').fadeIn();if(!area.hasClass('browsing-history'))
{$('.a-history-browser .a-history-items').html('<tr class="a-history-item"><td class="date"><img src="\/apostrophePlugin\/images\/a-icon-loader-2.gif"><\/td><td class="editor"><\/td><td class="preview"><\/td><\/tr>');area.addClass('browsing-history');}
$('.a-history-browser').css('top',(areaControlsTop-5)+"px");$('.a-history-browser').fadeIn();$('.a-page-overlay').bind('click.apostrophe',function(){_closeHistory();$(this).unbind('click');});$('#a-history-preview-notice-toggle').bind('click.apostrophe',function(){$('.a-history-preview-notice').children(':not(".a-history-options")').slideUp();});}
function _closeHistory()
{$('a.a-history-btn').parents('.a-area').removeClass('browsing-history');$('a.a-history-btn').parents('.a-area').removeClass('previewing-history');$('.a-history-browser, .a-history-preview-notice').hide();$('body').removeClass('history-preview');$('.a-page-overlay').hide();}
function _pageTemplateToggle(aPageTypeSelect,aPageTemplateSelect)
{}
function _menuToggle(button,menu,classname,overlay,beforeOpen,afterClosed,afterOpen,beforeClosed,focus,debug)
{if(menu.attr('id')=='')
{var newID=button.attr('id')+'-menu';menu.attr('id',newID).addClass('a-options-container');}
$(document).unbind('keyup.'+menu.attr('id')).bind('keyup.'+menu.attr('id'),function(event){if(event.keyCode===27){apostrophe.log('apostrophe.menuToggle -- ESC')
if(menu.hasClass(classname))
{apostrophe.log('apostrophe.menuToggle -- ESC Pressed: keyup.'+menu.attr('id'))
menu.trigger('toggleClosed');return false;}}});button.unbind('click.menuToggle').bind('click.menuToggle',function(event){event.preventDefault();if(!button.hasClass('aActiveMenu'))
{menu.trigger('toggleOpen');}
else
{menu.trigger('toggleClosed');}});button.addClass('a-options-button');if(beforeOpen){menu.bind('beforeOpen',beforeOpen);}
if(afterClosed){menu.bind('afterClosed',afterClosed);}
if(afterOpen){menu.bind('afterOpen',afterOpen);}
if(beforeClosed){menu.bind('beforeClosed',beforeClosed);}
var clickHandler=function(event){var target=$(event.target);if((target.closest(button.selector).length==0)&&(target.closest('.a-page-form, .a-blog-admin-new-ajax').length==0))
{if(target.closest('#'+menu.attr('id')).length==0){menu.trigger('toggleClosed');};}
else if(overlay&&target.closest(overlay.selector).length)
{aLog('second click type')
menu.trigger('toggleClosed');}
else if(target.closest('.a-cancel').length)
{aLog('third click type')
menu.trigger('toggleClosed');}}
menu.unbind('toggleOpen').bind('toggleOpen',function(){menu.trigger('beforeOpen');button.addClass('aActiveMenu');menu.parents().addClass('ie-z-index-fix');button.closest('.a-controls').addClass('aActiveMenu');menu.addClass(classname);if(overlay){overlay.fadeIn();}
$(document).bind('click.menuToggleClickHandler',clickHandler);if(focus){$(focus).focus();};menu.trigger('afterOpen');});menu.unbind('toggleClosed').bind('toggleClosed',function(){menu.trigger('beforeClosed');button.removeClass('aActiveMenu');menu.parents().removeClass('ie-z-index-fix');button.closest('.a-controls').removeClass('aActiveMenu');menu.removeClass(classname);if(overlay){overlay.hide();};$(document).unbind('click.menuToggleClickHandler');menu.trigger('afterClosed');});$('#'+menu.attr('id')+' .a-cancel').die('click.aMenuToggle').live('click.aMenuToggle',function(e){e.preventDefault();menu.trigger('toggleClosed');return false;});}}
function aCall(callback){if(typeof(callback)==='function')
{callback();};}
window.apostrophe=new aConstructor();function aLog(output){apostrophe.log(output);}
function aMultipleSelectAll(options)
{if(options===undefined)
{options={};}
$(document).ready(function(){aMultipleSelect('body',options);});}
function aMultipleSelect(target,options)
{if(options===undefined)
{options={};}
$(target).find('select[multiple]').each(function(i){var name=$(this).attr('name');var id=$(this).attr('id');var values=[];var labels=[];var selected=[];var j;var autocomplete=false;if(options['autocomplete']!==undefined)
{autocomplete=options['autocomplete'];}
if(options['choose-one'])
{values.push('');labels.push(options['choose-one']);selected.push(false);}
for(j=0;(j<this.options.length);j++)
{var option=this.options[j];values.push(option.value);labels.push(option.innerHTML);selected.push(option.getAttribute('selected')||option.selected);}
var length=values.length;var addIndex=undefined;if(options['add']){var addIndex=values.length;values.push('_new');labels.push(options['add']);selected.push(false);var addName=name+'_add';if(name.substr(name.length-3)==='][]')
{addName=name.substr(0,name.length-3)+'_add][]';}
else if(name.substr(name.length-2)==='[]')
{addName=name.substr(0,name.length-2)+'_add[]';}
else if(name.substr(name.length-1)===']')
{addName=name.substr(0,name.length-1)+'_add]';}}
if(id===''||(options['random_id']!==undefined&&options['random_id']))
{id='a_id_'+Math.floor(Math.random()*1000000000);}
var html="<div class='a-multiple-select' id='"+id+"'>";if(options['add-add-label']===undefined)
{options['add-add-label']='Add';}
if(autocomplete)
{html+='<div class="a-autocomplete">\n';html+="<input type='text' />";html+='</div>\n';}
else
{html+="<select class='a-multiple-select-input' ";html+="name='select-"+name+"'></select>\n";}
if(addIndex!==undefined)
{if(options['add-cancel-label']===undefined)
{options['add-cancel-label']='Cancel';}
html+='<div class="add" style="display: none">\n';html+='<input name="add-text" class="add-text" type="text">\n';html+='<a href="#add" onclick="return false;" class="add-add a-btn icon a-add"><span class="icon"></span>'+options['add-add-label']+'</a>\n';html+='<a href="#cancel" onclick="return false;" class="a-btn icon a-cancel alt add-cancel no-label"><span class="icon"></span>'+options['add-cancel-label']+'</a>\n';html+='</div>\n';}
for(j=0;(j<length);j++)
{html+="<input type='checkbox' name='"+name+"'";if(options['class-name']!==undefined)
{html+="class='"+options['class-name']+"'";}
if(selected[j])
{html+=" checked";}
html+=" value=\""+aHtmlEscape(values[j])+"\" style='display: none'/>";}
html+="<ul class='a-ui a-multiple-select-list'>";if(!options['remove'])
{options['remove']=' <span class="icon"></span><span>Remove</span>';}
for(j=0;(j<length);j++)
{html+=liHtml(labels[j],options);}
html+="</ul>\n";html+="<div class='a-multiple-select-after'></div>\n";html+="</div>\n";$(this).replaceWith(html);var container=$('#'+id);container.find('.add-cancel').click(function(){container.find('.add').hide();return false;});container.find('.add-add').click(function(){doSaveAdd();});container.find('.add-text').keypress(function(event){if(event.keyCode=='13'){event.preventDefault();doSaveAdd();};});function doSaveAdd()
{container.find('.add').hide();var addText=container.find('.add-text');var v=addText.val();addText.val('');var ev=aHtmlEscape(v);if(v.length&&(!containsLabel(v)))
{container.append("<input type='checkbox' name='"+addName+"' value='"+ev+"' style='display: none' checked />");var remover=$(liHtml(v,options));remover.click(function(){container.find('input[type=checkbox]').filter(function(){return $(this).val()===ev}).remove();$(this).remove();onChange();return false;});container.find('ul').append(remover);remover.show();onChange();}
return false;}
var select=$("#"+id+" select");var k;var items=$('#'+id+' ul li');for(k=0;(k<length);k++)
{$(items[k]).data("boxid",values[k]);$(items[k]).click(function(){update($(this).data("boxid"),false);return false;});}
var autocompleteText=container.find('.a-autocomplete').find('input[type=text]');autocompleteText.autocomplete({source:autocomplete,focus:function(event,ui){autocompleteText.val(ui.item.label);return false;},select:function(event,ui){apostrophe.log('select');autocompleteText.val('');if(!container.find('input[type=checkbox]').filter(function(){return $(this).val()===String(ui.item.value)}).length)
{var newBox=$('<input type="checkbox" />');newBox[0].style.display='none';newBox.attr('name',name);newBox.val(ui.item.value);container.append(newBox);var li=$(liHtml(ui.item.label,options));li.data("boxid",String(ui.item.value));li.click(function(){update($(this).data("boxid"),false);return false;});container.find('ul').append(li);}
update(false,false,String(ui.item.value));return false;}});function update(remove,initial,add)
{var value=false;if(add!==undefined)
{value=add;}
var ul=$("#"+id+" ul");if(!autocomplete)
{var select=$("#"+id+" select")[0];var index=select.selectedIndex;}
if(!autocomplete)
{if(index>0)
{if((index===select.length-1)&&options['add'])
{select.selectedIndex=0;$("#"+id+" .add").fadeIn().children('input').focus();return;}
value=select.options[index].value;}}
var boxes=$('#'+id+" input[type=checkbox]");boxes.each(function()
{if($(this).val()===remove)
{$(this).attr('checked',false);}
else if($(this).val()===value)
{$(this).attr('checked',true);}});var items=$('#'+id+' ul li');var k;var html;if(autocomplete)
{length=items.length;}
for(k=0;(k<length);k++)
{if($(boxes[k]).is(':checked'))
{$(items[k]).show();}
else
{$(items[k]).hide();if(!autocomplete)
{html+="<option ";if(k==0)
{html+=" selected ";}
html+="value=\""+aHtmlEscape(values[k])+"\">"+
labels[k]+"</option>";}}}
if(addIndex!==undefined)
{html+="<option value=\"_new\">"+labels[addIndex]+"</option>";}
if(!autocomplete)
{$(select).replaceWith("<select class='a-multiple-select-input' name='select-"+name+"'>"+html+"</select>");$("#"+id+" select").change(function(){update(false,false);});}
if(!initial)
{onChange();}}
function onChange()
{if(options['onChange'])
{var div=$('#'+id);options['onChange'](div,div.parents('form'));}}
function aHtmlEscape(html)
{html=html.replace('&','&amp;');html=html.replace('<','&lt;');html=html.replace('>','&gt;');html=html.replace('"','&quot;');html=html.replace("'",'&#39;');return html;}
function liHtml(label,options)
{return'<li class="a-multiple-select-item" style="display: none;"><a href="#" class="a-link icon icon-right a-close-small alt" title="Remove '+label+'"><span class="label">'+label+'</span><span class="icon">'+options['remove']+'</span></a></li>\n';}
function containsLabel(v)
{var container=$('#'+id);if($.inArray(v,labels)!==-1)
{return true;}
var found=false;$(container).find('input[type=checkbox]').each(function(){if($(this).val()===v)
{found=true;}});return found;}
update(false,true);});}
function aRadioSelect(target,options)
{$(target).each(function(i){if($(this).data('a-radio-select-applied'))
{return;}
$(this).hide();$(this).data('a-radio-select-applied',1);var html="";var links="";var j;var total=this.options.length;linkTemplate=getOption("linkTemplate","<a href='#'>_LABEL_</a>");spanTemplate=getOption("spanTemplate","<span class='a-radio-select-container'>_LINKS_</span>");betweenLinks=getOption("betweenLinks"," ");autoSubmit=getOption("autoSubmit",false);for(j=0;(j<this.options.length);j++)
{if(j>0)
{links+=betweenLinks;}
links+=linkTemplate.replace("_LABEL_",$(this.options[j]).html());}
span=$(spanTemplate.replace("_LINKS_",links));var select=this;links=span.find('a');$(links[select.selectedIndex]).addClass('a-radio-option-selected');links.each(function(j)
{$(this).data("aIndex",j);$(this).addClass('option-'+j);if(j==0)
{$(this).addClass('first');}
if(j==total-1)
{$(this).addClass('last');}
$(this).click(function(e)
{select.selectedIndex=$(this).data("aIndex");var parent=($(this).parent());parent.find('a').removeClass('a-radio-option-selected');$(this).addClass('a-radio-option-selected');if(autoSubmit)
{select.form.submit();}
return false;});});$(this).after(span);function getOption(name,def)
{if(name in options)
{return options[name];}
else
{return def;}}});}
function aSelectToList(selector,options)
{$(selector).each(function(i){$(this).hide();var total=this.options.length;var html="<ul>";var selectElement=this;var tags=options['tags'];var popular=false;var alpha=false;var all=true;var itemTemplate=options['itemTemplate'];if(!itemTemplate)
{if(tags)
{itemTemplate="_LABEL_ <span class='a-tag-count'>_COUNT_";}
else
{itemTemplate="_LABEL_";}}
var currentTemplate;if(tags)
{popular=options['popular'];all=options['all'];alpha=options['alpha'];}
if(options['currentTemplate'])
{currentTemplate=options['currentTemplate'];}
else
{currentTemplate="<h5>_LABEL_ <a href='#'><font color='red'><i>x</i></font></a></h5>";}
var data=[];var re=/^(.*)?\s+\((\d+)\)\s*$/;index=-1;for(i=0;(i<total);i++)
{var html=this.options[i].innerHTML;if(tags)
{var result=re.exec(html);if(result)
{data.push({label:result[1],count:result[2],value:this.options[i].value});}
else
{continue;}}
else
{if((this.options[i].value+'')!=='')
{data.push({label:html,value:this.options[i].value});}
else
{continue;}}
if(selectElement.selectedIndex==i)
{index=data.length-1;}}
if(all)
{var sorted=data.slice();if(alpha)
{sorted=sorted.sort(sortItemsAlpha);}
var lclass=options['listAllClass'];var allList=appendList(sorted,lclass);if(!options['allVisible'])
{allList.hide();}
if(options['allLabel'])
{var allLabel=$(options['allLabel']);if(allLabel)
{var a=allLabel.find('a');if(a)
{a.click(function()
{allList.toggle("slow");return false;});}}
$(selectElement).after(allLabel);}}
if(popular)
{var sorted=data.slice();sorted=sorted.sort(sortItemsPopular);sorted=sorted.slice(0,popular);appendList(sorted,options['listPopularClass']);if(options['popularLabel'])
{$(selectElement).after($(options['popularLabel']));}}
if(index>=0)
{var current=currentTemplate;current=current.replace("_LABEL_",data[index].label);current=current.replace("_COUNT_",data[index].count);current=$(current);var a=current.find('a');a.click(function()
{selectElement.selectedIndex=0;$(selectElement.form).submit();return false;});$(selectElement).after(current);}
function appendList(data,c)
{var list=$('<ul></ul>');if(c)
{list.addClass(c);}
for(i=0;(i<data.length);i++)
{var item=itemTemplate;if(tags)
{item=item.replace("_COUNT_",data[i].count);}
item=item.replace("_LABEL_",data[i].label);var liHtml="<li><a href='#'>"+item+"</a></li>";var li=$(liHtml);var a=li.find('a');a.data('label',data[i].label);a.data('value',data[i].value);a.click(function(){$(selectElement).val($(this).data('value'));$(selectElement.form).submit();return false;});list.append(li);}
$(selectElement).after(list);return list;}});function sortItemsAlpha(a,b)
{x=a.label.toLowerCase();y=b.label.toLowerCase();return x>y?1:x<y?-1:0;}
function sortItemsPopular(a,b)
{return b.count-a.count;}}
function aInputSelfLabel(selector,label,select,focus,persistentLabel)
{var aInput=$(selector);aInput.each(function(){setLabelIfNeeded(this);$(this).addClass('a-default-value');});if(focus)
{aInput.focus();};aInput.focus(function(){var v=$(this).val();if(v===label)
{if(select)
{aInput.select();}
else
{if(persistentLabel)
{aInput.aSetCursorPosition(0);}
else
{clearLabelIfNeeded(this);};}};});aInput.keydown(function(){clearLabelIfNeeded(this);});aInput.blur(function(){setLabelIfNeeded(this);});function setLabelIfNeeded(e)
{var v=$(e).val();if(v==='')
{$(e).val(label).addClass('a-default-value');}}
function clearLabelIfNeeded(e)
{var v=$(e).val();if(v===label)
{$(e).val('').removeClass('a-default-value');}}}
function aCheckboxEnables(boxSelector,enablesItemsSelector,showsItemsSelector,disablesItemsSelector,hidesItemsSelector)
{$(boxSelector).data('aCheckboxEnablesSelectors',[enablesItemsSelector,showsItemsSelector,disablesItemsSelector,hidesItemsSelector]);$(boxSelector).click(function()
{update(this);});function bumpEnabled(selector,show)
{if(selector===undefined)
{return;}
$(selector).each(function(){var counter=$(this).data('aCheckboxEnablesEnableCounter');if(counter<0)
{counter++;$(this).data('aCheckboxEnablesEnableCounter',counter);}
if(counter>=0)
{if(show)
{$(this).show();}
else
{$(this).removeAttr('disabled');}}});}
function bumpDisabled(selector,hide)
{if(selector===undefined)
{return;}
$(selector).each(function(){var counter=$(this).data('aCheckboxEnablesEnableCounter');if(counter===undefined)
{counter=0;}
counter--;$(this).data('aCheckboxEnablesEnableCounter',counter);if(hide)
{$(this).hide();}
else
{$(this).attr('disabled','disabled');}});}
function update(checkbox)
{var selectors=$(checkbox).data('aCheckboxEnablesSelectors');var checked=$(checkbox).attr('checked');if(checked)
{bumpEnabled(selectors[0],false);bumpEnabled(selectors[1],true);bumpDisabled(selectors[2],false);bumpDisabled(selectors[3],true);}
else
{bumpDisabled(selectors[0],false);bumpDisabled(selectors[1],true);bumpEnabled(selectors[2],false);bumpEnabled(selectors[3],true);}}
$(function(){$(boxSelector).each(function(){update(this)});});}
function aSelectEnables(selectSelector,itemsSelectors,hideItemsSelectors)
{$(selectSelector).data('aSelectEnablesItemsSelectors',itemsSelectors);$(selectSelector).data('aSelectEnablesHideItemsSelectors',hideItemsSelectors);$(selectSelector).change(function(){update(this);});function update(select)
{var itemsSelectors=$(select).data('aSelectEnablesItemsSelectors');var hideItemsSelectors=$(select).data('aSelectEnablesHideItemsSelectors');if(itemsSelectors!==undefined)
{for(var option in itemsSelectors)
{$(itemsSelectors[option]).attr('disabled','disabled');}
var option=select.value;if(itemsSelectors[option])
{$(itemsSelectors[option]).removeAttr('disabled');}}
if(hideItemsSelectors!==undefined)
{for(var option in hideItemsSelectors)
{$(hideItemsSelectors[option]).hide();}
var option=select.value;if(hideItemsSelectors[option])
{$(hideItemsSelectors[option]).show();}}}
$(function(){$(selectSelector).each(function(){update(this)});});}
function aBusy(selector)
{$(selector).each(function(){$(this).data('a-busy-html',$(this).html());$(this).html("<img src=\"/apostrophePlugin/images/a-icon-loader-2.gif\"/>");});}
function aReady(selector)
{$(selector).each(function(){$(this).html($(this).data('a-busy-html'));});}
function aSelectToStatic(selector)
{$(selector).find('select').each(function(){if((this.options.length==1)&&(this.options[0].selected))
{$(this).after('<span class="a-static-select">'+this.options[0].innerHTML+'</span>');$(this).hide();}});}
new function($){$.fn.aSetCursorPosition=function(pos){var $this=$(this).get(0);if($this.setSelectionRange){$this.setSelectionRange(pos,pos);}else if($this.createTextRange){var range=$this.createTextRange();range.collapse(true);range.moveEnd('character',pos);range.moveStart('character',pos);range.select();}}}(jQuery);new function($){$.fn.aRemoteSubmit=function(update){var rBtn=$(this);rBtn.click(function(event){event.preventDefault();var rForm=rBtn.closest('form');var rFormURL=rForm.attr('action');$.ajax({type:'POST',url:rFormURL,dataType:'html',data:rForm.serialize(),success:function(data){$(update).html(data);}});});};}(jQuery);new function($)
{$.fn.isChildOf=function(b){return(this.parents(b).length>0);};}(jQuery);
if(!this.JSON){this.JSON={};}
(function(){function f(n){return n<10?'0'+n:n;}
if(typeof Date.prototype.toJSON!=='function'){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+'-'+
f(this.getUTCMonth()+1)+'-'+
f(this.getUTCDate())+'T'+
f(this.getUTCHours())+':'+
f(this.getUTCMinutes())+':'+
f(this.getUTCSeconds())+'Z':null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}
var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==='string'?c:'\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+string+'"';}
function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==='object'&&typeof value.toJSON==='function'){value=value.toJSON(key);}
if(typeof rep==='function'){value=rep.call(holder,key,value);}
switch(typeof value){case'string':return quote(value);case'number':return isFinite(value)?String(value):'null';case'boolean':case'null':return String(value);case'object':if(!value){return'null';}
gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==='[object Array]'){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||'null';}
v=partial.length===0?'[]':gap?'[\n'+gap+
partial.join(',\n'+gap)+'\n'+
mind+']':'['+partial.join(',')+']';gap=mind;return v;}
if(rep&&typeof rep==='object'){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==='string'){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?': ':':')+v);}}}}
v=partial.length===0?'{}':gap?'{\n'+gap+partial.join(',\n'+gap)+'\n'+
mind+'}':'{'+partial.join(',')+'}';gap=mind;return v;}}
if(typeof JSON.stringify!=='function'){JSON.stringify=function(value,replacer,space){var i;gap='';indent='';if(typeof space==='number'){for(i=0;i<space;i+=1){indent+=' ';}}else if(typeof space==='string'){indent=space;}
rep=replacer;if(replacer&&typeof replacer!=='function'&&(typeof replacer!=='object'||typeof replacer.length!=='number')){throw new Error('JSON.stringify');}
return str('',{'':value});};}
if(typeof JSON.parse!=='function'){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==='object'){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}
return reviver.call(holder,key,value);}
text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return'\\u'+
('0000'+a.charCodeAt(0).toString(16)).slice(-4);});}
if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,'@').replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,']').replace(/(?:^|:|,)(?:\s*\[)+/g,''))){j=eval('('+text+')');return typeof reviver==='function'?walk({'':j},''):j;}
throw new SyntaxError('JSON.parse');};}}());
(function(jQuery){jQuery.fn.simpleautogrow=function(){return this.each(function(){new jQuery.simpleautogrow(this);});};jQuery.simpleautogrow=function(e){var self=this;var $e=this.textarea=jQuery(e).css({overflow:'hidden',display:'block'}).bind('focus',function(){this.timer=window.setInterval(function(){self.checkExpand();},200);}).bind('blur',function(){clearInterval(this.timer);});this.border=$e.outerHeight()-$e.innerHeight();this.clone=$e.clone().css({position:'absolute',visibility:'hidden'}).attr('name','')
$e.height(e.scrollHeight+this.border).after(this.clone);this.checkExpand();};jQuery.simpleautogrow.prototype.checkExpand=function(){var target_height=this.clone[0].scrollHeight+this.border;if(this.textarea.outerHeight()!=target_height)
this.textarea.height(target_height+'px');this.clone.attr('value',this.textarea.attr('value')).height(0);};})(jQuery);
﻿
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}
if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover);};})(jQuery);
;(function(d){var k=d.scrollTo=function(a,i,e){d(window).scrollTo(a,i,e)};k.defaults={axis:'xy',duration:parseFloat(d.fn.jquery)>=1.3?0:1};k.window=function(a){return d(window)._scrollable()};d.fn._scrollable=function(){return this.map(function(){var a=this,i=!a.nodeName||d.inArray(a.nodeName.toLowerCase(),['iframe','#document','html','body'])!=-1;if(!i)return a;var e=(a.contentWindow||a).document||a.ownerDocument||a;return d.browser.safari||e.compatMode=='BackCompat'?e.body:e.documentElement})};d.fn.scrollTo=function(n,j,b){if(typeof j=='object'){b=j;j=0}if(typeof b=='function')b={onAfter:b};if(n=='max')n=9e9;b=d.extend({},k.defaults,b);j=j||b.speed||b.duration;b.queue=b.queue&&b.axis.length>1;if(b.queue)j/=2;b.offset=p(b.offset);b.over=p(b.over);return this._scrollable().each(function(){var q=this,r=d(q),f=n,s,g={},u=r.is('html,body');switch(typeof f){case'number':case'string':if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(f)){f=p(f);break}f=d(f,this);case'object':if(f.is||f.style)s=(f=d(f)).offset()}d.each(b.axis.split(''),function(a,i){var e=i=='x'?'Left':'Top',h=e.toLowerCase(),c='scroll'+e,l=q[c],m=k.max(q,i);if(s){g[c]=s[h]+(u?0:l-r.offset()[h]);if(b.margin){g[c]-=parseInt(f.css('margin'+e))||0;g[c]-=parseInt(f.css('border'+e+'Width'))||0}g[c]+=b.offset[h]||0;if(b.over[h])g[c]+=f[i=='x'?'width':'height']()*b.over[h]}else{var o=f[h];g[c]=o.slice&&o.slice(-1)=='%'?parseFloat(o)/100*m:o}if(/^\d+$/.test(g[c]))g[c]=g[c]<=0?0:Math.min(g[c],m);if(!a&&b.queue){if(l!=g[c])t(b.onAfterFirst);delete g[c]}});t(b.onAfter);function t(a){r.animate(g,j,b.easing,a&&function(){a.call(this,n,b)})}}).end()};k.max=function(a,i){var e=i=='x'?'Width':'Height',h='scroll'+e;if(!d(a).is('html,body'))return a[h]-d(a)[e.toLowerCase()]();var c='client'+e,l=a.ownerDocument.documentElement,m=a.ownerDocument.body;return Math.max(l[h],m[h])-Math.min(l[c],m[c])};function p(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);
/*
 * jQuery UI 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(c,j){function k(a){return!c(a).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"1.8.11",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({_focus:c.fn.focus,focus:function(a,b){return typeof a==="number"?this.each(function(){var d=this;setTimeout(function(){c(d).focus();b&&b.call(d)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==j)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(a,b){function d(f,g,l,m){c.each(e,function(){g-=parseFloat(c.curCSS(f,"padding"+this,true))||0;if(l)g-=parseFloat(c.curCSS(f,"border"+this+"Width",true))||0;if(m)g-=parseFloat(c.curCSS(f,"margin"+this,true))||0});return g}var e=b==="Width"?["Left","Right"]:["Top","Bottom"],h=b.toLowerCase(),i={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(f){if(f===j)return i["inner"+b].call(this);return this.each(function(){c(this).css(h,d(this,f)+"px")})};c.fn["outer"+b]=function(f,g){if(typeof f!=="number")return i["outer"+b].call(this,f);return this.each(function(){c(this).css(h,d(this,f,true,g)+"px")})}});c.extend(c.expr[":"],{data:function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){var b=a.nodeName.toLowerCase(),d=c.attr(a,"tabindex");if("area"===b){b=a.parentNode;d=b.name;if(!a.href||!d||b.nodeName.toLowerCase()!=="map")return false;a=c("img[usemap=#"+d+"]")[0];return!!a&&k(a)}return(/input|select|textarea|button|object/.test(b)?!a.disabled:"a"==b?a.href||!isNaN(d):!isNaN(d))&&k(a)},tabbable:function(a){var b=c.attr(a,"tabindex");return(isNaN(b)||b>=0)&&c(a).is(":focusable")}});c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=b.offsetHeight===100;c.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"});c.extend(c.ui,{plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,d[e]])}},call:function(a,b,d){if((b=a.plugins[b])&&a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&b[e][1].apply(a.element,d)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(a,b){if(c(a).css("overflow")==="hidden")return false;b=b&&b==="left"?"scrollLeft":"scrollTop";var d=false;if(a[b]>0)return true;a[b]=1;d=a[b]>0;a[b]=0;return d},isOverAxis:function(a,b,d){return a>b&&a<b+d},isOver:function(a,b,d,e,h,i){return c.ui.isOverAxis(a,d,h)&&c.ui.isOverAxis(b,e,i)}})}})(jQuery);;
/*
 * jQuery UI Widget 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(b,j){if(b.cleanData){var k=b.cleanData;b.cleanData=function(a){for(var c=0,d;(d=a[c])!=null;c++)b(d).triggerHandler("remove");k(a)}}else{var l=b.fn.remove;b.fn.remove=function(a,c){return this.each(function(){if(!c)if(!a||b.filter(a,[this]).length)b("*",this).add([this]).each(function(){b(this).triggerHandler("remove")});return l.call(b(this),a,c)})}}b.widget=function(a,c,d){var e=a.split(".")[0],f;a=a.split(".")[1];f=e+"-"+a;if(!d){d=c;c=b.Widget}b.expr[":"][f]=function(h){return!!b.data(h,a)};b[e]=b[e]||{};b[e][a]=function(h,g){arguments.length&&this._createWidget(h,g)};c=new c;c.options=b.extend(true,{},c.options);b[e][a].prototype=b.extend(true,c,{namespace:e,widgetName:a,widgetEventPrefix:b[e][a].prototype.widgetEventPrefix||a,widgetBaseClass:f},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(a,c){b.fn[a]=function(d){var e=typeof d==="string",f=Array.prototype.slice.call(arguments,1),h=this;d=!e&&f.length?b.extend.apply(null,[true,d].concat(f)):d;if(e&&d.charAt(0)==="_")return h;e?this.each(function(){var g=b.data(this,a),i=g&&b.isFunction(g[d])?g[d].apply(g,f):g;if(i!==g&&i!==j){h=i;return false}}):this.each(function(){var g=b.data(this,a);g?g.option(d||{})._init():b.data(this,a,new c(d,this))});return h}};b.Widget=function(a,c){arguments.length&&this._createWidget(a,c)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(a,c){b.data(c,this.widgetName,this);this.element=b(c);this.options=b.extend(true,{},this.options,this._getCreateOptions(),a);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(a,c){var d=a;if(arguments.length===0)return b.extend({},this.options);if(typeof a==="string"){if(c===j)return this.options[a];d={};d[a]=c}this._setOptions(d);return this},_setOptions:function(a){var c=this;b.each(a,function(d,e){c._setOption(d,e)});return this},_setOption:function(a,c){this.options[a]=c;if(a==="disabled")this.widget()[c?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",c);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(a,c,d){var e=this.options[a];c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent){a=b.event.props.length;for(var f;a;){f=b.event.props[--a];c[f]=c.originalEvent[f]}}this.element.trigger(c,d);return!(b.isFunction(e)&&e.call(this.element[0],c,d)===false||c.isDefaultPrevented())}}})(jQuery);;
/*
 * jQuery UI Mouse 1.8.11
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 * jquery.ui.widget.js
 */
(function(b){b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(true===b.data(c.target,a.widgetName+".preventClickEvent")){b.removeData(c.target,a.widgetName+".preventClickEvent");c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var c=this,e=a.which==1,f=typeof this.options.cancel=="string"?b(a.target).parents().add(a.target).filter(this.options.cancel).length:false;if(!e||f||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true}}true===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(d){return c._mouseMove(d)};this._mouseUpDelegate=function(d){return c._mouseUp(d)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=true}},_mouseMove:function(a){if(b.browser.msie&&!(document.documentMode>=9)&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;a.target==this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",true);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);;(function(c){c.ui=c.ui||{};var n=/left|center|right/,o=/top|center|bottom/,t=c.fn.position,u=c.fn.offset;c.fn.position=function(b){if(!b||!b.of)return t.apply(this,arguments);b=c.extend({},b);var a=c(b.of),d=a[0],g=(b.collision||"flip").split(" "),e=b.offset?b.offset.split(" "):[0,0],h,k,j;if(d.nodeType===9){h=a.width();k=a.height();j={top:0,left:0}}else if(d.setTimeout){h=a.width();k=a.height();j={top:a.scrollTop(),left:a.scrollLeft()}}else if(d.preventDefault){b.at="left top";h=k=0;j={top:b.of.pageY,left:b.of.pageX}}else{h=a.outerWidth();k=a.outerHeight();j=a.offset()}c.each(["my","at"],function(){var f=(b[this]||"").split(" ");if(f.length===1)f=n.test(f[0])?f.concat(["center"]):o.test(f[0])?["center"].concat(f):["center","center"];f[0]=n.test(f[0])?f[0]:"center";f[1]=o.test(f[1])?f[1]:"center";b[this]=f});if(g.length===1)g[1]=g[0];e[0]=parseInt(e[0],10)||0;if(e.length===1)e[1]=e[0];e[1]=parseInt(e[1],10)||0;if(b.at[0]==="right")j.left+=h;else if(b.at[0]==="center")j.left+=h/2;if(b.at[1]==="bottom")j.top+=k;else if(b.at[1]==="center")j.top+=k/2;j.left+=e[0];j.top+=e[1];return this.each(function(){var f=c(this),l=f.outerWidth(),m=f.outerHeight(),p=parseInt(c.curCSS(this,"marginLeft",true))||0,q=parseInt(c.curCSS(this,"marginTop",true))||0,v=l+p+(parseInt(c.curCSS(this,"marginRight",true))||0),w=m+q+(parseInt(c.curCSS(this,"marginBottom",true))||0),i=c.extend({},j),r;if(b.my[0]==="right")i.left-=l;else if(b.my[0]==="center")i.left-=l/2;if(b.my[1]==="bottom")i.top-=m;else if(b.my[1]==="center")i.top-=m/2;i.left=Math.round(i.left);i.top=Math.round(i.top);r={left:i.left-p,top:i.top-q};c.each(["left","top"],function(s,x){c.ui.position[g[s]]&&c.ui.position[g[s]][x](i,{targetWidth:h,targetHeight:k,elemWidth:l,elemHeight:m,collisionPosition:r,collisionWidth:v,collisionHeight:w,offset:e,my:b.my,at:b.at})});c.fn.bgiframe&&f.bgiframe();f.offset(c.extend(i,{using:b.using}))})};c.ui.position={fit:{left:function(b,a){var d=c(window);d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft();b.left=d>0?b.left-d:Math.max(b.left-a.collisionPosition.left,b.left)},top:function(b,a){var d=c(window);d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop();b.top=d>0?b.top-d:Math.max(b.top-a.collisionPosition.top,b.top)}},flip:{left:function(b,a){if(a.at[0]!=="center"){var d=c(window);d=a.collisionPosition.left+a.collisionWidth-d.width()-d.scrollLeft();var g=a.my[0]==="left"?-a.elemWidth:a.my[0]==="right"?a.elemWidth:0,e=a.at[0]==="left"?a.targetWidth:-a.targetWidth,h=-2*a.offset[0];b.left+=a.collisionPosition.left<0?g+e+h:d>0?g+e+h:0}},top:function(b,a){if(a.at[1]!=="center"){var d=c(window);d=a.collisionPosition.top+a.collisionHeight-d.height()-d.scrollTop();var g=a.my[1]==="top"?-a.elemHeight:a.my[1]==="bottom"?a.elemHeight:0,e=a.at[1]==="top"?a.targetHeight:-a.targetHeight,h=-2*a.offset[1];b.top+=a.collisionPosition.top<0?g+e+h:d>0?g+e+h:0}}}};if(!c.offset.setOffset){c.offset.setOffset=function(b,a){if(/static/.test(c.curCSS(b,"position")))b.style.position="relative";var d=c(b),g=d.offset(),e=parseInt(c.curCSS(b,"top",true),10)||0,h=parseInt(c.curCSS(b,"left",true),10)||0;g={top:a.top-g.top+e,left:a.left-g.left+h};"using"in a?a.using.call(b,g):d.css(g)};c.fn.offset=function(b){var a=this[0];if(!a||!a.ownerDocument)return null;if(b)return this.each(function(){c.offset.setOffset(this,b)});return u.call(this)}}})(jQuery);;(function(d){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var b=this.options;if(this.helper||b.disabled||d(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;return true},_mouseStart:function(a){var b=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(d.ui.ddmanager)d.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-
this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);b.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true},_mouseDrag:function(a,b){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=this._uiHash();if(this._trigger("drag",a,b)===false){this._mouseUp({});return false}this.position=b.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var b=false;if(d.ui.ddmanager&&!this.options.dropBehaviour)b=d.ui.ddmanager.drop(this,a);if(this.dropped){b=this.dropped;this.dropped=false}if((!this.element[0]||!this.element[0].parentNode)&&this.options.helper=="original")return false;if(this.options.revert=="invalid"&&!b||this.options.revert=="valid"&&b||this.options.revert===true||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,b)){var c=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",a)!==false&&c._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var b=!this.options.handle||!d(this.options.handle,this.element).length?true:false;d(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==a.target)b=true});return b},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a])):b.helper=="clone"?this.element.clone():this.element;a.parents("body").length||a.appendTo(b.appendTo=="parent"?this.element[0].parentNode:b.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[(a.containment=="document"?0:d(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(a.containment=="document"?0:d(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var b=d(a.containment)[0];if(b){a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0),a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0),a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())*a)}},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName),e=a.pageX,g=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])e=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])e=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(b.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;e=this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0];e=this.containment?!(e-this.offset.click.left<this.containment[0]||e-this.offset.click.left>this.containment[2])?e:!(e-this.offset.click.left<this.containment[0])?e-b.grid[0]:e+b.grid[0]:e}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(a,b,c){c=c||this._uiHash();d.ui.plugin.call(this,a,[b,c]);if(a=="drag")this.positionAbs=this._convertPositionTo("absolute");return d.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});d.extend(d.ui.draggable,{version:"1.8.11"});d.ui.plugin.add("draggable","connectToSortable",{start:function(a,b){var c=d(this).data("draggable"),f=c.options,e=d.extend({},b,{item:c.element});c.sortables=[];d(f.connectToSortable).each(function(){var g=d.data(this,"sortable");if(g&&!g.options.disabled){c.sortables.push({instance:g,shouldRevert:g.options.revert});g.refreshPositions();g._trigger("activate",a,e)}})},stop:function(a,b){var c=d(this).data("draggable"),f=d.extend({},b,{item:c.element});d.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;c.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",a,f)}})},drag:function(a,b){var c=d(this).data("draggable"),f=this;d.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=d(f).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return b.helper[0]};a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=c.offset.click.top;this.instance.offset.click.left=c.offset.click.left;this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top;c._trigger("toSortable",a);c.dropped=this.instance.element;c.currentItem=c.element;this.instance.fromOutside=c}this.instance.currentItem&&this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();c._trigger("fromSortable",a);c.dropped=false}})}});d.ui.plugin.add("draggable","cursor",{start:function(){var a=d("body"),b=d(this).data("draggable").options;if(a.css("cursor"))b._cursor=a.css("cursor");a.css("cursor",b.cursor)},stop:function(){var a=d(this).data("draggable").options;a._cursor&&d("body").css("cursor",a._cursor)}});d.ui.plugin.add("draggable","iframeFix",{start:function(){var a=d(this).data("draggable").options;d(a.iframeFix===true?"iframe":a.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")})},stop:function(){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});d.ui.plugin.add("draggable","opacity",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("opacity"))b._opacity=a.css("opacity");a.css("opacity",b.opacity)},stop:function(a,b){a=d(this).data("draggable").options;a._opacity&&d(b.helper).css("opacity",a._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(){var a=d(this).data("draggable");if(a.scrollParent[0]!=document&&a.scrollParent[0].tagName!="HTML")a.overflowOffset=a.scrollParent.offset()},drag:function(a){var b=d(this).data("draggable"),c=b.options,f=false;if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x")if(b.overflowOffset.top+b.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+
c.scrollSpeed;else if(a.pageY-b.overflowOffset.top<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-c.scrollSpeed;if(!c.axis||c.axis!="y")if(b.overflowOffset.left+b.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed;else if(a.pageX-b.overflowOffset.left<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||c.axis!="x")if(a.pageY-d(document).scrollTop()<c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()-c.scrollSpeed);else if(d(window).height()-(a.pageY-d(document).scrollTop())<c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()+c.scrollSpeed);if(!c.axis||c.axis!="y")if(a.pageX-d(document).scrollLeft()<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()-c.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()+
c.scrollSpeed)}f!==false&&d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(b,a)}});d.ui.plugin.add("draggable","snap",{start:function(){var a=d(this).data("draggable"),b=a.options;a.snapElements=[];d(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var c=d(this),f=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:f.top,left:f.left})})},drag:function(a,b){for(var c=d(this).data("draggable"),f=c.options,e=f.snapTolerance,g=b.offset.left,n=g+c.helperProportions.width,m=b.offset.top,o=m+c.helperProportions.height,h=c.snapElements.length-1;h>=0;h--){var i=c.snapElements[h].left,k=i+c.snapElements[h].width,j=c.snapElements[h].top,l=j+c.snapElements[h].height;if(i-e<g&&g<k+e&&j-e<m&&m<l+e||i-e<g&&g<k+e&&j-e<o&&o<l+e||i-e<n&&n<k+e&&j-e<m&&m<l+e||i-e<n&&n<k+e&&j-e<o&&o<l+e){if(f.snapMode!="inner"){var p=Math.abs(j-o)<=e,q=Math.abs(l-m)<=e,r=Math.abs(i-n)<=e,s=Math.abs(k-g)<=e;if(p)b.position.top=c._convertPositionTo("relative",{top:j-c.helperProportions.height,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",{top:l,left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:i-c.helperProportions.width}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:k}).left-c.margins.left}var t=p||q||r||s;if(f.snapMode!="outer"){p=Math.abs(j-m)<=e;q=Math.abs(l-o)<=e;r=Math.abs(i-g)<=e;s=Math.abs(k-n)<=e;if(p)b.position.top=c._convertPositionTo("relative",{top:j,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",{top:l-c.helperProportions.height,left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:i}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left-c.margins.left}if(!c.snapElements[h].snapping&&(p||q||r||s||t))c.options.snap.snap&&c.options.snap.snap.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[h].item}));c.snapElements[h].snapping=p||q||r||s||t}else{c.snapElements[h].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[h].item}));c.snapElements[h].snapping=false}}}});d.ui.plugin.add("draggable","stack",{start:function(){var a=d(this).data("draggable").options;a=d.makeArray(d(a.stack)).sort(function(c,f){return(parseInt(d(c).css("zIndex"),10)||0)-(parseInt(d(f).css("zIndex"),10)||0)});if(a.length){var b=parseInt(a[0].style.zIndex)||0;d(a).each(function(c){this.style.zIndex=b+c});this[0].style.zIndex=b+a.length}}});d.ui.plugin.add("draggable","zIndex",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("zIndex"))b._zIndex=a.css("zIndex");a.css("zIndex",b.zIndex)},stop:function(a,b){a=d(this).data("draggable").options;a._zIndex&&d(b.helper).css("zIndex",a._zIndex)}})})(jQuery);;(function(d){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,b=a.accept;this.isover=0;this.isout=1;this.accept=d.isFunction(b)?b:function(c){return c.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[];d.ui.ddmanager.droppables[a.scope].push(this);a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var a=d.ui.ddmanager.droppables[this.options.scope],b=0;b<a.length;b++)a[b]==this&&a.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,b){if(a=="accept")this.accept=d.isFunction(b)?b:function(c){return c.is(b)};d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]==this.element[0]))if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);this._trigger("over",a,this.ui(b))}},_out:function(a){var b=d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]==this.element[0]))if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",a,this.ui(b))}},_drop:function(a,b){var c=b||d.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return false;var e=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=d.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==c.options.scope&&g.accept.call(g.element[0],c.currentItem||c.element)&&d.ui.intersect(c,d.extend(g,{offset:g.element.offset()}),g.options.tolerance)){e=true;return false}});if(e)return false;if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",a,this.ui(c));return this.element}return false},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});d.extend(d.ui.droppable,{version:"1.8.11"});d.ui.intersect=function(a,b,c){if(!b.offset)return false;var e=(a.positionAbs||a.position.absolute).left,g=e+a.helperProportions.width,f=(a.positionAbs||a.position.absolute).top,h=f+a.helperProportions.height,i=b.offset.left,k=i+b.proportions.width,j=b.offset.top,l=j+b.proportions.height;switch(c){case"fit":return i<=e&&g<=k&&j<=f&&h<=l;case"intersect":return i<e+a.helperProportions.width/2&&g-a.helperProportions.width/2<k&&j<f+a.helperProportions.height/2&&h-a.helperProportions.height/2<l;case"pointer":return d.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,j,i,b.proportions.height,b.proportions.width);case"touch":return(f>=j&&f<=l||h>=j&&h<=l||f<j&&h>l)&&(e>=i&&e<=k||g>=i&&g<=k||e<i&&g>k);default:return false}};d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c=d.ui.ddmanager.droppables[a.options.scope]||[],e=b?b.type:null,g=(a.currentItem||a.element).find(":data(droppable)").andSelf(),f=0;a:for(;f<c.length;f++)if(!(c[f].options.disabled||a&&!c[f].accept.call(c[f].element[0],a.currentItem||a.element))){for(var h=0;h<g.length;h++)if(g[h]==c[f].element[0]){c[f].proportions.height=0;continue a}c[f].visible=c[f].element.css("display")!="none";if(c[f].visible){e=="mousedown"&&c[f]._activate.call(c[f],b);c[f].offset=c[f].element.offset();c[f].proportions={width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight}}}},drop:function(a,b){var c=false;d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance))c=c||this._drop.call(this,b);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||a.element)){this.isout=1;this.isover=0;this._deactivate.call(this,b)}}});return c},drag:function(a,b){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,b);d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var c=d.ui.intersect(a,this,this.options.tolerance);if(c=!c&&this.isover==1?"isout":c&&this.isover==0?"isover":null){var e;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");if(g.length){e=d.data(g[0],"droppable");e.greedyChild=c=="isover"?1:0}}if(e&&c=="isover"){e.isover=0;e.isout=1;e._out.call(e,b)}this[c]=1;this[c=="isout"?"isover":"isout"]=0;this[c=="isover"?"_over":"_out"].call(this,b);if(e&&c=="isout"){e.isout=0;e.isover=1;e._over.call(e,b)}}}})}}})(jQuery);;(function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var b=this,a=this.options;this.element.addClass("ui-resizable");e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&e.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=a.handles||(!e(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var c=this.handles.split(",");this.handles={};for(var d=0;d<c.length;d++){var f=e.trim(c[d]),g=e('<div class="ui-resizable-handle '+("ui-resizable-"+f)+'"></div>');/sw|se|ne|nw/.test(f)&&g.css({zIndex:++a.zIndex});"se"==f&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[f]=".ui-resizable-"+f;this.element.append(g)}}this._renderAxis=function(h){h=h||this.element;for(var i in this.handles){if(this.handles[i].constructor==String)this.handles[i]=e(this.handles[i],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var j=e(this.handles[i],this.element),k=0;k=/sw|ne|nw|se|n|s/.test(i)?j.outerHeight():j.outerWidth();j=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");h.css(j,k);this._proportionallyResize()}e(this.handles[i])}};this._renderAxis(this.element);this._handles=e(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!b.resizing){if(this.className)var h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=h&&h[1]?h[1]:"se"}});if(a.autoHide){this._handles.hide();e(this.element).addClass("ui-resizable-autohide").hover(function(){e(this).removeClass("ui-resizable-autohide");b._handles.show()},function(){if(!b.resizing){e(this).addClass("ui-resizable-autohide");b._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(c){e(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var a=this.element;a.after(this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(b){var a=false;for(var c in this.handles)if(e(this.handles[c])[0]==b.target)a=true;return!this.options.disabled&&a},_mouseStart:function(b){var a=this.options,c=this.element.position(),d=this.element;this.resizing=true;this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()};if(d.is(".ui-draggable")||/absolute/.test(d.css("position")))d.css({position:"absolute",top:c.top,left:c.left});e.browser.opera&&/relative/.test(d.css("position"))&&d.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();c=m(this.helper.css("left"));var f=m(this.helper.css("top"));if(a.containment){c+=e(a.containment).scrollLeft()||0;f+=e(a.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:c,top:f};this.size=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalPosition={left:c,top:f};this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-d.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio=typeof a.aspectRatio=="number"?a.aspectRatio:this.originalSize.width/this.originalSize.height||1;a=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor",a=="auto"?this.axis+"-resize":a);d.addClass("ui-resizable-resizing");this._propagate("start",b);return true},_mouseDrag:function(b){var a=this.helper,c=this.originalMousePosition,d=this._change[this.axis];if(!d)return false;c=d.apply(this,[b,b.pageX-c.left||0,b.pageY-c.top||0]);if(this._aspectRatio||b.shiftKey)c=this._updateRatio(c,b);c=this._respectSize(c,b);this._propagate("resize",b);a.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(c);this._trigger("resize",b,this.ui());return false},_mouseStop:function(b){this.resizing=false;var a=this.options,c=this;if(this._helper){var d=this._proportionallyResizeElements,f=d.length&&/textarea/i.test(d[0].nodeName);d=f&&e.ui.hasScroll(d[0],"left")?0:c.sizeDiff.height;f=f?0:c.sizeDiff.width;f={width:c.helper.width()-f,height:c.helper.height()-d};d=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null;var g=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;a.animate||this.element.css(e.extend(f,{top:g,left:d}));c.helper.height(c.size.height);c.helper.width(c.size.width);this._helper&&!a.animate&&this._proportionallyResize()}e("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return false},_updateCache:function(b){this.offset=this.helper.offset();if(l(b.left))this.position.left=b.left;if(l(b.top))this.position.top=b.top;if(l(b.height))this.size.height=b.height;if(l(b.width))this.size.width=b.width},_updateRatio:function(b){var a=this.position,c=this.size,d=this.axis;if(b.height)b.width=c.height*this.aspectRatio;else if(b.width)b.height=c.width/this.aspectRatio;if(d=="sw"){b.left=a.left+(c.width-b.width);b.top=null}if(d=="nw"){b.top=a.top+(c.height-b.height);b.left=a.left+(c.width-b.width)}return b},_respectSize:function(b){var a=this.options,c=this.axis,d=l(b.width)&&a.maxWidth&&a.maxWidth<b.width,f=l(b.height)&&a.maxHeight&&a.maxHeight<b.height,g=l(b.width)&&a.minWidth&&a.minWidth>b.width,h=l(b.height)&&a.minHeight&&a.minHeight>b.height;if(g)b.width=a.minWidth;if(h)b.height=a.minHeight;if(d)b.width=a.maxWidth;if(f)b.height=a.maxHeight;var i=this.originalPosition.left+this.originalSize.width,j=this.position.top+
this.size.height,k=/sw|nw|w/.test(c);c=/nw|ne|n/.test(c);if(g&&k)b.left=i-a.minWidth;if(d&&k)b.left=i-a.maxWidth;if(h&&c)b.top=j-a.minHeight;if(f&&c)b.top=j-a.maxHeight;if((a=!b.width&&!b.height)&&!b.left&&b.top)b.top=null;else if(a&&!b.top&&b.left)b.left=null;return b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,a=0;a<this._proportionallyResizeElements.length;a++){var c=this._proportionallyResizeElements[a];if(!this.borderDif){var d=[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")],f=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];this.borderDif=e.map(d,function(g,h){g=parseInt(g,10)||0;h=parseInt(f[h],10)||0;return g+h})}e.browser.msie&&(e(b).is(":hidden")||e(b).parents(":hidden").length)||c.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var a=e.browser.msie&&e.browser.version<7,c=a?1:0;a=a?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-c+"px",top:this.elementOffset.top-c+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(b,a){return{width:this.originalSize.width+a}},w:function(b,a){return{left:this.originalPosition.left+a,width:this.originalSize.width-a}},n:function(b,a,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(b,a,c){return{height:this.originalSize.height+c}},se:function(b,a,c){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,a,c]))},sw:function(b,a,c){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,a,c]))},ne:function(b,a,c){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,a,c]))},nw:function(b,a,c){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,a,c]))}},_propagate:function(b,a){e.ui.plugin.call(this,b,[a,this.ui()]);b!="resize"&&this._trigger(b,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});e.extend(e.ui.resizable,{version:"1.8.11"});e.ui.plugin.add("resizable","alsoResize",{start:function(){var b=e(this).data("resizable").options,a=function(c){e(c).each(function(){var d=e(this);d.data("resizable-alsoresize",{width:parseInt(d.width(),10),height:parseInt(d.height(),10),left:parseInt(d.css("left"),10),top:parseInt(d.css("top"),10),position:d.css("position")})})};if(typeof b.alsoResize=="object"&&!b.alsoResize.parentNode)if(b.alsoResize.length){b.alsoResize=b.alsoResize[0];a(b.alsoResize)}else e.each(b.alsoResize,function(c){a(c)});else a(b.alsoResize)},resize:function(b,a){var c=e(this).data("resizable");b=c.options;var d=c.originalSize,f=c.originalPosition,g={height:c.size.height-d.height||0,width:c.size.width-d.width||0,top:c.position.top-f.top||0,left:c.position.left-f.left||0},h=function(i,j){e(i).each(function(){var k=e(this),q=e(this).data("resizable-alsoresize"),p={},r=j&&j.length?j:k.parents(a.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(r,function(n,o){if((n=(q[o]||0)+(g[o]||0))&&n>=0)p[o]=n||null});if(e.browser.opera&&/relative/.test(k.css("position"))){c._revertToRelativePosition=true;k.css({position:"absolute",top:"auto",left:"auto"})}k.css(p)})};typeof b.alsoResize=="object"&&!b.alsoResize.nodeType?e.each(b.alsoResize,function(i,j){h(i,j)}):h(b.alsoResize)},stop:function(){var b=e(this).data("resizable"),a=b.options,c=function(d){e(d).each(function(){var f=e(this);f.css({position:f.data("resizable-alsoresize").position})})};if(b._revertToRelativePosition){b._revertToRelativePosition=false;typeof a.alsoResize=="object"&&!a.alsoResize.nodeType?e.each(a.alsoResize,function(d){c(d)}):c(a.alsoResize)}e(this).removeData("resizable-alsoresize")}});e.ui.plugin.add("resizable","animate",{stop:function(b){var a=e(this).data("resizable"),c=a.options,d=a._proportionallyResizeElements,f=d.length&&/textarea/i.test(d[0].nodeName),g=f&&e.ui.hasScroll(d[0],"left")?0:a.sizeDiff.height;f={width:a.size.width-(f?0:a.sizeDiff.width),height:a.size.height-
g};g=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||null;var h=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||null;a.element.animate(e.extend(f,h&&g?{top:h,left:g}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var i={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),10)};d&&d.length&&e(d[0]).css({width:i.width,height:i.height});a._updateCache(i);a._propagate("resize",b)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var b=e(this).data("resizable"),a=b.element,c=b.options.containment;if(a=c instanceof e?c.get(0):/parent/.test(c)?a.parent().get(0):c){b.containerElement=e(a);if(/document/.test(c)||c==document){b.containerOffset={left:0,top:0};b.containerPosition={left:0,top:0};b.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}}else{var d=e(a),f=[];e(["Top","Right","Left","Bottom"]).each(function(i,j){f[i]=m(d.css("padding"+j))});b.containerOffset=d.offset();b.containerPosition=d.position();b.containerSize={height:d.innerHeight()-f[3],width:d.innerWidth()-f[1]};c=b.containerOffset;var g=b.containerSize.height,h=b.containerSize.width;h=e.ui.hasScroll(a,"left")?a.scrollWidth:h;g=e.ui.hasScroll(a)?a.scrollHeight:g;b.parentData={element:a,left:c.left,top:c.top,width:h,height:g}}}},resize:function(b){var a=e(this).data("resizable"),c=a.options,d=a.containerOffset,f=a.position;b=a._aspectRatio||b.shiftKey;var g={top:0,left:0},h=a.containerElement;if(h[0]!=document&&/static/.test(h.css("position")))g=d;if(f.left<(a._helper?d.left:0)){a.size.width+=a._helper?a.position.left-d.left:a.position.left-g.left;if(b)a.size.height=a.size.width/c.aspectRatio;a.position.left=c.helper?d.left:0}if(f.top<(a._helper?d.top:0)){a.size.height+=a._helper?a.position.top-d.top:a.position.top;if(b)a.size.width=a.size.height*c.aspectRatio;a.position.top=a._helper?d.top:0}a.offset.left=a.parentData.left+a.position.left;a.offset.top=a.parentData.top+a.position.top;c=Math.abs((a._helper?a.offset.left-g.left:a.offset.left-g.left)+a.sizeDiff.width);d=Math.abs((a._helper?a.offset.top-g.top:a.offset.top-d.top)+a.sizeDiff.height);f=a.containerElement.get(0)==a.element.parent().get(0);g=/relative|absolute/.test(a.containerElement.css("position"));if(f&&g)c-=a.parentData.left;if(c+a.size.width>=a.parentData.width){a.size.width=a.parentData.width-c;if(b)a.size.height=a.size.width/a.aspectRatio}if(d+a.size.height>=a.parentData.height){a.size.height=a.parentData.height-d;if(b)a.size.width=a.size.height*a.aspectRatio}},stop:function(){var b=e(this).data("resizable"),a=b.options,c=b.containerOffset,d=b.containerPosition,f=b.containerElement,g=e(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width;g=g.outerHeight()-b.sizeDiff.height;b._helper&&!a.animate&&/relative/.test(f.css("position"))&&e(this).css({left:h.left-d.left-c.left,width:i,height:g});b._helper&&!a.animate&&/static/.test(f.css("position"))&&e(this).css({left:h.left-d.left-c.left,width:i,height:g})}});e.ui.plugin.add("resizable","ghost",{start:function(){var b=e(this).data("resizable"),a=b.options,c=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof a.ghost=="string"?a.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=e(this).data("resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=e(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});e.ui.plugin.add("resizable","grid",{resize:function(){var b=e(this).data("resizable"),a=b.options,c=b.size,d=b.originalSize,f=b.originalPosition,g=b.axis;a.grid=typeof a.grid=="number"?[a.grid,a.grid]:a.grid;var h=Math.round((c.width-d.width)/(a.grid[0]||1))*(a.grid[0]||1);a=Math.round((c.height-d.height)/(a.grid[1]||1))*(a.grid[1]||1);if(/^(se|s|e)$/.test(g)){b.size.width=d.width+h;b.size.height=d.height+a}else if(/^(ne)$/.test(g)){b.size.width=d.width+h;b.size.height=d.height+a;b.position.top=f.top-a}else{if(/^(sw)$/.test(g)){b.size.width=d.width+h;b.size.height=d.height+a}else{b.size.width=d.width+h;b.size.height=d.height+a;b.position.top=f.top-a}b.position.left=f.left-h}}});var m=function(b){return parseInt(b,10)||0},l=function(b){return!isNaN(parseInt(b,10))}})(jQuery);;(function(e){e.widget("ui.selectable",e.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var c=this;this.element.addClass("ui-selectable");this.dragged=false;var f;this.refresh=function(){f=e(c.options.filter,c.element[0]);f.each(function(){var d=e(this),b=d.offset();e.data(this,"selectable-item",{element:this,$element:d,left:b.left,top:b.top,right:b.left+d.outerWidth(),bottom:b.top+d.outerHeight(),startselected:false,selected:d.hasClass("ui-selected"),selecting:d.hasClass("ui-selecting"),unselecting:d.hasClass("ui-unselecting")})})};this.refresh();this.selectees=f.addClass("ui-selectee");this._mouseInit();this.helper=e("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(c){var f=this;this.opos=[c.pageX,c.pageY];if(!this.options.disabled){var d=this.options;this.selectees=e(d.filter,this.element[0]);this._trigger("start",c);e(d.appendTo).append(this.helper);this.helper.css({left:c.clientX,top:c.clientY,width:0,height:0});d.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var b=e.data(this,"selectable-item");b.startselected=true;if(!c.metaKey){b.$element.removeClass("ui-selected");b.selected=false;b.$element.addClass("ui-unselecting");b.unselecting=true;f._trigger("unselecting",c,{unselecting:b.element})}});e(c.target).parents().andSelf().each(function(){var b=e.data(this,"selectable-item");if(b){var g=!c.metaKey||!b.$element.hasClass("ui-selected");b.$element.removeClass(g?"ui-unselecting":"ui-selected").addClass(g?"ui-selecting":"ui-unselecting");b.unselecting=!g;b.selecting=g;(b.selected=g)?f._trigger("selecting",c,{selecting:b.element}):f._trigger("unselecting",c,{unselecting:b.element});return false}})}},_mouseDrag:function(c){var f=this;this.dragged=true;if(!this.options.disabled){var d=this.options,b=this.opos[0],g=this.opos[1],h=c.pageX,i=c.pageY;if(b>h){var j=h;h=b;b=j}if(g>i){j=i;i=g;g=j}this.helper.css({left:b,top:g,width:h-b,height:i-g});this.selectees.each(function(){var a=e.data(this,"selectable-item");if(!(!a||a.element==f.element[0])){var k=false;if(d.tolerance=="touch")k=!(a.left>h||a.right<b||a.top>i||a.bottom<g);else if(d.tolerance=="fit")k=a.left>b&&a.right<h&&a.top>g&&a.bottom<i;if(k){if(a.selected){a.$element.removeClass("ui-selected");a.selected=false}if(a.unselecting){a.$element.removeClass("ui-unselecting");a.unselecting=false}if(!a.selecting){a.$element.addClass("ui-selecting");a.selecting=true;f._trigger("selecting",c,{selecting:a.element})}}else{if(a.selecting)if(c.metaKey&&a.startselected){a.$element.removeClass("ui-selecting");a.selecting=false;a.$element.addClass("ui-selected");a.selected=true}else{a.$element.removeClass("ui-selecting");a.selecting=false;if(a.startselected){a.$element.addClass("ui-unselecting");a.unselecting=true}f._trigger("unselecting",c,{unselecting:a.element})}if(a.selected)if(!c.metaKey&&!a.startselected){a.$element.removeClass("ui-selected");a.selected=false;a.$element.addClass("ui-unselecting");a.unselecting=true;f._trigger("unselecting",c,{unselecting:a.element})}}}});return false}},_mouseStop:function(c){var f=this;this.dragged=false;e(".ui-unselecting",this.element[0]).each(function(){var d=e.data(this,"selectable-item");d.$element.removeClass("ui-unselecting");d.unselecting=false;d.startselected=false;f._trigger("unselected",c,{unselected:d.element})});e(".ui-selecting",this.element[0]).each(function(){var d=e.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=false;d.selected=true;d.startselected=true;f._trigger("selected",c,{selected:d.element})});this._trigger("stop",c);this.helper.remove();return false}});e.extend(e.ui.selectable,{version:"1.8.11"})})(jQuery);;(function(d){d.widget("ui.sortable",d.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(a,b){if(a==="disabled"){this.options[a]=b;this.widget()[b?"addClass":"removeClass"]("ui-sortable-disabled")}else d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,b){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(a);var c=null,e=this;d(a.target).parents().each(function(){if(d.data(this,"sortable-item")==e){c=d(this);return false}});if(d.data(a.target,"sortable-item")==e)c=d(a.target);if(!c)return false;if(this.options.handle&&!b){var f=false;d(this.options.handle,c).find("*").andSelf().each(function(){if(this==a.target)f=true});if(!f)return false}this.currentItem=c;this._removeCurrentsFromItems();return true},_mouseStart:function(a,b,c){b=this.options;var e=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-
this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();if(b.cursor){if(d("body").css("cursor"))this._storedCursor=d("body").css("cursor");d("body").css("cursor",b.cursor)}if(b.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",b.opacity)}if(b.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",b.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!c)for(c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("activate",a,e._uiHash(this));if(d.ui.ddmanager)d.ui.ddmanager.current=this;d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);return true},_mouseDrag:function(a){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var b=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity)this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed;else if(a.pageY-this.overflowOffset.top<b.scrollSensitivity)this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-b.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity)this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+b.scrollSpeed;else if(a.pageX-this.overflowOffset.left<b.scrollSensitivity)this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-b.scrollSpeed}else{if(a.pageY-d(document).scrollTop()<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()-
b.scrollSpeed);else if(d(window).height()-(a.pageY-d(document).scrollTop())<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed);if(a.pageX-d(document).scrollLeft()<b.scrollSensitivity)c=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<b.scrollSensitivity)c=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed)}c!==false&&d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(b=this.items.length-1;b>=0;b--){c=this.items[b];var e=c.item[0],f=this._intersectsWithPointer(c);if(f)if(e!=this.currentItem[0]&&this.placeholder[f==1?"next":"prev"]()[0]!=e&&!d.ui.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!d.ui.contains(this.element[0],e):true)){this.direction=f==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(c))this._rearrange(a,c);else break;this._trigger("change",a,this._uiHash());break}}this._contactContainers(a);d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(a,b){if(a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var c=this;b=c.placeholder.offset();c.reverting=true;d(this.helper).animate({left:b.left-this.offset.parent.left-c.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:b.top-this.offset.parent.top-c.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return false}},cancel:function(){var a=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",null,a._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,a._uiHash(this));this.containers[b].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();d.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};d(b).each(function(){var e=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);if(e)c.push((a.key||e[1]+"[]")+"="+(a.key&&a.expression?e[1]:e[2]))});!c.length&&a.key&&c.push(a.key+"=");return c.join("&")},toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};b.each(function(){c.push(d(a.item||this).attr(a.attribute||"id")||"")});return c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,e=this.positionAbs.top,f=e+this.helperProportions.height,g=a.left,h=g+a.width,i=a.top,k=i+a.height,j=this.offset.click.top,l=this.offset.click.left;j=e+j>i&&e+j<k&&b+l>g&&b+l<h;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?j:g<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<h&&i<e+this.helperProportions.height/2&&f-this.helperProportions.height/2<k},_intersectsWithPointer:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);b=b&&a;a=this._getDragVerticalDirection();var c=this._getDragHorizontalDirection();if(!b)return false;return this.floating?c&&c=="right"||a=="down"?2:1:a&&(a=="down"?2:1)},_intersectsWithSides:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var c=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?e=="right"&&a||e=="left"&&!a:c&&(c=="down"&&b||c=="up"&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var b=[],c=[],e=this._connectWith();if(e&&a)for(a=e.length-1;a>=0;a--)for(var f=d(e[a]),g=f.length-1;g>=0;g--){var h=d.data(f[g],"sortable");if(h&&h!=this&&!h.options.disabled)c.push([d.isFunction(h.options.items)?h.options.items.call(h.element):d(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}c.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(a=c.length-1;a>=0;a--)c[a][0].each(function(){b.push(this)});return d(b)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(a){this.items=[];this.containers=[this];var b=this.items,c=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):d(this.options.items,this.element),this]],e=this._connectWith();if(e)for(var f=e.length-1;f>=0;f--)for(var g=d(e[f]),h=g.length-1;h>=0;h--){var i=d.data(g[h],"sortable");if(i&&i!=this&&!i.options.disabled){c.push([d.isFunction(i.options.items)?i.options.items.call(i.element[0],a,{item:this.currentItem}):d(i.options.items,i.element),i]);this.containers.push(i)}}for(f=c.length-1;f>=0;f--){a=c[f][1];e=c[f][0];h=0;for(g=e.length;h<g;h++){i=d(e[h]);i.data("sortable-item",a);b.push({item:i,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();for(var b=this.items.length-1;b>=0;b--){var c=this.items[b],e=this.options.toleranceElement?d(this.options.toleranceElement,c.item):c.item;if(!a){c.width=e.outerWidth();c.height=e.outerHeight()}e=e.offset();c.left=e.left;c.top=e.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;b>=0;b--){e=this.containers[b].element.offset();this.containers[b].containerCache.left=e.left;this.containers[b].containerCache.top=e.top;this.containers[b].containerCache.width=this.containers[b].element.outerWidth();this.containers[b].containerCache.height=this.containers[b].element.outerHeight()}return this},_createPlaceholder:function(a){var b=a||this,c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var e=c.placeholder;c.placeholder={element:function(){var f=d(document.createElement(b.currentItem[0].nodeName)).addClass(e||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!e)f.style.visibility="hidden";return f},update:function(f,g){if(!(e&&!c.forcePlaceholderSize)){g.height()||g.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10));g.width()||g.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}}b.placeholder=d(c.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);c.placeholder.update(b,b.placeholder)},_contactContainers:function(a){for(var b=null,c=null,e=this.containers.length-1;e>=0;e--)if(!d.ui.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(!(b&&d.ui.contains(this.containers[e].element[0],b.element[0]))){b=this.containers[e];c=e}}else if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",a,this._uiHash(this));this.containers[e].containerCache.over=0}if(b)if(this.containers.length===1){this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1}else if(this.currentContainer!=this.containers[c]){b=1E4;e=null;for(var f=this.positionAbs[this.containers[c].floating?"left":"top"],g=this.items.length-1;g>=0;g--)if(d.ui.contains(this.containers[c].element[0],this.items[g].item[0])){var h=this.items[g][this.containers[c].floating?"left":"top"];if(Math.abs(h-f)<b){b=Math.abs(h-f);e=this.items[g]}}if(e||this.options.dropOnEmpty){this.currentContainer=this.containers[c];e?this._rearrange(a,e,null,true):this._rearrange(a,null,this.containers[c].element,true);this._trigger("change",a,this._uiHash());this.containers[c]._trigger("change",a,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1}}},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a,this.currentItem])):b.helper=="clone"?this.currentItem.clone():this.currentItem;a.parents("body").length||d(b.appendTo!="parent"?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);if(a[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(a[0].style.width==""||b.forceHelperSize)a.width(this.currentItem.width());if(a[0].style.height==""||b.forceHelperSize)a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var b=d(a.containment)[0];a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())*a)}},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var f=a.pageX,g=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-
this.offset.click.left<this.containment[0])f=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])f=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(b.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;f=this.originalPageX+Math.round((f-this.originalPageX)/b.grid[0])*b.grid[0];f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-b.grid[0]:f+b.grid[0]:f}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())}},_rearrange:function(a,b,c,e){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var f=this,g=this.counter;window.setTimeout(function(){g==f.counter&&f.refreshPositions(!e)},0)},_clear:function(a,b){this.reverting=false;var c=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static")this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!b&&c.push(function(f){this._trigger("receive",f,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!b)c.push(function(f){this._trigger("update",f,this._uiHash())});if(!d.ui.contains(this.element[0],this.currentItem[0])){b||c.push(function(f){this._trigger("remove",f,this._uiHash())});for(e=this.containers.length-1;e>=0;e--)if(d.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!b){c.push(function(f){return function(g){f._trigger("receive",g,this._uiHash(this))}}.call(this,this.containers[e]));c.push(function(f){return function(g){f._trigger("update",g,this._uiHash(this))}}.call(this,this.containers[e]))}}for(e=this.containers.length-1;e>=0;e--){b||c.push(function(f){return function(g){f._trigger("deactivate",g,this._uiHash(this))}}.call(this,this.containers[e]));if(this.containers[e].containerCache.over){c.push(function(f){return function(g){f._trigger("out",g,this._uiHash(this))}}.call(this,this.containers[e]));this.containers[e].containerCache.over=0}}this._storedCursor&&d("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(e=0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}return false}b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(e=0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){d.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}});d.extend(d.ui.sortable,{version:"1.8.11"})})(jQuery);;(function(c){c.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var a=this,b=a.options;a.running=0;a.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");a.headers=a.element.find(b.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){b.disabled||c(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){b.disabled||c(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){b.disabled||c(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){b.disabled||c(this).removeClass("ui-state-focus")});a.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(b.navigation){var d=a.element.find("a").filter(b.navigationFilter).eq(0);if(d.length){var h=d.closest(".ui-accordion-header");a.active=h.length?h:d.closest(".ui-accordion-content").prev()}}a.active=a._findActive(a.active||b.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");a.active.next().addClass("ui-accordion-content-active");a._createIcons();a.resize();a.element.attr("role","tablist");a.headers.attr("role","tab").bind("keydown.accordion",function(f){return a._keydown(f)}).next().attr("role","tabpanel");a.headers.not(a.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide();a.active.length?a.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):a.headers.eq(0).attr("tabIndex",0);c.browser.safari||a.headers.find("a").attr("tabIndex",-1);b.event&&a.headers.bind(b.event.split(" ").join(".accordion ")+".accordion",function(f){a._clickHandler.call(a,f,this);f.preventDefault()})},_createIcons:function(){var a=this.options;if(a.icons){c("<span></span>").addClass("ui-icon "+a.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(a.icons.header).toggleClass(a.icons.headerSelected);this.element.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var a=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var b=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(a.autoHeight||a.fillHeight)b.css("height","");return c.Widget.prototype.destroy.call(this)},_setOption:function(a,b){c.Widget.prototype._setOption.apply(this,arguments);a=="active"&&this.activate(b);if(a=="icons"){this._destroyIcons();b&&this._createIcons()}if(a=="disabled")this.headers.add(this.headers.next())[b?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(a){if(!(this.options.disabled||a.altKey||a.ctrlKey)){var b=c.ui.keyCode,d=this.headers.length,h=this.headers.index(a.target),f=false;switch(a.keyCode){case b.RIGHT:case b.DOWN:f=this.headers[(h+1)%d];break;case b.LEFT:case b.UP:f=this.headers[(h-1+d)%d];break;case b.SPACE:case b.ENTER:this._clickHandler({target:a.target},a.target);a.preventDefault()}if(f){c(a.target).attr("tabIndex",-1);c(f).attr("tabIndex",0);f.focus();return false}return true}},resize:function(){var a=this.options,b;if(a.fillSpace){if(c.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}b=this.element.parent().height();c.browser.msie&&this.element.parent().css("overflow",d);this.headers.each(function(){b-=c(this).outerHeight(true)});this.headers.next().each(function(){c(this).height(Math.max(0,b-c(this).innerHeight()+
c(this).height()))}).css("overflow","auto")}else if(a.autoHeight){b=0;this.headers.next().each(function(){b=Math.max(b,c(this).height("").height())}).height(b)}return this},activate:function(a){this.options.active=a;a=this._findActive(a)[0];this._clickHandler({target:a},a);return this},_findActive:function(a){return a?typeof a==="number"?this.headers.filter(":eq("+a+")"):this.headers.not(this.headers.not(a)):a===false?c([]):this.headers.filter(":eq(0)")},_clickHandler:function(a,b){var d=this.options;if(!d.disabled)if(a.target){a=c(a.currentTarget||b);b=a[0]===this.active[0];d.active=d.collapsible&&b?false:this.headers.index(a);if(!(this.running||!d.collapsible&&b)){var h=this.active;j=a.next();g=this.active.next();e={options:d,newHeader:b&&d.collapsible?c([]):a,oldHeader:this.active,newContent:b&&d.collapsible?c([]):j,oldContent:g};var f=this.headers.index(this.active[0])>this.headers.index(a[0]);this.active=b?c([]):a;this._toggle(j,g,e,b,f);h.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);if(!b){a.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected);a.next().addClass("ui-accordion-content-active")}}}else if(d.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header);this.active.next().addClass("ui-accordion-content-active");var g=this.active.next(),e={options:d,newHeader:c([]),oldHeader:d.active,newContent:c([]),oldContent:g},j=this.active=c([]);this._toggle(j,g,e)}},_toggle:function(a,b,d,h,f){var g=this,e=g.options;g.toShow=a;g.toHide=b;g.data=d;var j=function(){if(g)return g._completed.apply(g,arguments)};g._trigger("changestart",null,g.data);g.running=b.size()===0?a.size():b.size();if(e.animated){d={};d=e.collapsible&&h?{toShow:c([]),toHide:b,complete:j,down:f,autoHeight:e.autoHeight||e.fillSpace}:{toShow:a,toHide:b,complete:j,down:f,autoHeight:e.autoHeight||e.fillSpace};if(!e.proxied)e.proxied=e.animated;if(!e.proxiedDuration)e.proxiedDuration=e.duration;e.animated=c.isFunction(e.proxied)?e.proxied(d):e.proxied;e.duration=c.isFunction(e.proxiedDuration)?e.proxiedDuration(d):e.proxiedDuration;h=c.ui.accordion.animations;var i=e.duration,k=e.animated;if(k&&!h[k]&&!c.easing[k])k="slide";h[k]||(h[k]=function(l){this.slide(l,{easing:k,duration:i||700})});h[k](d)}else{if(e.collapsible&&h)a.toggle();else{b.hide();a.show()}j(true)}b.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur();a.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running;if(!this.running){this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""});this.toHide.removeClass("ui-accordion-content-active");if(this.toHide.length)this.toHide.parent()[0].className=this.toHide.parent()[0].className;this._trigger("change",null,this.data)}}});c.extend(c.ui.accordion,{version:"1.8.11",animations:{slide:function(a,b){a=c.extend({easing:"swing",duration:300},a,b);if(a.toHide.size())if(a.toShow.size()){var d=a.toShow.css("overflow"),h=0,f={},g={},e;b=a.toShow;e=b[0].style.width;b.width(parseInt(b.parent().width(),10)-parseInt(b.css("paddingLeft"),10)-parseInt(b.css("paddingRight"),10)-(parseInt(b.css("borderLeftWidth"),10)||0)-(parseInt(b.css("borderRightWidth"),10)||0));c.each(["height","paddingTop","paddingBottom"],function(j,i){g[i]="hide";j=(""+c.css(a.toShow[0],i)).match(/^([\d+-.]+)(.*)$/);f[i]={value:j[1],unit:j[2]||"px"}});a.toShow.css({height:0,overflow:"hidden"}).show();a.toHide.filter(":hidden").each(a.complete).end().filter(":visible").animate(g,{step:function(j,i){if(i.prop=="height")h=i.end-i.start===0?0:(i.now-i.start)/(i.end-i.start);a.toShow[0].style[i.prop]=h*f[i.prop].value+f[i.prop].unit},duration:a.duration,easing:a.easing,complete:function(){a.autoHeight||a.toShow.css("height","");a.toShow.css({width:e,overflow:d});a.complete()}})}else a.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},a);else a.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},a)},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1E3:200})}}})})(jQuery);;(function(d){var e=0;d.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,b=this.element[0].ownerDocument,g;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(!(a.options.disabled||a.element.attr("readonly"))){g=false;var f=d.ui.keyCode;switch(c.keyCode){case f.PAGE_UP:a._move("previousPage",c);break;case f.PAGE_DOWN:a._move("nextPage",c);break;case f.UP:a._move("previous",c);c.preventDefault();break;case f.DOWN:a._move("next",c);c.preventDefault();break;case f.ENTER:case f.NUMPAD_ENTER:if(a.menu.active){g=true;c.preventDefault()}case f.TAB:if(!a.menu.active)return;a.menu.select(c);break;case f.ESCAPE:a.element.val(a.term);a.close(c);break;default:clearTimeout(a.searching);a.searching=setTimeout(function(){if(a.term!=a.element.val()){a.selectedItem=null;a.search(null,c)}},a.options.delay);break}}}).bind("keypress.autocomplete",function(c){if(g){g=false;c.preventDefault()}}).bind("focus.autocomplete",function(){if(!a.options.disabled){a.selectedItem=null;a.previous=a.element.val()}}).bind("blur.autocomplete",function(c){if(!a.options.disabled){clearTimeout(a.searching);a.closing=setTimeout(function(){a.close(c);a._change(c)},150)}});this._initSource();this.response=function(){return a._response.apply(a,arguments)};this.menu=d("<ul></ul>").addClass("ui-autocomplete").appendTo(d(this.options.appendTo||"body",b)[0]).mousedown(function(c){var f=a.menu.element[0];d(c.target).closest(".ui-menu-item").length||setTimeout(function(){d(document).one("mousedown",function(h){h.target!==a.element[0]&&h.target!==f&&!d.ui.contains(f,h.target)&&a.close()})},1);setTimeout(function(){clearTimeout(a.closing)},13)}).menu({focus:function(c,f){f=f.item.data("item.autocomplete");false!==a._trigger("focus",c,{item:f})&&/^key/.test(c.originalEvent.type)&&a.element.val(f.value)},selected:function(c,f){var h=f.item.data("item.autocomplete"),i=a.previous;if(a.element[0]!==b.activeElement){a.element.focus();a.previous=i;setTimeout(function(){a.previous=i;a.selectedItem=h},1)}false!==a._trigger("select",c,{item:h})&&a.element.val(h.value);a.term=a.element.val();a.close(c);a.selectedItem=h},blur:function(){a.menu.element.is(":visible")&&a.element.val()!==a.term&&a.element.val(a.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");d.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();d.Widget.prototype.destroy.call(this)},_setOption:function(a,b){d.Widget.prototype._setOption.apply(this,arguments);a==="source"&&this._initSource();if(a==="appendTo")this.menu.element.appendTo(d(b||"body",this.element[0].ownerDocument)[0]);a==="disabled"&&b&&this.xhr&&this.xhr.abort()},_initSource:function(){var a=this,b,g;if(d.isArray(this.options.source)){b=this.options.source;this.source=function(c,f){f(d.ui.autocomplete.filter(b,c.term))}}else if(typeof this.options.source==="string"){g=this.options.source;this.source=function(c,f){a.xhr&&a.xhr.abort();a.xhr=d.ajax({url:g,data:c,dataType:"json",autocompleteRequest:++e,success:function(h){this.autocompleteRequest===e&&f(h)},error:function(){this.autocompleteRequest===e&&f([])}})}}else this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val();this.term=this.element.val();if(a.length<this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)!==false)return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:a},this.response)},_response:function(a){if(!this.options.disabled&&a&&a.length){a=this._normalize(a);this._suggest(a);this._trigger("open")}else this.close();this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},close:function(a){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.deactivate();this._trigger("close",a)}},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){if(a.length&&a[0].label&&a[0].value)return a;return d.map(a,function(b){if(typeof b==="string")return{label:b,value:b};return d.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(a){var b=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(b,a);this.menu.deactivate();this.menu.refresh();b.show();this._resizeMenu();b.position(d.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new d.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(a,b){var g=this;d.each(b,function(c,f){g._renderItem(a,f)})},_renderItem:function(a,b){return d("<li></li>").data("item.autocomplete",b).append(d("<a></a>").text(b.label)).appendTo(a)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term);this.menu.deactivate()}else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element}});d.extend(d.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(a,b){var g=new RegExp(d.ui.autocomplete.escapeRegex(b),"i");return d.grep(a,function(c){return g.test(c.label||c.value||c)})}})})(jQuery);(function(d){d.widget("ui.menu",{_create:function(){var e=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(a){if(d(a.target).closest(".ui-menu-item a").length){a.preventDefault();e.select(a)}});this.refresh()},refresh:function(){var e=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(a){e.activate(a,d(this).parent())}).mouseleave(function(){e.deactivate()})},activate:function(e,a){this.deactivate();if(this.hasScroll()){var b=a.offset().top-this.element.offset().top,g=this.element.attr("scrollTop"),c=this.element.height();if(b<0)this.element.attr("scrollTop",g+b);else b>=c&&this.element.attr("scrollTop",g+b-c+a.height())}this.active=a.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",e,{item:a})},deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null}},next:function(e){this.move("next",".ui-menu-item:first",e)},previous:function(e){this.move("prev",".ui-menu-item:last",e)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(e,a,b){if(this.active){e=this.active[e+"All"](".ui-menu-item").eq(0);e.length?this.activate(b,e):this.activate(b,this.element.children(a))}else this.activate(b,this.element.children(a))},nextPage:function(e){if(this.hasScroll())if(!this.active||this.last())this.activate(e,this.element.children(".ui-menu-item:first"));else{var a=this.active.offset().top,b=this.element.height(),g=this.element.children(".ui-menu-item").filter(function(){var c=d(this).offset().top-a-b+d(this).height();return c<10&&c>-10});g.length||(g=this.element.children(".ui-menu-item:last"));this.activate(e,g)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(e){if(this.hasScroll())if(!this.active||this.first())this.activate(e,this.element.children(".ui-menu-item:last"));else{var a=this.active.offset().top,b=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var g=d(this).offset().top-a+b-d(this).height();return g<10&&g>-10});result.length||(result=this.element.children(".ui-menu-item:first"));this.activate(e,result)}else this.activate(e,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(e){this._trigger("selected",e,{item:this.active})}})})(jQuery);;(function(a){var g,i=function(b){a(":ui-button",b.target.form).each(function(){var c=a(this).data("button");setTimeout(function(){c.refresh()},1)})},h=function(b){var c=b.name,d=b.form,f=a([]);if(c)f=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form});return f};a.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",i);if(typeof this.options.disabled!=="boolean")this.options.disabled=this.element.attr("disabled");this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var b=this,c=this.options,d=this.type==="checkbox"||this.type==="radio",f="ui-state-hover"+(!d?" ui-state-active":"");if(c.label===null)c.label=this.buttonElement.html();if(this.element.is(":disabled"))c.disabled=true;this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",function(){if(!c.disabled){a(this).addClass("ui-state-hover");this===g&&a(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){c.disabled||a(this).removeClass(f)}).bind("focus.button",function(){a(this).addClass("ui-state-focus")}).bind("blur.button",function(){a(this).removeClass("ui-state-focus")});d&&this.element.bind("change.button",function(){b.refresh()});if(this.type==="checkbox")this.buttonElement.bind("click.button",function(){if(c.disabled)return false;a(this).toggleClass("ui-state-active");b.buttonElement.attr("aria-pressed",b.element[0].checked)});else if(this.type==="radio")this.buttonElement.bind("click.button",function(){if(c.disabled)return false;a(this).addClass("ui-state-active");b.buttonElement.attr("aria-pressed",true);var e=b.element[0];h(e).not(e).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",false)});else{this.buttonElement.bind("mousedown.button",function(){if(c.disabled)return false;a(this).addClass("ui-state-active");g=this;a(document).one("mouseup",function(){g=null})}).bind("mouseup.button",function(){if(c.disabled)return false;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(e){if(c.disabled)return false;if(e.keyCode==a.ui.keyCode.SPACE||e.keyCode==a.ui.keyCode.ENTER)a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")});this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===a.ui.keyCode.SPACE&&a(this).click()})}this._setOption("disabled",c.disabled)},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){var b=this.element.parents().filter(":last"),c="label[for="+this.element.attr("id")+"]";this.buttonElement=b.find(c);if(!this.buttonElement.length){b=b.length?b.siblings():this.element.siblings();this.buttonElement=b.filter(c);if(!this.buttonElement.length)this.buttonElement=b.find(c)}this.element.addClass("ui-helper-hidden-accessible");(b=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",b)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title");a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled")c?this.element.attr("disabled",true):this.element.removeAttr("disabled");this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b);if(this.type==="radio")h(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false)});else if(this.type==="checkbox")this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false)},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),c=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,f=d.primary&&d.secondary,e=[];if(d.primary||d.secondary){if(this.options.text)e.push("ui-button-text-icon"+(f?"s":d.primary?"-primary":"-secondary"));d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>");d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>");if(!this.options.text){e.push(f?"ui-button-icons-only":"ui-button-icon-only");this.hasTitle||b.attr("title",c)}}else e.push("ui-button-text-only");b.addClass(e.join(" "))}}});a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c);a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");a.Widget.prototype.destroy.call(this)}})})(jQuery);;(function(c,j){var k={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},l={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};c.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",collision:"fit",using:function(a){var b=c(this).css(a).offset().top;b<0&&c(this).css("top",a.top-b)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string")this.originalTitle="";this.options.title=this.options.title||this.originalTitle;var a=this,b=a.options,d=b.title||"&#160;",e=c.ui.dialog.getTitleId(a.element),g=(a.uiDialog=c("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+b.dialogClass).css({zIndex:b.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(i){if(b.closeOnEscape&&i.keyCode&&i.keyCode===c.ui.keyCode.ESCAPE){a.close(i);i.preventDefault()}}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(i){a.moveToTop(false,i)});a.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g);var f=(a.uiDialogTitlebar=c("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),h=c('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){h.addClass("ui-state-hover")},function(){h.removeClass("ui-state-hover")}).focus(function(){h.addClass("ui-state-focus")}).blur(function(){h.removeClass("ui-state-focus")}).click(function(i){a.close(i);return false}).appendTo(f);(a.uiDialogTitlebarCloseText=c("<span></span>")).addClass("ui-icon ui-icon-closethick").text(b.closeText).appendTo(h);c("<span></span>").addClass("ui-dialog-title").attr("id",e).html(d).prependTo(f);if(c.isFunction(b.beforeclose)&&!c.isFunction(b.beforeClose))b.beforeClose=b.beforeclose;f.find("*").add(f).disableSelection();b.draggable&&c.fn.draggable&&a._makeDraggable();b.resizable&&c.fn.resizable&&a._makeResizable();a._createButtons(b.buttons);a._isOpen=false;c.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;a.overlay&&a.overlay.destroy();a.uiDialog.hide();a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");a.uiDialog.remove();a.originalTitle&&a.element.attr("title",a.originalTitle);return a},widget:function(){return this.uiDialog},close:function(a){var b=this,d,e;if(false!==b._trigger("beforeClose",a)){b.overlay&&b.overlay.destroy();b.uiDialog.unbind("keypress.ui-dialog");b._isOpen=false;if(b.options.hide)b.uiDialog.hide(b.options.hide,function(){b._trigger("close",a)});else{b.uiDialog.hide();b._trigger("close",a)}c.ui.dialog.overlay.resize();if(b.options.modal){d=0;c(".ui-dialog").each(function(){if(this!==b.uiDialog[0]){e=c(this).css("z-index");isNaN(e)||(d=Math.max(d,e))}});c.ui.dialog.maxZ=d}return b}},isOpen:function(){return this._isOpen},moveToTop:function(a,b){var d=this,e=d.options;if(e.modal&&!a||!e.stack&&!e.modal)return d._trigger("focus",b);if(e.zIndex>c.ui.dialog.maxZ)c.ui.dialog.maxZ=e.zIndex;if(d.overlay){c.ui.dialog.maxZ+=1;d.overlay.$el.css("z-index",c.ui.dialog.overlay.maxZ=c.ui.dialog.maxZ)}a={scrollTop:d.element.attr("scrollTop"),scrollLeft:d.element.attr("scrollLeft")};c.ui.dialog.maxZ+=1;d.uiDialog.css("z-index",c.ui.dialog.maxZ);d.element.attr(a);d._trigger("focus",b);return d},open:function(){if(!this._isOpen){var a=this,b=a.options,d=a.uiDialog;a.overlay=b.modal?new c.ui.dialog.overlay(a):null;a._size();a._position(b.position);d.show(b.show);a.moveToTop(true);b.modal&&d.bind("keypress.ui-dialog",function(e){if(e.keyCode===c.ui.keyCode.TAB){var g=c(":tabbable",this),f=g.filter(":first");g=g.filter(":last");if(e.target===g[0]&&!e.shiftKey){f.focus(1);return false}else if(e.target===f[0]&&e.shiftKey){g.focus(1);return false}}});c(a.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus();a._isOpen=true;a._trigger("open");return a}},_createButtons:function(a){var b=this,d=false,e=c("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),g=c("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);b.uiDialog.find(".ui-dialog-buttonpane").remove();typeof a==="object"&&a!==null&&c.each(a,function(){return!(d=true)});if(d){c.each(a,function(f,h){h=c.isFunction(h)?{click:h,text:f}:h;f=c('<button type="button"></button>').attr(h,true).unbind("click").click(function(){h.click.apply(b.element[0],arguments)}).appendTo(g);c.fn.button&&f.button()});e.appendTo(b.uiDialog)}},_makeDraggable:function(){function a(f){return{position:f.position,offset:f.offset}}var b=this,d=b.options,e=c(document),g;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,h){g=d.height==="auto"?"auto":c(this).height();c(this).height(c(this).height()).addClass("ui-dialog-dragging");b._trigger("dragStart",f,a(h))},drag:function(f,h){b._trigger("drag",f,a(h))},stop:function(f,h){d.position=[h.position.left-e.scrollLeft(),h.position.top-e.scrollTop()];c(this).removeClass("ui-dialog-dragging").height(g);b._trigger("dragStop",f,a(h));c.ui.dialog.overlay.resize()}})},_makeResizable:function(a){function b(f){return{originalPosition:f.originalPosition,originalSize:f.originalSize,position:f.position,size:f.size}}a=a===j?this.options.resizable:a;var d=this,e=d.options,g=d.uiDialog.css("position");a=typeof a==="string"?a:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:a,start:function(f,h){c(this).addClass("ui-dialog-resizing");d._trigger("resizeStart",f,b(h))},resize:function(f,h){d._trigger("resize",f,b(h))},stop:function(f,h){c(this).removeClass("ui-dialog-resizing");e.height=c(this).height();e.width=c(this).width();d._trigger("resizeStop",f,b(h));c.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(a){var b=[],d=[0,0],e;if(a){if(typeof a==="string"||typeof a==="object"&&"0"in a){b=a.split?a.split(" "):[a[0],a[1]];if(b.length===1)b[1]=b[0];c.each(["left","top"],function(g,f){if(+b[g]===b[g]){d[g]=b[g];b[g]=f}});a={my:b.join(" "),at:b.join(" "),offset:d.join(" ")}}a=c.extend({},c.ui.dialog.prototype.options.position,a)}else a=c.ui.dialog.prototype.options.position;(e=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(c.extend({of:window},a));e||this.uiDialog.hide()},_setOptions:function(a){var b=this,d={},e=false;c.each(a,function(g,f){b._setOption(g,f);if(g in k)e=true;if(g in
l)d[g]=f});e&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(a,b){var d=this,e=d.uiDialog;switch(a){case"beforeclose":a="beforeClose";break;case"buttons":d._createButtons(b);break;case"closeText":d.uiDialogTitlebarCloseText.text(""+b);break;case"dialogClass":e.removeClass(d.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+b);break;case"disabled":b?e.addClass("ui-dialog-disabled"):e.removeClass("ui-dialog-disabled");break;case"draggable":var g=e.is(":data(draggable)");g&&!b&&e.draggable("destroy");!g&&b&&d._makeDraggable();break;case"position":d._position(b);break;case"resizable":(g=e.is(":data(resizable)"))&&!b&&e.resizable("destroy");g&&typeof b==="string"&&e.resizable("option","handles",b);!g&&b!==false&&d._makeResizable(b);break;case"title":c(".ui-dialog-title",d.uiDialogTitlebar).html(""+(b||"&#160;"));break}c.Widget.prototype._setOption.apply(d,arguments)},_size:function(){var a=this.options,b,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(a.minWidth>a.width)a.width=a.minWidth;b=this.uiDialog.css({height:"auto",width:a.width}).height();d=Math.max(0,a.minHeight-b);if(a.height==="auto")if(c.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();a=this.element.css("height","auto").height();e||this.uiDialog.hide();this.element.height(Math.max(a,d))}else this.element.height(Math.max(a.height-b,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});c.extend(c.ui.dialog,{version:"1.8.11",uuid:0,maxZ:0,getTitleId:function(a){a=a.attr("id");if(!a){this.uuid+=1;a=this.uuid}return"ui-dialog-title-"+a},overlay:function(a){this.$el=c.ui.dialog.overlay.create(a)}});c.extend(c.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:c.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(a){if(this.instances.length===0){setTimeout(function(){c.ui.dialog.overlay.instances.length&&c(document).bind(c.ui.dialog.overlay.events,function(d){if(c(d.target).zIndex()<c.ui.dialog.overlay.maxZ)return false})},1);c(document).bind("keydown.dialog-overlay",function(d){if(a.options.closeOnEscape&&d.keyCode&&d.keyCode===c.ui.keyCode.ESCAPE){a.close(d);d.preventDefault()}});c(window).bind("resize.dialog-overlay",c.ui.dialog.overlay.resize)}var b=(this.oldInstances.pop()||c("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});c.fn.bgiframe&&b.bgiframe();this.instances.push(b);return b},destroy:function(a){var b=c.inArray(a,this.instances);b!=-1&&this.oldInstances.push(this.instances.splice(b,1)[0]);this.instances.length===0&&c([document,window]).unbind(".dialog-overlay");a.remove();var d=0;c.each(this.instances,function(){d=Math.max(d,this.css("z-index"))});this.maxZ=d},height:function(){var a,b;if(c.browser.msie&&c.browser.version<7){a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);b=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return a<b?c(window).height()+"px":a+"px"}else return c(document).height()+"px"},width:function(){var a,b;if(c.browser.msie&&c.browser.version<7){a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);b=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return a<b?c(window).width()+"px":a+"px"}else return c(document).width()+"px"},resize:function(){var a=c([]);c.each(c.ui.dialog.overlay.instances,function(){a=a.add(this)});a.css({width:0,height:0}).css({width:c.ui.dialog.overlay.width(),height:c.ui.dialog.overlay.height()})}});c.extend(c.ui.dialog.overlay.prototype,{destroy:function(){c.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);;(function(d){d.widget("ui.slider",d.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var b=this,a=this.options;this._mouseSliding=this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");a.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");this.range=d([]);if(a.range){if(a.range===true){this.range=d("<div></div>");if(!a.values)a.values=[this._valueMin(),this._valueMin()];if(a.values.length&&a.values.length!==2)a.values=[a.values[0],a.values[0]]}else this.range=d("<div></div>");this.range.appendTo(this.element).addClass("ui-slider-range");if(a.range==="min"||a.range==="max")this.range.addClass("ui-slider-range-"+a.range);this.range.addClass("ui-widget-header")}d(".ui-slider-handle",this.element).length===0&&d("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");if(a.values&&a.values.length)for(;d(".ui-slider-handle",this.element).length<a.values.length;)d("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=d(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(c){c.preventDefault()}).hover(function(){a.disabled||d(this).addClass("ui-state-hover")},function(){d(this).removeClass("ui-state-hover")}).focus(function(){if(a.disabled)d(this).blur();else{d(".ui-slider .ui-state-focus").removeClass("ui-state-focus");d(this).addClass("ui-state-focus")}}).blur(function(){d(this).removeClass("ui-state-focus")});this.handles.each(function(c){d(this).data("index.ui-slider-handle",c)});this.handles.keydown(function(c){var e=true,f=d(this).data("index.ui-slider-handle"),h,g,i;if(!b.options.disabled){switch(c.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:e=false;if(!b._keySliding){b._keySliding=true;d(this).addClass("ui-state-active");h=b._start(c,f);if(h===false)return}break}i=b.options.step;h=b.options.values&&b.options.values.length?(g=b.values(f)):(g=b.value());switch(c.keyCode){case d.ui.keyCode.HOME:g=b._valueMin();break;case d.ui.keyCode.END:g=b._valueMax();break;case d.ui.keyCode.PAGE_UP:g=b._trimAlignValue(h+(b._valueMax()-b._valueMin())/5);break;case d.ui.keyCode.PAGE_DOWN:g=b._trimAlignValue(h-(b._valueMax()-b._valueMin())/5);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(h===b._valueMax())return;g=b._trimAlignValue(h+i);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(h===b._valueMin())return;g=b._trimAlignValue(h-i);break}b._slide(c,f,g);return e}}).keyup(function(c){var e=d(this).data("index.ui-slider-handle");if(b._keySliding){b._keySliding=false;b._stop(c,e);b._change(c,e);d(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");this._mouseDestroy();return this},_mouseCapture:function(b){var a=this.options,c,e,f,h,g;if(a.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();c=this._normValueFromMouse({x:b.pageX,y:b.pageY});e=this._valueMax()-this._valueMin()+1;h=this;this.handles.each(function(i){var j=Math.abs(c-h.values(i));if(e>j){e=j;f=d(this);g=i}});if(a.range===true&&this.values(1)===a.min){g+=1;f=d(this.handles[g])}if(this._start(b,g)===false)return false;this._mouseSliding=true;h._handleIndex=g;f.addClass("ui-state-active").focus();a=f.offset();this._clickOffset=!d(b.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:b.pageX-a.left-f.width()/2,top:b.pageY-a.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)};this.handles.hasClass("ui-state-hover")||this._slide(b,g,c);return this._animateOff=true},_mouseStart:function(){return true},_mouseDrag:function(b){var a=this._normValueFromMouse({x:b.pageX,y:b.pageY});this._slide(b,this._handleIndex,a);return false},_mouseStop:function(b){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(b){var a;if(this.orientation==="horizontal"){a=this.elementSize.width;b=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{a=this.elementSize.height;b=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}a=b/a;if(a>1)a=1;if(a<0)a=0;if(this.orientation==="vertical")a=1-a;b=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+a*b)},_start:function(b,a){var c={handle:this.handles[a],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(a);c.values=this.values()}return this._trigger("start",b,c)},_slide:function(b,a,c){var e;if(this.options.values&&this.options.values.length){e=this.values(a?0:1);if(this.options.values.length===2&&this.options.range===true&&(a===0&&c>e||a===1&&c<e))c=e;if(c!==this.values(a)){e=this.values();e[a]=c;b=this._trigger("slide",b,{handle:this.handles[a],value:c,values:e});this.values(a?0:1);b!==false&&this.values(a,c,true)}}else if(c!==this.value()){b=this._trigger("slide",b,{handle:this.handles[a],value:c});b!==false&&this.value(c)}},_stop:function(b,a){var c={handle:this.handles[a],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(a);c.values=this.values()}this._trigger("stop",b,c)},_change:function(b,a){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[a],value:this.value()};if(this.options.values&&this.options.values.length){c.value=this.values(a);c.values=this.values()}this._trigger("change",b,c)}},value:function(b){if(arguments.length){this.options.value=this._trimAlignValue(b);this._refreshValue();this._change(null,0)}return this._value()},values:function(b,a){var c,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(a);this._refreshValue();this._change(null,b)}if(arguments.length)if(d.isArray(arguments[0])){c=this.options.values;e=arguments[0];for(f=0;f<c.length;f+=1){c[f]=this._trimAlignValue(e[f]);this._change(null,f)}this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(b):this.value();else return this._values()},_setOption:function(b,a){var c,e=0;if(d.isArray(this.options.values))e=this.options.values.length;d.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":if(a){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(c=0;c<e;c+=1)this._change(null,c);this._animateOff=false;break}},_value:function(){var b=this.options.value;return b=this._trimAlignValue(b)},_values:function(b){var a,c;if(arguments.length){a=this.options.values[b];return a=this._trimAlignValue(a)}else{a=this.options.values.slice();for(c=0;c<a.length;c+=1)a[c]=this._trimAlignValue(a[c]);return a}},_trimAlignValue:function(b){if(b<=this._valueMin())return this._valueMin();if(b>=this._valueMax())return this._valueMax();var a=this.options.step>0?this.options.step:1,c=(b-this._valueMin())%a;alignValue=b-c;if(Math.abs(c)*2>=a)alignValue+=c>0?a:-a;return parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,a=this.options,c=this,e=!this._animateOff?a.animate:false,f,h={},g,i,j,l;if(this.options.values&&this.options.values.length)this.handles.each(function(k){f=(c.values(k)-c._valueMin())/(c._valueMax()-c._valueMin())*100;h[c.orientation==="horizontal"?"left":"bottom"]=f+"%";d(this).stop(1,1)[e?"animate":"css"](h,a.animate);if(c.options.range===true)if(c.orientation==="horizontal"){if(k===0)c.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},a.animate);if(k===1)c.range[e?"animate":"css"]({width:f-g+"%"},{queue:false,duration:a.animate})}else{if(k===0)c.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},a.animate);if(k===1)c.range[e?"animate":"css"]({height:f-g+"%"},{queue:false,duration:a.animate})}g=f});else{i=this.value();j=this._valueMin();l=this._valueMax();f=l!==j?(i-j)/(l-j)*100:0;h[c.orientation==="horizontal"?"left":"bottom"]=f+"%";this.handle.stop(1,1)[e?"animate":"css"](h,a.animate);if(b==="min"&&this.orientation==="horizontal")this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},a.animate);if(b==="max"&&this.orientation==="horizontal")this.range[e?"animate":"css"]({width:100-f+"%"},{queue:false,duration:a.animate});if(b==="min"&&this.orientation==="vertical")this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},a.animate);if(b==="max"&&this.orientation==="vertical")this.range[e?"animate":"css"]({height:100-f+"%"},{queue:false,duration:a.animate})}}});d.extend(d.ui.slider,{version:"1.8.11"})})(jQuery);;(function(d,p){function u(){return++v}function w(){return++x}var v=0,x=0;d.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true)},_setOption:function(b,e){if(b=="selected")this.options.collapsible&&e==this.options.selected||this.select(e);else{this.options[b]=e;this._tabify()}},_tabId:function(b){return b.title&&b.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+u()},_sanitizeSelector:function(b){return b.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+w());return d.cookie.apply(null,[b].concat(d.makeArray(arguments)))},_ui:function(b,e){return{tab:b,panel:e,index:this.anchors.index(b)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=d(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(b){function e(g,f){g.css("display","");!d.support.opacity&&f.opacity&&g[0].style.removeAttribute("filter")}var a=this,c=this.options,h=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=d(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return d("a",this)[0]});this.panels=d([]);this.anchors.each(function(g,f){var i=d(f).attr("href"),l=i.split("#")[0],q;if(l&&(l===location.toString().split("#")[0]||(q=d("base")[0])&&l===q.href)){i=f.hash;f.href=i}if(h.test(i))a.panels=a.panels.add(a.element.find(a._sanitizeSelector(i)));else if(i&&i!=="#"){d.data(f,"href.tabs",i);d.data(f,"load.tabs",i.replace(/#.*$/,""));i=a._tabId(f);f.href="#"+i;f=a.element.find("#"+i);if(!f.length){f=d(c.panelTemplate).attr("id",i).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(a.panels[g-1]||a.list);f.data("destroy.tabs",true)}a.panels=a.panels.add(f)}else c.disabled.push(g)});if(b){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(c.selected===p){location.hash&&this.anchors.each(function(g,f){if(f.hash==location.hash){c.selected=g;return false}});if(typeof c.selected!=="number"&&c.cookie)c.selected=parseInt(a._cookie(),10);if(typeof c.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length)c.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));c.selected=c.selected||(this.lis.length?0:-1)}else if(c.selected===null)c.selected=-1;c.selected=c.selected>=0&&this.anchors[c.selected]||c.selected<0?c.selected:0;c.disabled=d.unique(c.disabled.concat(d.map(this.lis.filter(".ui-state-disabled"),function(g){return a.lis.index(g)}))).sort();d.inArray(c.selected,c.disabled)!=-1&&c.disabled.splice(d.inArray(c.selected,c.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(c.selected>=0&&this.anchors.length){a.element.find(a._sanitizeSelector(a.anchors[c.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(c.selected).addClass("ui-tabs-selected ui-state-active");a.element.queue("tabs",function(){a._trigger("show",null,a._ui(a.anchors[c.selected],a.element.find(a._sanitizeSelector(a.anchors[c.selected].hash))[0]))});this.load(c.selected)}d(window).bind("unload",function(){a.lis.add(a.anchors).unbind(".tabs");a.lis=a.anchors=a.panels=null})}else c.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));this.element[c.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");c.cookie&&this._cookie(c.selected,c.cookie);b=0;for(var j;j=this.lis[b];b++)d(j)[d.inArray(b,c.disabled)!=-1&&!d(j).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");c.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(c.event!=="mouseover"){var k=function(g,f){f.is(":not(.ui-state-disabled)")&&f.addClass("ui-state-"+g)},n=function(g,f){f.removeClass("ui-state-"+
g)};this.lis.bind("mouseover.tabs",function(){k("hover",d(this))});this.lis.bind("mouseout.tabs",function(){n("hover",d(this))});this.anchors.bind("focus.tabs",function(){k("focus",d(this).closest("li"))});this.anchors.bind("blur.tabs",function(){n("focus",d(this).closest("li"))})}var m,o;if(c.fx)if(d.isArray(c.fx)){m=c.fx[0];o=c.fx[1]}else m=o=c.fx;var r=o?function(g,f){d(g).closest("li").addClass("ui-tabs-selected ui-state-active");f.hide().removeClass("ui-tabs-hide").animate(o,o.duration||"normal",function(){e(f,o);a._trigger("show",null,a._ui(g,f[0]))})}:function(g,f){d(g).closest("li").addClass("ui-tabs-selected ui-state-active");f.removeClass("ui-tabs-hide");a._trigger("show",null,a._ui(g,f[0]))},s=m?function(g,f){f.animate(m,m.duration||"normal",function(){a.lis.removeClass("ui-tabs-selected ui-state-active");f.addClass("ui-tabs-hide");e(f,m);a.element.dequeue("tabs")})}:function(g,f){a.lis.removeClass("ui-tabs-selected ui-state-active");f.addClass("ui-tabs-hide");a.element.dequeue("tabs")};this.anchors.bind(c.event+".tabs",function(){var g=this,f=d(g).closest("li"),i=a.panels.filter(":not(.ui-tabs-hide)"),l=a.element.find(a._sanitizeSelector(g.hash));if(f.hasClass("ui-tabs-selected")&&!c.collapsible||f.hasClass("ui-state-disabled")||f.hasClass("ui-state-processing")||a.panels.filter(":animated").length||a._trigger("select",null,a._ui(this,l[0]))===false){this.blur();return false}c.selected=a.anchors.index(this);a.abort();if(c.collapsible)if(f.hasClass("ui-tabs-selected")){c.selected=-1;c.cookie&&a._cookie(c.selected,c.cookie);a.element.queue("tabs",function(){s(g,i)}).dequeue("tabs");this.blur();return false}else if(!i.length){c.cookie&&a._cookie(c.selected,c.cookie);a.element.queue("tabs",function(){r(g,l)});a.load(a.anchors.index(this));this.blur();return false}c.cookie&&a._cookie(c.selected,c.cookie);if(l.length){i.length&&a.element.queue("tabs",function(){s(g,i)});a.element.queue("tabs",function(){r(g,l)});a.load(a.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";d.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return false})},_getIndex:function(b){if(typeof b=="string")b=this.anchors.index(this.anchors.filter("[href$="+b+"]"));return b},destroy:function(){var b=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var e=d.data(this,"href.tabs");if(e)this.href=e;var a=d(this).unbind(".tabs");d.each(["href","load","cache"],function(c,h){a.removeData(h+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){d.data(this,"destroy.tabs")?d(this).remove():d(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});b.cookie&&this._cookie(null,b.cookie);return this},add:function(b,e,a){if(a===p)a=this.anchors.length;var c=this,h=this.options;e=d(h.tabTemplate.replace(/#\{href\}/g,b).replace(/#\{label\}/g,e));b=!b.indexOf("#")?b.replace("#",""):this._tabId(d("a",e)[0]);e.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var j=c.element.find("#"+b);j.length||(j=d(h.panelTemplate).attr("id",b).data("destroy.tabs",true));j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(a>=this.lis.length){e.appendTo(this.list);j.appendTo(this.list[0].parentNode)}else{e.insertBefore(this.lis[a]);j.insertBefore(this.panels[a])}h.disabled=d.map(h.disabled,function(k){return k>=a?++k:k});this._tabify();if(this.anchors.length==1){h.selected=0;e.addClass("ui-tabs-selected ui-state-active");j.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){c._trigger("show",null,c._ui(c.anchors[0],c.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[a],this.panels[a]));return this},remove:function(b){b=this._getIndex(b);var e=this.options,a=this.lis.eq(b).remove(),c=this.panels.eq(b).remove();if(a.hasClass("ui-tabs-selected")&&this.anchors.length>1)this.select(b+(b+1<this.anchors.length?1:-1));e.disabled=d.map(d.grep(e.disabled,function(h){return h!=b}),function(h){return h>=b?--h:h});this._tabify();this._trigger("remove",null,this._ui(a.find("a")[0],c[0]));return this},enable:function(b){b=this._getIndex(b);var e=this.options;if(d.inArray(b,e.disabled)!=-1){this.lis.eq(b).removeClass("ui-state-disabled");e.disabled=d.grep(e.disabled,function(a){return a!=b});this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b]));return this}},disable:function(b){b=this._getIndex(b);var e=this.options;if(b!=e.selected){this.lis.eq(b).addClass("ui-state-disabled");e.disabled.push(b);e.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[b],this.panels[b]))}return this},select:function(b){b=this._getIndex(b);if(b==-1)if(this.options.collapsible&&this.options.selected!=-1)b=this.options.selected;else return this;this.anchors.eq(b).trigger(this.options.event+".tabs");return this},load:function(b){b=this._getIndex(b);var e=this,a=this.options,c=this.anchors.eq(b)[0],h=d.data(c,"load.tabs");this.abort();if(!h||this.element.queue("tabs").length!==0&&d.data(c,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(b).addClass("ui-state-processing");if(a.spinner){var j=d("span",c);j.data("label.tabs",j.html()).html(a.spinner)}this.xhr=d.ajax(d.extend({},a.ajaxOptions,{url:h,success:function(k,n){e.element.find(e._sanitizeSelector(c.hash)).html(k);e._cleanup();a.cache&&d.data(c,"cache.tabs",true);e._trigger("load",null,e._ui(e.anchors[b],e.panels[b]));try{a.ajaxOptions.success(k,n)}catch(m){}},error:function(k,n){e._cleanup();e._trigger("load",null,e._ui(e.anchors[b],e.panels[b]));try{a.ajaxOptions.error(k,n,b,c)}catch(m){}}}));e.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup();return this},url:function(b,e){this.anchors.eq(b).removeData("cache.tabs").data("load.tabs",e);return this},length:function(){return this.anchors.length}});d.extend(d.ui.tabs,{version:"1.8.11"});d.extend(d.ui.tabs.prototype,{rotation:null,rotate:function(b,e){var a=this,c=this.options,h=a._rotate||(a._rotate=function(j){clearTimeout(a.rotation);a.rotation=setTimeout(function(){var k=c.selected;a.select(++k<a.anchors.length?k:0)},b);j&&j.stopPropagation()});e=a._unrotate||(a._unrotate=!e?function(j){j.clientX&&a.rotate(null)}:function(){t=c.selected;h()});if(b){this.element.bind("tabsshow",h);this.anchors.bind(c.event+".tabs",e);h()}else{clearTimeout(a.rotation);this.element.unbind("tabsshow",h);this.anchors.unbind(c.event+".tabs",e);delete this._rotate;delete this._unrotate}return this}})})(jQuery);;(function(d,A){function K(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}function F(a,b){d.extend(a,b);for(var c in b)if(b[c]==null||b[c]==A)a[c]=b[c];return a}d.extend(d.ui,{datepicker:{version:"1.8.11"}});var y=(new Date).getTime();d.extend(K.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){F(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input")this._connectDatepicker(a,i);else f&&this._inlineDatepicker(a,i)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both")a.focus(this._showDatepicker);if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++)if(f[g].length>h){h=f[g].length;i=g}return i};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);this._updateAlternate(b);b.dpDiv.show()}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}F(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos)this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)];this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(e=="div"||e=="span")b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(e=="div"||e=="span")b.children("."+this._inlineClass).children().removeClass("ui-state-disabled");this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(e=="div"||e=="span")b.children("."+this._inlineClass).children().addClass("ui-state-disabled");this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return false;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return true;return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null;var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true),i=this._getMinMaxDate(e,"min"),g=this._getMinMaxDate(e,"max");F(e.settings,f);if(i!==null&&f.dateFormat!==A&&f.minDate===A)e.settings.minDate=this._formatDate(e,i);if(g!==null&&f.dateFormat!==A&&f.maxDate===A)e.settings.maxDate=this._formatDate(e,g);this._attachments(d(a),e);this._autoSize(e);this._setDateDatepicker(a,h);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv);c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey)d.datepicker._clearDate(a.target);c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey)d.datepicker._gotoToday(a.target);c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?+1:-1,"D");c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey)d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 38:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,-7,"D");c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?-1:+1,"D");c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey)d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 40:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,+7,"D");c=a.ctrlKey||a.metaKey;break;default:c=false}else if(a.keyCode==36&&a.ctrlKey)d.datepicker._showDatepicker(this);else c=false;if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==A?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal)try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input")a=d("input",a.parentNode)[0];if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(true,true);var c=d.datepicker._get(b,"beforeShow");F(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog)a.value="";if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return!e});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){d.datepicker._datepickerShowing=true;var i=b.dpDiv.find("iframe.ui-datepicker-cover");if(i.length){var g=d.datepicker._getBorders(b.dpDiv);i.css({left:-g[0],top:-g[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1);d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f)h();b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a));var e=a.dpDiv.find("iframe.ui-datepicker-cover");e.length&&e.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).addClass("ui-datepicker-next-hover")}}).end().find("."+
this._dayOverClass+" a").trigger("mouseover").end();c=this._getNumberOfMonths(a);e=c[1];e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var f=a.yearshtml;setTimeout(function(){f===a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);f=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+i):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1||d.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker")))if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();if(a=this._get(b,"onClose"))a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]);this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0);b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c)c.apply(a.input?a.input[0]:null,[b,a]);else a.input&&a.input.trigger("change");if(a.inline)this._updateDatepicker(a);else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10);for(var f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,l=-1,u=-1,k=false,o=function(p){(p=z+1<a.length&&a.charAt(z+1)==p)&&z++;return p},m=function(p){var v=o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"&&v?4:p=="o"?3:2)+"}");p=b.substring(s).match(p);if(!p)throw"Missing number at position "+s;s+=p[0].length;return parseInt(p[0],10)},n=function(p,v,H){p=o(p)?H:v;for(v=0;v<p.length;v++)if(b.substr(s,p[v].length).toLowerCase()==p[v].toLowerCase()){s+=p[v].length;return v+1}throw"Unknown name at position "+
s;},r=function(){if(b.charAt(s)!=a.charAt(z))throw"Unexpected literal at position "+s;s++},s=0,z=0;z<a.length;z++)if(k)if(a.charAt(z)=="'"&&!o("'"))k=false;else r();else switch(a.charAt(z)){case"d":l=m("d");break;case"D":n("D",f,h);break;case"o":u=m("o");break;case"m":j=m("m");break;case"M":j=n("M",i,g);break;case"y":c=m("y");break;case"@":var w=new Date(m("@"));c=w.getFullYear();j=w.getMonth()+1;l=w.getDate();break;case"!":w=new Date((m("!")-this._ticksTo1970)/1E4);c=w.getFullYear();j=w.getMonth()+
1;l=w.getDate();break;case"'":if(o("'"))r();else k=true;break;default:r()}if(c==-1)c=(new Date).getFullYear();else if(c<100)c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100);if(u>-1){j=1;l=u;do{e=this._getDaysInMonth(c,j-1);if(l<=e)break;j++;l-=e}while(1)}w=this._daylightSavingAdjust(new Date(c,j-1,l));if(w.getFullYear()!=c||w.getMonth()+1!=j||w.getDate()!=l)throw"Invalid date";return w},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1E7,formatDate:function(a,b,c){if(!b)return"";var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=k+1<a.length&&a.charAt(k+1)==o)&&k++;return o},g=function(o,m,n){m=""+m;if(i(o))for(;m.length<n;)m="0"+m;return m},j=function(o,m,n,r){return i(o)?r[m]:n[m]},l="",u=false;if(b)for(var k=0;k<a.length;k++)if(u)if(a.charAt(k)=="'"&&!i("'"))u=false;else l+=a.charAt(k);else switch(a.charAt(k)){case"d":l+=g("d",b.getDate(),2);break;case"D":l+=j("D",b.getDay(),e,f);break;case"o":l+=g("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5,3);break;case"m":l+=g("m",b.getMonth()+1,2);break;case"M":l+=j("M",b.getMonth(),h,c);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=b.getTime()*1E4+this._ticksTo1970;break;case"'":if(i("'"))l+="'";else u=true;break;default:l+=a.charAt(k)}return l},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++)if(c)if(a.charAt(f)=="'"&&!e("'"))c=false;else b+=a.charAt(f);else switch(a.charAt(f)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":if(e("'"))b+="'";else c=true;break;default:b+=a.charAt(f)}return b},_get:function(a,b){return a.settings[b]!==A?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,j=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=u.exec(h);k;){switch(k[2]||"d"){case"d":case"D":g+=parseInt(k[1],10);break;case"w":case"W":g+=parseInt(k[1],10)*7;break;case"m":case"M":l+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break;case"y":case"Y":j+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break}k=u.exec(h)}return new Date(j,l,g)};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c)this._notifyChange(a);this._adjustInstDate(a);if(a.input)a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),k=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=k&&n<k?k:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-j,1)),this._getFormatConfig(a));n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+
(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var r=this._get(a,"nextText");r=!h?r:this.formatDate(r,this._daylightSavingAdjust(new Date(m,g+j,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+r+'"><span class="ui-icon ui-icon-circle-triangle-'+
(c?"w":"e")+'">'+r+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>";j=this._get(a,"currentText");r=this._get(a,"gotoCurrent")&&a.currentDay?u:b;j=!h?j:this.formatDate(j,r,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,r)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;j=this._get(a,"showWeek");r=this._get(a,"dayNames");this._get(a,"dayNamesShort");var s=this._get(a,"dayNamesMin"),z=this._get(a,"monthNames"),w=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),v=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var L=this._getDefaultDate(a),I="",D=0;D<i[0];D++){for(var M="",E=0;E<i[1];E++){var N=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",x="";if(l){x+='<div class="ui-datepicker-group';if(i[1]>1)switch(E){case 0:x+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-
1:x+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:x+=" ui-datepicker-group-middle";t="";break}x+='">'}x+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&D==0?c?f:n:"")+(/all|right/.test(t)&&D==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,k,o,D>0||E>0,z,w)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var B=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var q=(t+h)%7;B+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+r[q]+'">'+s[q]+"</span></th>"}x+=B+"</tr></thead><tbody>";B=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth)a.selectedDay=Math.min(a.selectedDay,B);t=(this._getFirstDayOfMonth(m,g)-h+7)%7;B=l?6:Math.ceil((t+B)/7);q=this._daylightSavingAdjust(new Date(m,g,1-t));for(var O=0;O<B;O++){x+="<tr>";var P=!j?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(q)+"</td>";for(t=0;t<7;t++){var G=p?p.apply(a.input?a.input[0]:null,[q]):[true,""],C=q.getMonth()!=g,J=C&&!H||!G[0]||k&&q<k||o&&q>o;P+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(C?" ui-datepicker-other-month":"")+(q.getTime()==N.getTime()&&g==a.selectedMonth&&a._keyEvent||L.getTime()==q.getTime()&&L.getTime()==N.getTime()?" "+this._dayOverClass:"")+(J?" "+this._unselectableClass+" ui-state-disabled":"")+(C&&!v?"":" "+G[1]+(q.getTime()==u.getTime()?" "+this._currentClass:"")+(q.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!C||v)&&G[2]?' title="'+G[2]+'"':"")+(J?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+a.id+"',"+q.getMonth()+","+q.getFullYear()+', this);return false;"')+">"+(C&&!v?"&#xa0;":J?'<span class="ui-state-default">'+q.getDate()+"</span>":'<a class="ui-state-default'+(q.getTime()==b.getTime()?" ui-state-highlight":"")+(q.getTime()==u.getTime()?" ui-state-active":"")+(C?" ui-priority-secondary":"")+'" href="#">'+q.getDate()+"</a>")+"</td>";q.setDate(q.getDate()+1);q=this._daylightSavingAdjust(q)}x+=P+"</tr>"}g++;if(g>11){g=0;m++}x+="</tbody></table>"+(l?"</div>"+(i[0]>0&&E==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");M+=x}I+=M}I+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=false;return I},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var j=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),k='<div class="ui-datepicker-title">',o="";if(h||!j)o+='<span class="ui-datepicker-month">'+i[b]+"</span>";else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++)if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth()))o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>";o+="</select>"}u||(k+=o+(h||!(j&&l)?"&#xa0;":""));a.yearshtml="";if(h||!l)k+='<span class="ui-datepicker-year">'+c+"</span>";else{g=this._get(a,"yearRange").split(":");var r=(new Date).getFullYear();i=function(s){s=s.match(/c[+-].*/)?c+parseInt(s.substring(1),10):s.match(/[+-].*/)?r+parseInt(s,10):parseInt(s,10);return isNaN(s)?r:s};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+
a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++)a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";a.yearshtml+="</select>";if(d.browser.mozilla)k+='<select class="ui-datepicker-year"><option value="'+c+'" selected="selected">'+c+"</option></select>";else{k+=a.yearshtml;a.yearshtml=null}}k+=this._get(a,"yearSuffix");if(u)k+=(h||!(j&&l)?"&#xa0;":"")+o;k+="</div>";return k},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y")this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b)b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!this.length)return this;if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget"))return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string")return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new K;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.11";window["DP_jQuery_"+y]=d})(jQuery);;(function(b,d){b.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()});this.valueDiv=b("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this.oldValue=this._value();this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove();b.Widget.prototype.destroy.apply(this,arguments)},value:function(a){if(a===d)return this._value();this._setOption("value",a);return this},_setOption:function(a,c){if(a==="value"){this.options.value=c;this._refreshValue();this._value()===this.options.max&&this._trigger("complete")}b.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var a=this.options.value;if(typeof a!=="number")a=0;return Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),c=this._percentage();if(this.oldValue!==a){this.oldValue=a;this._trigger("change")}this.valueDiv.toggleClass("ui-corner-right",a===this.options.max).width(c.toFixed(0)+"%");this.element.attr("aria-valuenow",a)}});b.extend(b.ui.progressbar,{version:"1.8.11"})})(jQuery);;jQuery.effects||function(f,j){function n(c){var a;if(c&&c.constructor==Array&&c.length==3)return c;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)];if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return[parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55];if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)];if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(c))return o.transparent;return o[f.trim(c).toLowerCase()]}function s(c,a){var b;do{b=f.curCSS(c,a);if(b!=""&&b!="transparent"||f.nodeName(c,"body"))break;a="backgroundColor"}while(c=c.parentNode);return n(b)}function p(){var c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,a={},b,d;if(c&&c.length&&c[0]&&c[c[0]])for(var e=c.length;e--;){b=c[e];if(typeof c[b]=="string"){d=b.replace(/\-(\w)/g,function(g,h){return h.toUpperCase()});a[d]=c[b]}}else for(b in c)if(typeof c[b]==="string")a[b]=c[b];return a}function q(c){var a,b;for(a in c){b=c[a];if(b==null||f.isFunction(b)||a in t||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(b)))delete c[a]}return c}function u(c,a){var b={_:0},d;for(d in a)if(c[d]!=a[d])b[d]=a[d];return b}function k(c,a,b,d){if(typeof c=="object"){d=a;b=null;a=c;c=a.effect}if(f.isFunction(a)){d=a;b=null;a={}}if(typeof a=="number"||f.fx.speeds[a]){d=b;b=a;a={}}if(f.isFunction(b)){d=b;b=null}a=a||{};b=b||a.duration;b=f.fx.off?0:typeof b=="number"?b:b in f.fx.speeds?f.fx.speeds[b]:f.fx.speeds._default;d=d||a.complete;return[c,a,b,d]}function m(c){if(!c||typeof c==="number"||f.fx.speeds[c])return true;if(typeof c==="string"&&!f.effects[c])return true;return false}f.effects={};f.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(c,a){f.fx.step[a]=function(b){if(!b.colorInit){b.start=s(b.elem,a);b.end=n(b.end);b.colorInit=true}b.elem.style[a]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-b.start[2])+b.start[2],10),255),0)+")"}});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},r=["add","remove","toggle"],t={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};f.effects.animateClass=function(c,a,b,d){if(f.isFunction(b)){d=b;b=null}return this.queue("fx",function(){var e=f(this),g=e.attr("style")||" ",h=q(p.call(this)),l,v=e.attr("className");f.each(r,function(w,i){c[i]&&e[i+"Class"](c[i])});l=q(p.call(this));e.attr("className",v);e.animate(u(h,l),a,b,function(){f.each(r,function(w,i){c[i]&&e[i+"Class"](c[i])});if(typeof e.attr("style")=="object"){e.attr("style").cssText="";e.attr("style").cssText=g}else e.attr("style",g);d&&d.apply(this,arguments)});h=f.queue(this);l=h.splice(h.length-1,1)[0];h.splice(1,0,l);f.dequeue(this)})};f.fn.extend({_addClass:f.fn.addClass,addClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{add:c},a,b,d]):this._addClass(c)},_removeClass:f.fn.removeClass,removeClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{remove:c},a,b,d]):this._removeClass(c)},_toggleClass:f.fn.toggleClass,toggleClass:function(c,a,b,d,e){return typeof a=="boolean"||a===j?b?f.effects.animateClass.apply(this,[a?{add:c}:{remove:c},b,d,e]):this._toggleClass(c,a):f.effects.animateClass.apply(this,[{toggle:c},a,b,d])},switchClass:function(c,a,b,d,e){return f.effects.animateClass.apply(this,[{add:a,remove:c},b,d,e])}});f.extend(f.effects,{version:"1.8.11",save:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.data("ec.storage."+a[b],c[0].style[a[b]])},restore:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.css(a[b],c.data("ec.storage."+a[b]))},setMode:function(c,a){if(a=="toggle")a=c.is(":hidden")?"show":"hide";return a},getBaseline:function(c,a){var b;switch(c[0]){case"top":b=0;break;case"middle":b=0.5;break;case"bottom":b=1;break;default:b=c[0]/a.height}switch(c[1]){case"left":c=0;break;case"center":c=0.5;break;case"right":c=1;break;default:c=c[1]/a.width}return{x:c,y:b}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var a={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},b=f("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});c.wrap(b);b=c.parent();if(c.css("position")=="static"){b.css({position:"relative"});c.css({position:"relative"})}else{f.extend(a,{position:c.css("position"),zIndex:c.css("z-index")});f.each(["top","left","bottom","right"],function(d,e){a[e]=c.css(e);if(isNaN(parseInt(a[e],10)))a[e]="auto"});c.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return b.css(a).show()},removeWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent().replaceWith(c);return c},setTransition:function(c,a,b,d){d=d||{};f.each(a,function(e,g){unit=c.cssUnit(g);if(unit[0]>0)d[g]=unit[0]*b+unit[1]});return d}});f.fn.extend({effect:function(c){var a=k.apply(this,arguments),b={options:a[1],duration:a[2],callback:a[3]};a=b.options.mode;var d=f.effects[c];if(f.fx.off||!d)return a?this[a](b.duration,b.callback):this.each(function(){b.callback&&b.callback.call(this)});return d.call(this,b)},_show:f.fn.show,show:function(c){if(m(c))return this._show.apply(this,arguments);else{var a=k.apply(this,arguments);a[1].mode="show";return this.effect.apply(this,a)}},_hide:f.fn.hide,hide:function(c){if(m(c))return this._hide.apply(this,arguments);else{var a=k.apply(this,arguments);a[1].mode="hide";return this.effect.apply(this,a)}},__toggle:f.fn.toggle,toggle:function(c){if(m(c)||typeof c==="boolean"||f.isFunction(c))return this.__toggle.apply(this,arguments);else{var a=k.apply(this,arguments);a[1].mode="toggle";return this.effect.apply(this,a)}},cssUnit:function(c){var a=this.css(c),b=[];f.each(["em","px","%","pt"],function(d,e){if(a.indexOf(e)>0)b=[parseFloat(a),e]});return b}});f.easing.jswing=f.easing.swing;f.extend(f.easing,{def:"easeOutQuad",swing:function(c,a,b,d,e){return f.easing[f.easing.def](c,a,b,d,e)},easeInQuad:function(c,a,b,d,e){return d*(a/=e)*a+b},easeOutQuad:function(c,a,b,d,e){return-d*(a/=e)*(a-2)+b},easeInOutQuad:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a+b;return-d/2*(--a*(a-2)-1)+b},easeInCubic:function(c,a,b,d,e){return d*(a/=e)*a*a+b},easeOutCubic:function(c,a,b,d,e){return d*((a=a/e-1)*a*a+1)+b},easeInOutCubic:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a+b;return d/2*((a-=2)*a*a+2)+b},easeInQuart:function(c,a,b,d,e){return d*(a/=e)*a*a*a+b},easeOutQuart:function(c,a,b,d,e){return-d*((a=a/e-1)*a*a*a-1)+b},easeInOutQuart:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a+b;return-d/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(c,a,b,d,e){return d*(a/=e)*a*a*a*a+b},easeOutQuint:function(c,a,b,d,e){return d*((a=a/e-1)*a*a*a*a+1)+b},easeInOutQuint:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a*a+b;return d/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(c,a,b,d,e){return-d*Math.cos(a/e*(Math.PI/2))+d+b},easeOutSine:function(c,a,b,d,e){return d*Math.sin(a/e*(Math.PI/2))+b},easeInOutSine:function(c,a,b,d,e){return-d/2*(Math.cos(Math.PI*a/e)-1)+b},easeInExpo:function(c,a,b,d,e){return a==0?b:d*Math.pow(2,10*(a/e-1))+b},easeOutExpo:function(c,a,b,d,e){return a==e?b+d:d*(-Math.pow(2,-10*a/e)+1)+b},easeInOutExpo:function(c,a,b,d,e){if(a==0)return b;if(a==e)return b+d;if((a/=e/2)<1)return d/2*Math.pow(2,10*(a-1))+b;return d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(c,a,b,d,e){return-d*(Math.sqrt(1-(a/=e)*a)-1)+b},easeOutCirc:function(c,a,b,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+b},easeInOutCirc:function(c,a,b,d,e){if((a/=e/2)<1)return-d/2*(Math.sqrt(1-a*a)-1)+b;return d/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e)==1)return b+d;g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g))+b},easeOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e)==1)return b+d;g||(g=e*0.3);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*a)*Math.sin((a*e-c)*2*Math.PI/g)+d+b},easeInOutElastic:function(c,a,b,d,e){c=1.70158;var g=0,h=d;if(a==0)return b;if((a/=e/2)==2)return b+d;g||(g=e*0.3*1.5);if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);if(a<1)return-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)+b;return h*Math.pow(2,-10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)*0.5+d+b},easeInBack:function(c,a,b,d,e,g){if(g==j)g=1.70158;return d*(a/=e)*a*((g+1)*a-g)+b},easeOutBack:function(c,a,b,d,e,g){if(g==j)g=1.70158;return d*((a=a/e-1)*a*((g+1)*a+g)+1)+b},easeInOutBack:function(c,a,b,d,e,g){if(g==j)g=1.70158;if((a/=e/2)<1)return d/2*a*a*(((g*=1.525)+1)*a-g)+b;return d/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+b},easeInBounce:function(c,a,b,d,e){return d-f.easing.easeOutBounce(c,e-a,0,d,e)+b},easeOutBounce:function(c,a,b,d,e){return(a/=e)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},easeInOutBounce:function(c,a,b,d,e){if(a<e/2)return f.easing.easeInBounce(c,a*2,0,d,e)*0.5+b;return f.easing.easeOutBounce(c,a*2-e,0,d,e)*0.5+d*0.5+b}})}(jQuery);;(function(b){b.effects.blind=function(c){return this.queue(function(){var a=b(this),g=["position","top","bottom","left","right"],f=b.effects.setMode(a,c.options.mode||"hide"),d=c.options.direction||"vertical";b.effects.save(a,g);a.show();var e=b.effects.createWrapper(a).css({overflow:"hidden"}),h=d=="vertical"?"height":"width";d=d=="vertical"?e.height():e.width();f=="show"&&e.css(h,0);var i={};i[h]=f=="show"?d:0;e.animate(i,c.duration,c.options.easing,function(){f=="hide"&&a.hide();b.effects.restore(a,g);b.effects.removeWrapper(a);c.callback&&c.callback.apply(a[0],arguments);a.dequeue()})})}})(jQuery);;(function(e){e.effects.bounce=function(b){return this.queue(function(){var a=e(this),l=["position","top","bottom","left","right"],h=e.effects.setMode(a,b.options.mode||"effect"),d=b.options.direction||"up",c=b.options.distance||20,m=b.options.times||5,i=b.duration||250;/show|hide/.test(h)&&l.push("opacity");e.effects.save(a,l);a.show();e.effects.createWrapper(a);var f=d=="up"||d=="down"?"top":"left";d=d=="up"||d=="left"?"pos":"neg";c=b.options.distance||(f=="top"?a.outerHeight({margin:true})/3:a.outerWidth({margin:true})/3);if(h=="show")a.css("opacity",0).css(f,d=="pos"?-c:c);if(h=="hide")c/=m*2;h!="hide"&&m--;if(h=="show"){var g={opacity:1};g[f]=(d=="pos"?"+=":"-=")+c;a.animate(g,i/2,b.options.easing);c/=2;m--}for(g=0;g<m;g++){var j={},k={};j[f]=(d=="pos"?"-=":"+=")+c;k[f]=(d=="pos"?"+=":"-=")+c;a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing);c=h=="hide"?c*2:c/2}if(h=="hide"){g={opacity:0};g[f]=(d=="pos"?"-=":"+=")+c;a.animate(g,i/2,b.options.easing,function(){a.hide();e.effects.restore(a,l);e.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments)})}else{j={};k={};j[f]=(d=="pos"?"-=":"+=")+c;k[f]=(d=="pos"?"+=":"-=")+c;a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing,function(){e.effects.restore(a,l);e.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments)})}a.queue("fx",function(){a.dequeue()});a.dequeue()})}})(jQuery);;(function(b){b.effects.clip=function(e){return this.queue(function(){var a=b(this),i=["position","top","bottom","left","right","height","width"],f=b.effects.setMode(a,e.options.mode||"hide"),c=e.options.direction||"vertical";b.effects.save(a,i);a.show();var d=b.effects.createWrapper(a).css({overflow:"hidden"});d=a[0].tagName=="IMG"?d:a;var g={size:c=="vertical"?"height":"width",position:c=="vertical"?"top":"left"};c=c=="vertical"?d.height():d.width();if(f=="show"){d.css(g.size,0);d.css(g.position,c/2)}var h={};h[g.size]=f=="show"?c:0;h[g.position]=f=="show"?0:c/2;d.animate(h,{queue:false,duration:e.duration,easing:e.options.easing,complete:function(){f=="hide"&&a.hide();b.effects.restore(a,i);b.effects.removeWrapper(a);e.callback&&e.callback.apply(a[0],arguments);a.dequeue()}})})}})(jQuery);;(function(c){c.effects.drop=function(d){return this.queue(function(){var a=c(this),h=["position","top","bottom","left","right","opacity"],e=c.effects.setMode(a,d.options.mode||"hide"),b=d.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a);var f=b=="up"||b=="down"?"top":"left";b=b=="up"||b=="left"?"pos":"neg";var g=d.options.distance||(f=="top"?a.outerHeight({margin:true})/2:a.outerWidth({margin:true})/2);if(e=="show")a.css("opacity",0).css(f,b=="pos"?-g:g);var i={opacity:e=="show"?1:0};i[f]=(e=="show"?b=="pos"?"+=":"-=":b=="pos"?"-=":"+=")+g;a.animate(i,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){e=="hide"&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);d.callback&&d.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);;(function(j){j.effects.explode=function(a){return this.queue(function(){var c=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3,d=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3;a.options.mode=a.options.mode=="toggle"?j(this).is(":visible")?"hide":"show":a.options.mode;var b=j(this).show().css("visibility","hidden"),g=b.offset();g.top-=parseInt(b.css("marginTop"),10)||0;g.left-=parseInt(b.css("marginLeft"),10)||0;for(var h=b.outerWidth(true),i=b.outerHeight(true),e=0;e<c;e++)for(var f=0;f<d;f++)b.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*(h/d),top:-e*(i/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h/d,height:i/c,left:g.left+f*(h/d)+(a.options.mode=="show"?(f-Math.floor(d/2))*(h/d):0),top:g.top+e*(i/c)+(a.options.mode=="show"?(e-Math.floor(c/2))*(i/c):0),opacity:a.options.mode=="show"?0:1}).animate({left:g.left+f*(h/d)+(a.options.mode=="show"?0:(f-Math.floor(d/2))*(h/d)),top:g.top+
e*(i/c)+(a.options.mode=="show"?0:(e-Math.floor(c/2))*(i/c)),opacity:a.options.mode=="show"?1:0},a.duration||500);setTimeout(function(){a.options.mode=="show"?b.css({visibility:"visible"}):b.css({visibility:"visible"}).hide();a.callback&&a.callback.apply(b[0]);b.dequeue();j("div.ui-effects-explode").remove()},a.duration||500)})}})(jQuery);;(function(b){b.effects.fade=function(a){return this.queue(function(){var c=b(this),d=b.effects.setMode(c,a.options.mode||"hide");c.animate({opacity:d},{queue:false,duration:a.duration,easing:a.options.easing,complete:function(){a.callback&&a.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);;(function(c){c.effects.fold=function(a){return this.queue(function(){var b=c(this),j=["position","top","bottom","left","right"],d=c.effects.setMode(b,a.options.mode||"hide"),g=a.options.size||15,h=!!a.options.horizFirst,k=a.duration?a.duration/2:c.fx.speeds._default/2;c.effects.save(b,j);b.show();var e=c.effects.createWrapper(b).css({overflow:"hidden"}),f=d=="show"!=h,l=f?["width","height"]:["height","width"];f=f?[e.width(),e.height()]:[e.height(),e.width()];var i=/([0-9]+)%/.exec(g);if(i)g=parseInt(i[1],10)/100*f[d=="hide"?0:1];if(d=="show")e.css(h?{height:0,width:g}:{height:g,width:0});h={};i={};h[l[0]]=d=="show"?f[0]:g;i[l[1]]=d=="show"?f[1]:0;e.animate(h,k,a.options.easing).animate(i,k,a.options.easing,function(){d=="hide"&&b.hide();c.effects.restore(b,j);c.effects.removeWrapper(b);a.callback&&a.callback.apply(b[0],arguments);b.dequeue()})})}})(jQuery);;(function(b){b.effects.highlight=function(c){return this.queue(function(){var a=b(this),e=["backgroundImage","backgroundColor","opacity"],d=b.effects.setMode(a,c.options.mode||"show"),f={backgroundColor:a.css("backgroundColor")};if(d=="hide")f.opacity=0;b.effects.save(a,e);a.show().css({backgroundImage:"none",backgroundColor:c.options.color||"#ffff99"}).animate(f,{queue:false,duration:c.duration,easing:c.options.easing,complete:function(){d=="hide"&&a.hide();b.effects.restore(a,e);d=="show"&&!b.support.opacity&&this.style.removeAttribute("filter");c.callback&&c.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);;(function(d){d.effects.pulsate=function(a){return this.queue(function(){var b=d(this),c=d.effects.setMode(b,a.options.mode||"show");times=(a.options.times||5)*2-1;duration=a.duration?a.duration/2:d.fx.speeds._default/2;isVisible=b.is(":visible");animateTo=0;if(!isVisible){b.css("opacity",0).show();animateTo=1}if(c=="hide"&&isVisible||c=="show"&&!isVisible)times--;for(c=0;c<times;c++){b.animate({opacity:animateTo},duration,a.options.easing);animateTo=(animateTo+1)%2}b.animate({opacity:animateTo},duration,a.options.easing,function(){animateTo==0&&b.hide();a.callback&&a.callback.apply(this,arguments)});b.queue("fx",function(){b.dequeue()}).dequeue()})}})(jQuery);;(function(c){c.effects.puff=function(b){return this.queue(function(){var a=c(this),e=c.effects.setMode(a,b.options.mode||"hide"),g=parseInt(b.options.percent,10)||150,h=g/100,i={height:a.height(),width:a.width()};c.extend(b.options,{fade:true,mode:e,percent:e=="hide"?g:100,from:e=="hide"?i:{height:i.height*h,width:i.width*h}});a.effect("scale",b.options,b.duration,b.callback);a.dequeue()})};c.effects.scale=function(b){return this.queue(function(){var a=c(this),e=c.extend(true,{},b.options),g=c.effects.setMode(a,b.options.mode||"effect"),h=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:g=="hide"?0:100),i=b.options.direction||"both",f=b.options.origin;if(g!="effect"){e.origin=f||["middle","center"];e.restore=true}f={height:a.height(),width:a.width()};a.from=b.options.from||(g=="show"?{height:0,width:0}:f);h={y:i!="horizontal"?h/100:1,x:i!="vertical"?h/100:1};a.to={height:f.height*h.y,width:f.width*h.x};if(b.options.fade){if(g=="show"){a.from.opacity=0;a.to.opacity=1}if(g=="hide"){a.from.opacity=1;a.to.opacity=0}}e.from=a.from;e.to=a.to;e.mode=g;a.effect("size",e,b.duration,b.callback);a.dequeue()})};c.effects.size=function(b){return this.queue(function(){var a=c(this),e=["position","top","bottom","left","right","width","height","overflow","opacity"],g=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],i=["fontSize"],f=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],k=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=c.effects.setMode(a,b.options.mode||"effect"),n=b.options.restore||false,m=b.options.scale||"both",l=b.options.origin,j={height:a.height(),width:a.width()};a.from=b.options.from||j;a.to=b.options.to||j;if(l){l=c.effects.getBaseline(l,j);a.from.top=(j.height-a.from.height)*l.y;a.from.left=(j.width-a.from.width)*l.x;a.to.top=(j.height-a.to.height)*l.y;a.to.left=(j.width-a.to.width)*l.x}var d={from:{y:a.from.height/j.height,x:a.from.width/j.width},to:{y:a.to.height/j.height,x:a.to.width/j.width}};if(m=="box"||m=="both"){if(d.from.y!=d.to.y){e=e.concat(f);a.from=c.effects.setTransition(a,f,d.from.y,a.from);a.to=c.effects.setTransition(a,f,d.to.y,a.to)}if(d.from.x!=d.to.x){e=e.concat(k);a.from=c.effects.setTransition(a,k,d.from.x,a.from);a.to=c.effects.setTransition(a,k,d.to.x,a.to)}}if(m=="content"||m=="both")if(d.from.y!=d.to.y){e=e.concat(i);a.from=c.effects.setTransition(a,i,d.from.y,a.from);a.to=c.effects.setTransition(a,i,d.to.y,a.to)}c.effects.save(a,n?e:g);a.show();c.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);if(m=="content"||m=="both"){f=f.concat(["marginTop","marginBottom"]).concat(i);k=k.concat(["marginLeft","marginRight"]);h=e.concat(f).concat(k);a.find("*[width]").each(function(){child=c(this);n&&c.effects.save(child,h);var o={height:child.height(),width:child.width()};child.from={height:o.height*d.from.y,width:o.width*d.from.x};child.to={height:o.height*d.to.y,width:o.width*d.to.x};if(d.from.y!=d.to.y){child.from=c.effects.setTransition(child,f,d.from.y,child.from);child.to=c.effects.setTransition(child,f,d.to.y,child.to)}if(d.from.x!=d.to.x){child.from=c.effects.setTransition(child,k,d.from.x,child.from);child.to=c.effects.setTransition(child,k,d.to.x,child.to)}child.css(child.from);child.animate(child.to,b.duration,b.options.easing,function(){n&&c.effects.restore(child,h)})})}a.animate(a.to,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){a.to.opacity===0&&a.css("opacity",a.from.opacity);p=="hide"&&a.hide();c.effects.restore(a,n?e:g);c.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);;(function(d){d.effects.shake=function(a){return this.queue(function(){var b=d(this),j=["position","top","bottom","left","right"];d.effects.setMode(b,a.options.mode||"effect");var c=a.options.direction||"left",e=a.options.distance||20,l=a.options.times||3,f=a.duration||a.options.duration||140;d.effects.save(b,j);b.show();d.effects.createWrapper(b);var g=c=="up"||c=="down"?"top":"left",h=c=="up"||c=="left"?"pos":"neg";c={};var i={},k={};c[g]=(h=="pos"?"-=":"+=")+e;i[g]=(h=="pos"?"+=":"-=")+e*2;k[g]=(h=="pos"?"-=":"+=")+e*2;b.animate(c,f,a.options.easing);for(e=1;e<l;e++)b.animate(i,f,a.options.easing).animate(k,f,a.options.easing);b.animate(i,f,a.options.easing).animate(c,f/2,a.options.easing,function(){d.effects.restore(b,j);d.effects.removeWrapper(b);a.callback&&a.callback.apply(this,arguments)});b.queue("fx",function(){b.dequeue()});b.dequeue()})}})(jQuery);;(function(c){c.effects.slide=function(d){return this.queue(function(){var a=c(this),h=["position","top","bottom","left","right"],f=c.effects.setMode(a,d.options.mode||"show"),b=d.options.direction||"left";c.effects.save(a,h);a.show();c.effects.createWrapper(a).css({overflow:"hidden"});var g=b=="up"||b=="down"?"top":"left";b=b=="up"||b=="left"?"pos":"neg";var e=d.options.distance||(g=="top"?a.outerHeight({margin:true}):a.outerWidth({margin:true}));if(f=="show")a.css(g,b=="pos"?isNaN(e)?"-"+e:-e:e);var i={};i[g]=(f=="show"?b=="pos"?"+=":"-=":b=="pos"?"-=":"+=")+e;a.animate(i,{queue:false,duration:d.duration,easing:d.options.easing,complete:function(){f=="hide"&&a.hide();c.effects.restore(a,h);c.effects.removeWrapper(a);d.callback&&d.callback.apply(this,arguments);a.dequeue()}})})}})(jQuery);;(function(e){e.effects.transfer=function(a){return this.queue(function(){var b=e(this),c=e(a.options.to),d=c.offset();c={top:d.top,left:d.left,height:c.innerHeight(),width:c.innerWidth()};d=b.offset();var f=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(a.options.className).css({top:d.top,left:d.left,height:b.innerHeight(),width:b.innerWidth(),position:"absolute"}).animate(c,a.duration,a.options.easing,function(){f.remove();a.callback&&a.callback.apply(b[0],arguments);b.dequeue()})})}})(jQuery);;
(function($){function getter(plugin,method,args){function getMethods(type){var methods=$[plugin][type]||[];return(typeof methods=='string'?methods.split(/,?\s+/):methods);}
var methods=getMethods('getter');return($.inArray(method,methods)!=-1);}
$.fn.jPlayer=function(options){var name="jPlayer";var isMethodCall=(typeof options=='string');var args=Array.prototype.slice.call(arguments,1);if(isMethodCall&&options.substring(0,1)=='_'){return this;}
if(isMethodCall&&getter(name,options,args)){var instance=$.data(this[0],name);return(instance?instance[options].apply(instance,args):undefined);}
return this.each(function(){var instance=$.data(this,name);if(!instance&&!isMethodCall){$.data(this,name,new $[name](this,options))._init();}
(instance&&isMethodCall&&$.isFunction(instance[options])&&instance[options].apply(instance,args));});};$.jPlayer=function(element,options){this.options=$.extend({},options);this.element=$(element);};$.jPlayer.getter="jPlayerOnProgressChange jPlayerOnSoundComplete jPlayerVolume jPlayerReady getData jPlayerController";$.jPlayer.defaults={cssPrefix:"jqjp",swfPath:"js",volume:80,oggSupport:false,nativeSupport:true,preload:'none',customCssIds:false,graphicsFix:true,errorAlerts:false,warningAlerts:false,position:"absolute",width:"0",height:"0",top:"0",left:"0",quality:"high",bgcolor:"#ffffff"};$.jPlayer._config={version:"1.2.0",swfVersionRequired:"1.2.0",swfVersion:"unknown",jPlayerControllerId:undefined,delayedCommandId:undefined,isWaitingForPlay:false,isFileSet:false};$.jPlayer._diag={isPlaying:false,src:"",loadPercent:0,playedPercentRelative:0,playedPercentAbsolute:0,playedTime:0,totalTime:0};$.jPlayer._cssId={play:"jplayer_play",pause:"jplayer_pause",stop:"jplayer_stop",loadBar:"jplayer_load_bar",playBar:"jplayer_play_bar",volumeMin:"jplayer_volume_min",volumeMax:"jplayer_volume_max",volumeBar:"jplayer_volume_bar",volumeBarValue:"jplayer_volume_bar_value"};$.jPlayer.count=0;$.jPlayer.timeFormat={showHour:false,showMin:true,showSec:true,padHour:false,padMin:true,padSec:true,sepHour:":",sepMin:":",sepSec:""};$.jPlayer.convertTime=function(mSec){var myTime=new Date(mSec);var hour=myTime.getUTCHours();var min=myTime.getUTCMinutes();var sec=myTime.getUTCSeconds();var strHour=($.jPlayer.timeFormat.padHour&&hour<10)?"0"+hour:hour;var strMin=($.jPlayer.timeFormat.padMin&&min<10)?"0"+min:min;var strSec=($.jPlayer.timeFormat.padSec&&sec<10)?"0"+sec:sec;return(($.jPlayer.timeFormat.showHour)?strHour+$.jPlayer.timeFormat.sepHour:"")+(($.jPlayer.timeFormat.showMin)?strMin+$.jPlayer.timeFormat.sepMin:"")+(($.jPlayer.timeFormat.showSec)?strSec+$.jPlayer.timeFormat.sepSec:"");};$.jPlayer.prototype={_init:function(){var self=this;var element=this.element;this.config=$.extend({},$.jPlayer.defaults,this.options,$.jPlayer._config);this.config.diag=$.extend({},$.jPlayer._diag);this.config.cssId={};this.config.cssSelector={};this.config.cssDisplay={};this.config.clickHandler={};this.element.data("jPlayer.config",this.config);$.extend(this.config,{id:this.element.attr("id"),swf:this.config.swfPath+((this.config.swfPath!=""&&this.config.swfPath.slice(-1)!="/")?"/":"")+"Jplayer.swf",fid:this.config.cssPrefix+"_flash_"+$.jPlayer.count,aid:this.config.cssPrefix+"_audio_"+$.jPlayer.count,hid:this.config.cssPrefix+"_force_"+$.jPlayer.count,i:$.jPlayer.count,volume:this._limitValue(this.config.volume,0,100),autobuffer:this.config.preload!='none'});$.jPlayer.count++;if(this.config.ready!=undefined){if($.isFunction(this.config.ready)){this.jPlayerReadyCustom=this.config.ready;}else{this._warning("Constructor's ready option is not a function.");}}
this.config.audio=document.createElement('audio');this.config.audio.id=this.config.aid;$.extend(this.config,{canPlayMP3:!!((this.config.audio.canPlayType)?((""!=this.config.audio.canPlayType("audio/mpeg"))&&("no"!=this.config.audio.canPlayType("audio/mpeg"))):false),canPlayOGG:!!((this.config.audio.canPlayType)?((""!=this.config.audio.canPlayType("audio/ogg"))&&("no"!=this.config.audio.canPlayType("audio/ogg"))):false),aSel:$("#"+this.config.aid)});$.extend(this.config,{html5:!!((this.config.oggSupport)?((this.config.canPlayOGG)?true:this.config.canPlayMP3):this.config.canPlayMP3)});$.extend(this.config,{usingFlash:!(this.config.html5&&this.config.nativeSupport),usingMP3:!(this.config.oggSupport&&this.config.canPlayOGG&&this.config.nativeSupport)});var events={setButtons:function(e,playing){self.config.diag.isPlaying=playing;if(self.config.cssId.play!=undefined&&self.config.cssId.pause!=undefined){if(playing){self.config.cssSelector.play.css("display","none");self.config.cssSelector.pause.css("display",self.config.cssDisplay.pause);}else{self.config.cssSelector.play.css("display",self.config.cssDisplay.play);self.config.cssSelector.pause.css("display","none");}}
if(playing){self.config.isWaitingForPlay=false;}}};var eventsForFlash={setFile:function(e,mp3,ogg){try{self._getMovie().fl_setFile_mp3(mp3);if(self.config.autobuffer){element.trigger("jPlayer.load");}
self.config.diag.src=mp3;self.config.isFileSet=true;element.trigger("jPlayer.setButtons",false);}catch(err){self._flashError(err);}},clearFile:function(e){try{element.trigger("jPlayer.setButtons",false);self._getMovie().fl_clearFile_mp3();self.config.diag.src="";self.config.isFileSet=false;}catch(err){self._flashError(err);}},load:function(e){try{self._getMovie().fl_load_mp3();}catch(err){self._flashError(err);}},play:function(e){try{if(self._getMovie().fl_play_mp3()){element.trigger("jPlayer.setButtons",true);}}catch(err){self._flashError(err);}},pause:function(e){try{if(self._getMovie().fl_pause_mp3()){element.trigger("jPlayer.setButtons",false);}}catch(err){self._flashError(err);}},stop:function(e){try{if(self._getMovie().fl_stop_mp3()){element.trigger("jPlayer.setButtons",false);}}catch(err){self._flashError(err);}},playHead:function(e,p){try{if(self._getMovie().fl_play_head_mp3(p)){element.trigger("jPlayer.setButtons",true);}}catch(err){self._flashError(err);}},playHeadTime:function(e,t){try{if(self._getMovie().fl_play_head_time_mp3(t)){element.trigger("jPlayer.setButtons",true);}}catch(err){self._flashError(err);}},volume:function(e,v){self.config.volume=v;try{self._getMovie().fl_volume_mp3(v);}catch(err){self._flashError(err);}}};var eventsForHtmlAudio={setFile:function(e,mp3,ogg){if(self.config.usingMP3){self.config.diag.src=mp3;}else{self.config.diag.src=ogg;}
if(self.config.isFileSet&&!self.config.isWaitingForPlay){element.trigger("jPlayer.pause");}
self.config.audio.autobuffer=self.config.autobuffer;self.config.audio.preload=self.config.preload;if(self.config.autobuffer){self.config.audio.src=self.config.diag.src;self.config.audio.load();}else{self.config.isWaitingForPlay=true;}
self.config.isFileSet=true;self.jPlayerOnProgressChange(0,0,0,0,0);clearInterval(self.config.jPlayerControllerId);if(self.config.autobuffer){self.config.jPlayerControllerId=window.setInterval(function(){self.jPlayerController(false);},100);}
clearInterval(self.config.delayedCommandId);},clearFile:function(e){self.setFile("","");self.config.isWaitingForPlay=false;self.config.isFileSet=false;},load:function(e){if(self.config.isFileSet){if(self.config.isWaitingForPlay){self.config.audio.autobuffer=true;self.config.audio.preload='auto';self.config.audio.src=self.config.diag.src;self.config.audio.load();self.config.isWaitingForPlay=false;clearInterval(self.config.jPlayerControllerId);self.config.jPlayerControllerId=window.setInterval(function(){self.jPlayerController(false);},100);}}},play:function(e){if(self.config.isFileSet){if(self.config.isWaitingForPlay){self.config.audio.src=self.config.diag.src;self.config.audio.load();}
self.config.audio.play();element.trigger("jPlayer.setButtons",true);clearInterval(self.config.jPlayerControllerId);self.config.jPlayerControllerId=window.setInterval(function(){self.jPlayerController(false);},100);clearInterval(self.config.delayedCommandId);}},pause:function(e){if(self.config.isFileSet){self.config.audio.pause();element.trigger("jPlayer.setButtons",false);clearInterval(self.config.delayedCommandId);}},stop:function(e){if(self.config.isFileSet){try{element.trigger("jPlayer.pause");self.config.audio.currentTime=0;clearInterval(self.config.jPlayerControllerId);self.config.jPlayerControllerId=window.setInterval(function(){self.jPlayerController(true);},100);}catch(err){clearInterval(self.config.delayedCommandId);self.config.delayedCommandId=window.setTimeout(function(){self.stop();},100);}}},playHead:function(e,p){if(self.config.isFileSet){try{element.trigger("jPlayer.load");if((typeof self.config.audio.buffered=="object")&&(self.config.audio.buffered.length>0)){self.config.audio.currentTime=p*self.config.audio.buffered.end(self.config.audio.buffered.length-1)/100;}else if(self.config.audio.duration>0&&!isNaN(self.config.audio.duration)){self.config.audio.currentTime=p*self.config.audio.duration/100;}else{throw"e";}
element.trigger("jPlayer.play");}catch(err){element.trigger("jPlayer.play");element.trigger("jPlayer.pause");self.config.delayedCommandId=window.setTimeout(function(){self.playHead(p);},100);}}},playHeadTime:function(e,t){if(self.config.isFileSet){try{element.trigger("jPlayer.load");self.config.audio.currentTime=t/1000;element.trigger("jPlayer.play");}catch(err){element.trigger("jPlayer.play");element.trigger("jPlayer.pause");self.config.delayedCommandId=window.setTimeout(function(){self.playHeadTime(t);},100);}}},volume:function(e,v){self.config.volume=v;self.config.audio.volume=v/100;self.jPlayerVolume(v);}};if(this.config.usingFlash){$.extend(events,eventsForFlash);}else{$.extend(events,eventsForHtmlAudio);}
for(var event in events){var e="jPlayer."+event;this.element.unbind(e);this.element.bind(e,events[event]);}
if(this.config.usingFlash){if(this._checkForFlash(8)){if($.browser.msie){var html_obj='<object id="'+this.config.fid+'"';html_obj+=' classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"';html_obj+=' codebase="'+document.URL.substring(0,document.URL.indexOf(':'))+'://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"';html_obj+=' type="application/x-shockwave-flash"';html_obj+=' width="'+this.config.width+'" height="'+this.config.height+'">';html_obj+='</object>';var obj_param=new Array();obj_param[0]='<param name="movie" value="'+this.config.swf+'" />';obj_param[1]='<param name="quality" value="high" />';obj_param[2]='<param name="FlashVars" value="id='+escape(this.config.id)+'&fid='+escape(this.config.fid)+'&vol='+this.config.volume+'" />';obj_param[3]='<param name="allowScriptAccess" value="always" />';obj_param[4]='<param name="bgcolor" value="'+this.config.bgcolor+'" />';var ie_dom=document.createElement(html_obj);for(var i=0;i<obj_param.length;i++){ie_dom.appendChild(document.createElement(obj_param[i]));}
this.element.html(ie_dom);}else{var html_embed='<embed name="'+this.config.fid+'" id="'+this.config.fid+'" src="'+this.config.swf+'"';html_embed+=' width="'+this.config.width+'" height="'+this.config.height+'" bgcolor="'+this.config.bgcolor+'"';html_embed+=' quality="high" FlashVars="id='+escape(this.config.id)+'&fid='+escape(this.config.fid)+'&vol='+this.config.volume+'"';html_embed+=' allowScriptAccess="always"';html_embed+=' type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />';this.element.html(html_embed);}}else{this.element.html("<p>Flash 8 or above is not installed. <a href='http://get.adobe.com/flashplayer'>Get Flash!</a></p>");}}else{this.config.audio.autobuffer=this.config.autobuffer;this.config.audio.preload=this.config.preload;this.config.audio.addEventListener("canplay",function(){var rnd=0.1*Math.random();var fix=(self.config.volume<50)?rnd:-rnd;self.config.audio.volume=(self.config.volume+fix)/100;},false);this.config.audio.addEventListener("ended",function(){clearInterval(self.config.jPlayerControllerId);self.jPlayerOnSoundComplete();},false);this.element.append(this.config.audio);}
this.element.css({'position':this.config.position,'top':this.config.top,'left':this.config.left});if(this.config.graphicsFix){var html_hidden='<div id="'+this.config.hid+'"></div>';this.element.append(html_hidden);$.extend(this.config,{hSel:$("#"+this.config.hid)});this.config.hSel.css({'text-indent':'-9999px'});}
if(!this.config.customCssIds){$.each($.jPlayer._cssId,function(name,id){self.cssId(name,id);});}
if(!this.config.usingFlash){this.element.css({'left':'-9999px'});window.setTimeout(function(){self.volume(self.config.volume);self.jPlayerReady();},100);}},jPlayerReady:function(swfVersion){if(this.config.usingFlash){this.config.swfVersion=swfVersion;if(this.config.swfVersionRequired!=this.config.swfVersion){this._error("jPlayer's JavaScript / SWF version mismatch!\n\nJavaScript requires SWF : "+this.config.swfVersionRequired+"\nThe Jplayer.swf used is : "+this.config.swfVersion);}}else{this.config.swfVersion="n/a";}
this.jPlayerReadyCustom();},jPlayerReadyCustom:function(){},setFile:function(mp3,ogg){this.element.trigger("jPlayer.setFile",[mp3,ogg]);},clearFile:function(){this.element.trigger("jPlayer.clearFile");},load:function(){this.element.trigger("jPlayer.load");},play:function(){this.element.trigger("jPlayer.play");},pause:function(){this.element.trigger("jPlayer.pause");},stop:function(){this.element.trigger("jPlayer.stop");},playHead:function(p){this.element.trigger("jPlayer.playHead",[p]);},playHeadTime:function(t){this.element.trigger("jPlayer.playHeadTime",[t]);},volume:function(v){v=this._limitValue(v,0,100);this.element.trigger("jPlayer.volume",[v]);},cssId:function(fn,id){var self=this;if(typeof id=='string'){if($.jPlayer._cssId[fn]){if(this.config.cssId[fn]!=undefined){this.config.cssSelector[fn].unbind("click",this.config.clickHandler[fn]);}
this.config.cssId[fn]=id;this.config.cssSelector[fn]=$("#"+id);this.config.clickHandler[fn]=function(e){self[fn](e);$(this).blur();return false;}
this.config.cssSelector[fn].click(this.config.clickHandler[fn]);var display=this.config.cssSelector[fn].css("display");if(fn=="play"){this.config.cssDisplay["pause"]=display;}
if(!(fn=="pause"&&display=="none")){this.config.cssDisplay[fn]=display;if(fn=="pause"){this.config.cssSelector[fn].css("display","none");}}}else{this._warning("Unknown/Illegal function in cssId\n\njPlayer('cssId', '"+fn+"', '"+id+"')");}}else{this._warning("cssId CSS Id must be a string\n\njPlayer('cssId', '"+fn+"', "+id+")");}},loadBar:function(e){if(this.config.cssId.loadBar!=undefined){var offset=this.config.cssSelector.loadBar.offset();var x=e.pageX-offset.left;var w=this.config.cssSelector.loadBar.width();var p=100*x/w;this.playHead(p);}},playBar:function(e){this.loadBar(e);},onProgressChange:function(fn){if($.isFunction(fn)){this.onProgressChangeCustom=fn;}else{this._warning("onProgressChange parameter is not a function.");}},onProgressChangeCustom:function(){},jPlayerOnProgressChange:function(lp,ppr,ppa,pt,tt){this.config.diag.loadPercent=lp;this.config.diag.playedPercentRelative=ppr;this.config.diag.playedPercentAbsolute=ppa;this.config.diag.playedTime=pt;this.config.diag.totalTime=tt;if(this.config.cssId.loadBar!=undefined){this.config.cssSelector.loadBar.width(lp+"%");}
if(this.config.cssId.playBar!=undefined){this.config.cssSelector.playBar.width(ppr+"%");}
this.onProgressChangeCustom(lp,ppr,ppa,pt,tt);this._forceUpdate();},jPlayerController:function(override){var pt=0,tt=0,ppa=0,lp=0,ppr=0;if(this.config.audio.readyState>=1){pt=this.config.audio.currentTime*1000;tt=this.config.audio.duration*1000;tt=isNaN(tt)?0:tt;ppa=(tt>0)?100*pt/tt:0;if((typeof this.config.audio.buffered=="object")&&(this.config.audio.buffered.length>0)){lp=100*this.config.audio.buffered.end(this.config.audio.buffered.length-1)/this.config.audio.duration;ppr=100*this.config.audio.currentTime/this.config.audio.buffered.end(this.config.audio.buffered.length-1);}else{lp=100;ppr=ppa;}}
if(!this.config.diag.isPlaying&&lp>=100){clearInterval(this.config.jPlayerControllerId);}
if(override){this.jPlayerOnProgressChange(lp,0,0,0,tt);}else{this.jPlayerOnProgressChange(lp,ppr,ppa,pt,tt);}},volumeMin:function(){this.volume(0);},volumeMax:function(){this.volume(100);},volumeBar:function(e){if(this.config.cssId.volumeBar!=undefined){var offset=this.config.cssSelector.volumeBar.offset();var x=e.pageX-offset.left;var w=this.config.cssSelector.volumeBar.width();var p=100*x/w;this.volume(p);}},volumeBarValue:function(e){this.volumeBar(e);},jPlayerVolume:function(v){if(this.config.cssId.volumeBarValue!=null){this.config.cssSelector.volumeBarValue.width(v+"%");this._forceUpdate();}},onSoundComplete:function(fn){if($.isFunction(fn)){this.onSoundCompleteCustom=fn;}else{this._warning("onSoundComplete parameter is not a function.");}},onSoundCompleteCustom:function(){},jPlayerOnSoundComplete:function(){this.element.trigger("jPlayer.setButtons",false);this.onSoundCompleteCustom();},getData:function(name){var n=name.split(".");var p=this.config;for(var i=0;i<n.length;i++){if(p[n[i]]!=undefined){p=p[n[i]];}else{this._warning("Undefined data requested.\n\njPlayer('getData', '"+name+"')");return undefined;}}
return p;},_getMovie:function(){return document[this.config.fid];},_checkForFlash:function(version){var flashIsInstalled=false;var flash;if(window.ActiveXObject){try{flash=new ActiveXObject(("ShockwaveFlash.ShockwaveFlash."+version));flashIsInstalled=true;}
catch(e){}}
else if(navigator.plugins&&navigator.mimeTypes.length>0){flash=navigator.plugins["Shockwave Flash"];if(flash){var flashVersion=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");if(flashVersion>=version){flashIsInstalled=true;}}}
return flashIsInstalled;},_forceUpdate:function(){if(this.config.graphicsFix){this.config.hSel.text(""+Math.random());}},_limitValue:function(value,min,max){return(value<min)?min:((value>max)?max:value);},_flashError:function(e){this._error("Problem with Flash component.\n\nCheck the swfPath points at the Jplayer.swf path.\n\nswfPath = "+this.config.swfPath+"\nurl: "+this.config.swf+"\n\nError: "+e.message);},_error:function(msg){if(this.config.errorAlerts){this._alert("Error!\n\n"+msg);}},_warning:function(msg){if(this.config.warningAlerts){this._alert("Warning!\n\n"+msg);}},_alert:function(msg){alert("jPlayer "+this.config.version+" : id='"+this.config.id+"' : "+msg);}};})(jQuery);
function pkInlineTaggableWidget(selector,options)
{$(selector).each(function()
{var enhancedElement=$(this);var typeaheadUrl=options['typeahead-url'];var tagsLabel=(options['tags-label'])?options['tags-label']:'Existing Tags';var popularTagsLabel=(options['popular-tags-label'])?options['popular-tags-label']:'Popular Tags';var popularTags=options['popular-tags'];var existingTags={};var allTags=options['all-tags'];var commitSelector=options['commit-selector'];var commitEvent=(options['commit-event'])?options['commit-event']:'click';var addLinkClass=(options['add-link-class'])?options['add-link-class']:'a-popular-tags';var removeLinkClass=(options['remove-link-class'])?options['remove-link-class']:'a-existing-tags';if(typeof(popularTags)=='undefined')
{popularTags={};};if(typeof(allTags)=='undefined')
{allTags=={};};if($.trim($(this).val())!='')
{var lp=$(this).val().split(',');for(x in lp)
{existingTags[$.trim(lp[x])]=$.trim(lp[x]);}}
function change()
{enhancedElement.change();}
function makePopularLink(attributes,title,text)
{var new_tag=$('<span />');var new_link=$('<a />');new_tag.attr({title:title}).addClass('a-tag a-popular');new_tag.prepend(new_link);new_link.html(title+"<span class='a-tag-count icon'>"+text+"</span>");new_link.attr(attributes).addClass('a-link icon icon-right no-icon');return new_tag;}
function makeRemoveLink(attributes,title,text)
{title=$.trim(title);var new_tag=$('<span />');var new_link=$('<a />');var tagTitle=title;if(typeof(allTags)!='undefined')
{if(typeof(allTags[title])!='undefined')
{title=title+'<span class="a-tag-count icon">'+allTags[title]+'</span>';}
else
{title=title+'<span class="a-tag-count icon">0</span>';}}
new_link.text(tagTitle);new_link.attr(attributes);new_link.attr({title:'Remove Tag'}).addClass('a-link icon icon-right a-close-small alt');new_link.prepend('<span class="icon"></span>');new_tag.attr({title:tagTitle}).addClass('a-tag a-existing');new_tag.append(new_link);return new_tag;}
function trimExcessCommas(string)
{string=string.replace(/(^,)|(, ?$)/g,'');string=string.replace(/(,,)|(, ,)/,',');string=$.trim(string);return string;}
function split(val){return val.split(/,\s*/);}
function extractLast(term){return split(term).pop();}
function multipleSelect(event,ui)
{var terms=split(this.value);terms.pop();terms.push(ui.item.value);terms.push("");this.value=terms.join(", ");change();return false;}
function multipleFocus()
{return false;}
function multipleSearch()
{var term=extractLast(this.value);if(term.length<2){return false;}}
var unusedPopulars={};for(x in popularTags)
{if(typeof(existingTags[x])=='undefined')
{unusedPopulars[x]=popularTags[x];}}
var popularsAttributes={};var existingTagsAttributes={};var existingDiv=$('<div />');var popularsDiv=$('<div />');var tagInput=$(this);var typeAheadContainer=$('<div />');var typeAheadBox=$('<input />');var typeAheadBoxId='inline-tag-ahead-box-'+Math.floor(Math.random()*2000);typeAheadBox.attr('type','text');typeAheadBox.attr('id',typeAheadBoxId);typeAheadBox.change(function(){change();});if((typeof(allTags)=='undefined')&&(typeof(typeaheadUrl)!='undefined'))
{typeAheadBox.autocomplete({source:function(request,response){$.getJSON(typeaheadUrl,{term:extractLast(request.term)},response);},search:multipleSearch,focus:multipleFocus,select:multipleSelect});}
else if(typeof(allTags)!='undefined')
{var allTagsReformat=new Array();for(x in allTags)
{allTagsReformat.push(x);}
typeAheadBox.autocomplete({source:function(request,response){response($.ui.autocomplete.filter(allTagsReformat,extractLast(request.term)));},search:multipleSearch,focus:multipleFocus,select:multipleSelect});}
var addButton=$('<a />');addButton.html('<span class="icon"></span>Add');addButton.attr({'href':'#','class':'a-btn icon a-add add-tags-link','title':'Add these tags'});typeAheadContainer.addClass('a-inline-taggable-widget').append(typeAheadBox).append(addButton);tagInput.hide();tagInput.parent().append(typeAheadContainer);function addTagsToForm(link)
{var tag=link.attr('title');var value=tagInput.val()+', '+tag;value=trimExcessCommas(value);tagInput.val(value);if(link.parent().children().length==2)
link.parent().children('h4').hide();link.remove();var new_link=makeRemoveLink(existingTagsAttributes,tag,tag+' x');new_link.children('a').bind('click',function(){removeTagsFromForm($(this).parent());change();return false;});existingDiv.append(new_link);existingDiv.children('h4').show();}
function removeTagsFromForm(link)
{var tag=link.attr('title');var value=tagInput.val();value=value.replace(tag,'');value=trimExcessCommas(value);tagInput.val(value);if(link.parent().children().length==2)
link.parent().children('h4').hide();link.remove();if(typeof(popularTags[tag])!='undefined')
{var linkLabel=popularTags[tag];var new_link=makePopularLink(existingTagsAttributes,tag,linkLabel);new_link.children('a').bind('click',function(){addTagsToForm($(this).parent());change();return false;});popularsDiv.children('h4').show();popularsDiv.append(new_link);}}
function makeTagContainer(containerLabel,tagArray,linkAttributes,linkLabelType)
{var tagContainer=$('<div />');tagContainer.addClass('a-inline-taggable-widget-tag-container');var header=$('<h4 />');header.text(containerLabel).addClass('a-tag-heading');tagContainer.append(header);if(objEmpty(tagArray))
{header.hide();}
var attributes={};for(x in tagArray)
{var linkLabel='';if(linkLabelType=='add')
{tagContainer.addClass(addLinkClass);linkLabel=tagArray[x];var new_link=makePopularLink(linkAttributes,x,linkLabel);new_link.children('a').bind('click',function(){addTagsToForm($(this).parent());change();return false;});}
else if(linkLabelType=='remove')
{tagContainer.addClass(removeLinkClass);linkLabel='x '+x;var new_link=makeRemoveLink(linkAttributes,x,linkLabel);new_link.children('a').bind('click',function(){removeTagsFromForm($(this).parent());change();return false;});}
tagContainer.append(new_link);}
return tagContainer;}
function commitTagsToForm()
{if(typeAheadBox.val()!='')
{var value=tagInput.val()+','+typeAheadBox.val();value=trimExcessCommas(value);tagInput.val(value);typeAheadBox.val('');existingTags={};var lp=value.split(',');for(x in lp)
{existingTags[lp[x]]=lp[x];}
existingDiv.html(makeTagContainer(tagsLabel,existingTags,existingTagsAttributes,'remove').html());existingDiv.find('a').each(function(){$(this).bind('click',function(){removeTagsFromForm($(this).parent());change();return false;});});}
return false;}
addButton.bind('click',function(){commitTagsToForm();change();return false;});if(commitSelector!='undefined')
{$(commitSelector).bind(commitEvent,function(){commitTagsToForm();change();return true;});}
existingDiv=makeTagContainer(tagsLabel,existingTags,existingTagsAttributes,'remove');existingDiv.addClass(removeLinkClass).children('a').bind('click',function(){removeTagsFromForm($(this));return false;});tagInput.parent().prepend(existingDiv);popularsDiv=makeTagContainer(popularTagsLabel,unusedPopulars,popularsAttributes,'add');popularsDiv.children('a').bind('click',function(){addTagsToForm($(this));change();return false;});tagInput.parent().append(popularsDiv);$(document).keyup(function(e)
{if(e.keyCode==13)
{if(typeAheadBox.get(0)===$(document.activeElement).get(0))
{e.preventDefault();}}});$(document).keypress(function(e)
{if(e.keyCode==13)
{if(typeAheadBox.get(0)===$(document.activeElement).get(0))
{e.preventDefault();}}});typeAheadBox.keyup(function(e)
{if(e.keyCode==13)
{e.preventDefault();commitTagsToForm();}});function objEmpty(obj)
{for(var prop in obj)
{if(obj.hasOwnProperty(prop))
{return false;}}
return true;}});}
function pkTagahead(tagaheadUrl)
{$(function(){function getKey(event)
{return event.keyCode?event.keyCode:event.which;}
function setClick(target)
{$(target).find('a').click(function(event)
{var span=this.parentNode.parentNode.parentNode;var input=$(span).data("tag-peer");var parent=this.parentNode;$(input).val($(parent).text());$(input).focus();return false;});}
$('input.tag-input').after("<div class='tag-suggestions'></div>");$('input.tag-input').each(function()
{$(this).data("tag-peer",$(this).next()[0]);});$('div.tag-suggestions').each(function()
{$(this).data("tag-peer",$(this).prev()[0]);});$('input.tag-input').keyup(function(event)
{var key=getKey(event);if(key==9)
{var peer=$(this).data("tag-peer");var suggestions=$(peer).find("li");if(suggestions.length)
{$(this).val($(suggestions[0]).text());$(this).focus();}
return false;}
else
{}});$('input.tag-input').keypress(function(event)
{var key=getKey(event);if(key==9)
{return false;}});var lastValues={};setInterval(function()
{$('input.tag-input').each(function()
{var last=$(this).data('tag-last');var value=$(this).val();var peer=$(this).data('tag-peer');if(last!==value)
{$(this).data('tag-last',value);$.post(tagaheadUrl,{current:$(this).val()},function(data,textStatus)
{$(peer).html(data);setClick(peer);});}});},200);});}
function aBlogEnableTitle()
{apostrophe.formUpdates({'selector':'#a-blog-item-title-interface','update':'a-blog-title-and-slug'});var titleInterface=$('#a-blog-item-title-interface');var tControls=titleInterface.find('ul.a-controls');var tInput=titleInterface.find('.a-title');var originalTitle=tInput.val();tInput.keyup(function(event){if(tInput.val().trim()!=originalTitle.trim())
{titleInterface.addClass('has-changes');tControls.fadeIn();}
return false;});titleInterface.find('.a-cancel').click(function(){tInput.val(originalTitle);tControls.hide();return false;});}
function aBlogEnableSlug()
{apostrophe.formUpdates({'selector':'#a-blog-item-permalink-interface','update':'a-blog-title-and-slug'});var slugInterface=$('#a-blog-item-permalink-interface');var tControls=slugInterface.find('ul.a-controls');var tInput=slugInterface.find('.a-slug');var originalSlug=tInput.val();tInput.keyup(function(event){if(tInput.val().trim()!=originalSlug.trim())
{slugInterface.addClass('has-changes');tControls.fadeIn();}
return false;});slugInterface.find('.a-cancel').click(function(){tInput.val(originalSlug);tControls.hide();return false;});}
function aBlogUpdateComments(enabled,feedback)
{if(enabled)
{$('.section.comments .allow_comments_toggle').addClass('enabled').removeClass('disabled');}
else
{$('.section.comments .allow_comments_toggle').addClass('disabled').removeClass('enabled');}}
function aBlogEnableNewForm()
{var newForm=$('.a-blog-admin-new-form');newForm.submit(function(){var form=$(this);$.post(form.attr('action'),$(this).serialize(),function(data){$(document).append(data);});return false;});}
function aBlogEnableForm(options)
{var savedState=null;var form=$('#a-admin-form');form.data('changed',false);apostrophe.formUpdates({selector:'#a-admin-form',update:'a-admin-form'});$('.a-subnav-wrapper').addClass('a-ajax-attach-updating');var status=form.find('[name="a_blog_item[publication]"]');var init=true;function find(sel)
{return form.find(sel);}
status.change(function(){var c=form.find('.a-published-at-container');var s=status.val();if(s==='schedule')
{c.show();}
else
{c.hide();}
if(!init)
{find('.a-save-blog-main .label').text(options['update-labels'][s]);}
if(!init)
{form.data('changed',true);}
init=false;});status.change();form.find('#a_blog_item_location,#a_blog_item_all_day,#a_blog_item_start_date_month,#a_blog_item_start_date_day,#a_blog_item_start_date_year,#a_blog_item_start_time_hour,#a_blog_item_start_time_minute,#a_blog_item_end_date_month,#a_blog_item_end_date_day,#a_blog_item_end_date_year,#a_blog_item_end_time_hour,#a_blog_item_end_time_minute,#a_blog_item_published_at_hour,#a_blog_item_published_at_minute,#a_blog_item_author_id,#a-blog-post-tags-input').change(function(){form.data('changed',true);});form.find('#a_blog_item_location').keyup(function(){form.data('changed',true);});find('.template.section select').change(function(){alert(options['template-change-warning']);$(form).data('changed',false);$(form).unbind('submit.aFormUpdates');});find('.post-editors-toggle').click(function(){find('.post-editors-options').show();find('.post-editors-toggle').hide();return false;});var p={'choose-one':options['editors-choose-label'],'onChange':function(){form.data('changed',true);}};aMultipleSelect('#editors-section',p);p={'choose-one':options['categories-choose-label'],'onChange':function(){form.data('changed',true);}};if(options['categories-add'])
{p['add']=options['categories-add-label'];}
aMultipleSelect(form.find('#categories-section'),p);function toggleAllDay(checkbox){$(checkbox).toggleClass('all_day_enabled');find('.start_time').toggleClass('time_disabled').toggle();find('.end_time').toggleClass('time_disabled').toggle();}
find('.all_day input[type=checkbox]').bind('click',function(){toggleAllDay($(this));});if(find('.all_day input[type=checkbox]:checked').length)
{toggleAllDay($(this));}
$('#a_blog_item_start_date_jquery_control').bind('aDateUpdated',checkEndDateAndTime);$('#a_blog_item_start_time_timepicker').bind('aTimeUpdated',checkEndDateAndTime);function checkEndDateAndTime(){var startDate=$('#a_blog_item_start_date_jquery_control').val();var components=startDate.split('/');var startCompare;if(components.length===3)
{startCompare=pad(components[0])+'/'+pad(components[1])+'/'+pad(components[2]);}
var end=$('#a_blog_item_end_date_jquery_control');var endDate=end.val();var components=endDate.split('/');var endCompare;if(components.length===3)
{endCompare=pad(components[0])+'/'+pad(components[1])+'/'+pad(components[2]);}
if(startCompare&&(endCompare<startCompare))
{end.val(startDate);a_blog_item_end_date_update_linked(startDate);if(!$('#a_blog_item_all_day').attr('checked'))
{fix_end_time();}}
if(startCompare&&(startCompare==endCompare))
{if(!$('#a_blog_item_all_day').attr('checked'))
{var start_when=$('#a_blog_item_start_time_hour').val()*60+$('#a_blog_item_start_time_minute').val()-0;var end_when=$('#a_blog_item_end_time_hour').val()*60+$('#a_blog_item_end_time_minute').val()-0;if(start_when>end_when)
{fix_end_time();}}}
function fix_end_time()
{if($('#a_blog_item_start_time_hour').val()==23)
{$('#a_blog_item_end_time_hour').val(23);$('#a_blog_item_end_time_minute').val(59);}
else
{$('#a_blog_item_end_time_hour').val(parseInt($('#a_blog_item_start_time_hour').val())+1);$('#a_blog_item_end_time_minute').val($('#a_blog_item_start_time_minute').val());}
$('#a_blog_item_end_time_hour').trigger('updatePicker');}
function pad(n)
{var s=n+'';if(s.length<2)
{s='0'+s;}
return s;}}}
function aBlogGetPostStatus()
{var postStatus=$('#a_blog_item_status');return postStatus.val();}
function aBlogConstructor()
{this.sidebarEnhancements=function(options)
{var debug=options['debug'];debug?apostrophe.log('aBlog.sidebarEnhancements -- debug'):'';$('.a-tag-sidebar-title.all-tags').click(function(){$('.a-tag-sidebar-list.all-tags').slideToggle();$(this).toggleClass('open');});$('.a-tag-sidebar-title.all-tags').hover(function(){$(this).toggleClass('over');},function(){$(this).toggleClass('over');});};this.slotEditView=function(options)
{var formName=options['formName'];var autocompleteUrl=options['autocompleteUrl'];var className=options['class'];var selfLabelSelector=options['selfLabelSelector'];var debug=(options['debug'])?options['debug']:false;(debug)?apostrophe.log('aBlog.slotEditView -- formName: '+formName):'';(debug)?apostrophe.log('aBlog.slotEditView -- autocompleteUrl: '+autocompleteUrl):'';(debug)?apostrophe.log('aBlog.slotEditView -- class: '+className):'';aMultipleSelect('#a-'+formName+' .'+className,{'autocomplete':autocompleteUrl});aMultipleSelect('#a-'+formName+' .categories',{'choose-one':'Add Categories'});var slotEditForm=$('#a-'+formName)
var editStates=slotEditForm.find('.a-form-row.by-type input[type="radio"]');var editState=slotEditForm.find('.a-form-row.by-type input[type="radio"]:checked').val();slotEditForm.addClass('a-ui a-options dropshadow editState-'+editState);editStates.live('click',function(){editState=slotEditForm.find('.a-form-row.by-type input[type="radio"]:checked').val();slotEditForm.removeClass('editState-title').removeClass('editState-tags').addClass('editState-'+editState);if(editState==='title')
{slotEditForm.find('.a-form-row.title .ui-autocomplete-input').focus();}});};}
window.aBlog=new aBlogConstructor;
function aExtraSlotsConstructor()
{this.setupAAnchorNavigation=function(options)
{apostrophe.log('aExtraSlots.setupAAnchorNavigation');var win=$(window),nav=$('#'+options['navId']),anchors=nav.find('.a-nav-item a');hash=window.location.hash;if(nav.length)
{if(hash!=='')
{currentAnchor=nav.find('a[href="'+hash+'"]');if(currentAnchor&&currentAnchor.length)
{apostrophe.log(currentAnchor);currentAnchor.closest('.a-nav-item').addClass('a-current-page');}}
anchors.unbind('click.setupAAnchorNavigation').bind('click.setupAAnchorNavigation',function(event){var anchor=$(this);nav.find('.a-nav-item').removeClass('a-current-page');anchor.parent().addClass('a-current-page');});}
else
{throw"aExtraSlots.setupAAnchorNavigation -- No navigation found!";}};this.setupReusableSlideshowSlot=function(options)
{var form=$('#'+options.id);form.find('.a-js-label-or-reuse').change(function(){update();});update();function update()
{var val=form.find('.a-js-label-or-reuse:checked').val();if(val==='label')
{form.find('.a-js-label').removeAttr('disabled');form.find('.a-js-reuse').attr('disabled','disabled');}
else
{form.find('.a-js-label').attr('disabled','disabled');form.find('.a-js-reuse').removeAttr('disabled');}}}
this.initLightbox=function()
{$('.light-box').lightBox();}}
function aMapSlotConstructor()
{var $this=this;$this.isLoaded=0;$this.isLoading=0;$this.loaded=function()
{$this.isLoaded=1;apostrophe.log('aMapSlot -- Maps API Loaded');};$this.loadGoogleMapsAPI=function(){if($this.isLoading)
{return;}
$this.isLoading=true;apostrophe.log('aMapSlot -- loadGoogleMapsAPI');if(!$this.isLoaded)
{apostrophe.log('aMapSlot -- loadGoogleMapsAPI: NOT Loaded');var script=document.createElement("script");script.type="text/javascript";script.src="http://maps.google.com/maps/api/js?sensor=false&callback=aMapSlot.loaded";document.body.appendChild(script);}};$this.createGoogleMap=function(options)
{apostrophe.log('aMapSlot -- createGoogleMap');if($this.isLoaded)
{apostrophe.log('aMapSlot -- createGoogleMap: isLoaded');var aLatitude=options['latitude']?options['latitude']:'39.934259';var aLongitude=options['longitude']?options['longitude']:'-75.158228';var aZoom=options['zoom']?options['zoom']:14;var aMapType=options['mapType']?options['mapType']:'roadmap';var aMapContainer=$(options['container']);var aControls=options['controls'];var aMapTypeOptions={'terrain':google.maps.MapTypeId.TERRAIN,'roadmap':google.maps.MapTypeId.ROADMAP,'satellite':google.maps.MapTypeId.SATELLITE,'hybrid':google.maps.MapTypeId.HYBRID}
if(aMapContainer.length)
{var aLatlng=new google.maps.LatLng(aLatitude,aLongitude);var aOptions={zoom:parseInt(aZoom),center:aLatlng,disableDefaultUI:true,panControl:aControls['pan'],zoomControl:aControls['zoom'],scaleControl:aControls['scale'],mapTypeId:aMapTypeOptions[aMapType]}
var map=new google.maps.Map(aMapContainer[0],aOptions);var marker=new google.maps.Marker({position:aLatlng,map:map,title:options['title']});}
else
{apostrophe.log('aMapSlot -- Map container not found.');}}
else
{apostrophe.log('aMapSlot -- Maps API is NOT loaded');$this.loadGoogleMapsAPI();var tryAgain=window.setTimeout(function(){$this.createGoogleMap(options);},1000);}};}
window.aMapSlot=new aMapSlotConstructor();window.aExtraSlots=new aExtraSlotsConstructor();
;window.Modernizr=function(a,b,c){function x(a){j.cssText=a}function y(a,b){return x(m.join(a+";")+(b||""))}function z(a,b){return typeof a===b}function A(a,b){return!!~(""+a).indexOf(b)}function B(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:z(f,"function")?f.bind(d||b):f}return!1}var d="2.5.2",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n={},o={},p={},q=[],r=q.slice,s,t=function(a,c,d,e){var f,i,j,k=b.createElement("div"),l=b.body,m=l?l:b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),k.appendChild(j);return f=["&#173;","<style>",a,"</style>"].join(""),k.id=h,m.innerHTML+=f,m.appendChild(k),l||g.appendChild(m),i=c(k,a),l?k.parentNode.removeChild(k):m.parentNode.removeChild(m),!!i},u=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return t("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},v={}.hasOwnProperty,w;!z(v,"undefined")&&!z(v.call,"undefined")?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=r.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(r.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(r.call(arguments)))};return e});var C=function(c,d){var f=c.join(""),g=d.length;t(f,function(c,d){var f=b.styleSheets[b.styleSheets.length-1],h=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"",i=c.childNodes,j={};while(g--)j[i[g].id]=i[g];e.touch="ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch||(j.touch&&j.touch.offsetTop)===9},g,d)}([,["@media (",m.join("touch-enabled),("),h,")","{#touch{top:9px;position:absolute}}"].join("")],[,"touch"]);n.touch=function(){return e.touch};for(var D in n)w(n,D)&&(s=D.toLowerCase(),e[s]=n[D](),q.push((e[s]?"":"no-")+s));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)w(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,g.className+=" "+(b?"":"no-")+a,e[a]=b}return e},x(""),i=k=null,e._version=d,e._prefixes=m,e.mq=u,e.testStyles=t,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+q.join(" "):""),e}(this,this.document),function(a,b,c){function d(a){return o.call(a)=="[object Function]"}function e(a){return typeof a=="string"}function f(){}function g(a){return!a||a=="loaded"||a=="complete"||a=="uninitialized"}function h(){var a=p.shift();q=1,a?a.t?m(function(){(a.t=="c"?B.injectCss:B.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):q=0}function i(a,c,d,e,f,i,j){function k(b){if(!o&&g(l.readyState)&&(u.r=o=1,!q&&h(),l.onload=l.onreadystatechange=null,b)){a!="img"&&m(function(){t.removeChild(l)},50);for(var d in y[c])y[c].hasOwnProperty(d)&&y[c][d].onload()}}var j=j||B.errorTimeout,l={},o=0,r=0,u={t:d,s:c,e:f,a:i,x:j};y[c]===1&&(r=1,y[c]=[],l=b.createElement(a)),a=="object"?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,r)},p.splice(e,0,u),a!="img"&&(r||y[c]===2?(t.insertBefore(l,s?null:n),m(k,j)):y[c].push(l))}function j(a,b,c,d,f){return q=0,b=b||"j",e(a)?i(b=="c"?v:u,a,b,this.i++,c,d,f):(p.splice(this.i++,0,a),p.length==1&&h()),this}function k(){var a=B;return a.loader={load:j,i:0},a}var l=b.documentElement,m=a.setTimeout,n=b.getElementsByTagName("script")[0],o={}.toString,p=[],q=0,r="MozAppearance"in l.style,s=r&&!!b.createRange().compareNode,t=s?l:n.parentNode,l=!!b.attachEvent,u=r?"object":l?"script":"img",v=l?"script":u,w=Array.isArray||function(a){return o.call(a)=="[object Array]"},x=[],y={},z={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},A,B;B=function(a){function b(a){var a=a.split("!"),b=x.length,c=a.pop(),d=a.length,c={url:c,origUrl:c,prefixes:a},e,f,g;for(f=0;f<d;f++)g=a[f].split("="),(e=z[g.shift()])&&(c=e(c,g));for(f=0;f<b;f++)c=x[f](c);return c}function g(a,e,f,g,i){var j=b(a),l=j.autoCallback;j.url.split(".").pop().split("?").shift(),j.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]||h),j.instead?j.instead(a,e,f,g,i):(y[j.url]?j.noexec=!0:y[j.url]=1,f.load(j.url,j.forceCSS||!j.forceJS&&"css"==j.url.split(".").pop().split("?").shift()?"c":c,j.noexec,j.attrs,j.timeout),(d(e)||d(l))&&f.load(function(){k(),e&&e(j.origUrl,i,g),l&&l(j.origUrl,i,g),y[j.url]=2})))}function i(a,b){function c(a,c){if(a){if(e(a))c||(j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}),g(a,j,b,0,h);else if(Object(a)===a)for(n in m=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(n)&&(!c&&!--m&&(d(j)?j=function(){var a=[].slice.call(arguments);k.apply(this,a),l()}:j[n]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),l()}}(k[n])),g(a[n],j,b,n,h))}else!c&&l()}var h=!!a.test,i=a.load||a.both,j=a.callback||f,k=j,l=a.complete||f,m,n;c(h?a.yep:a.nope,!!i),i&&c(i)}var j,l,m=this.yepnope.loader;if(e(a))g(a,0,m,0);else if(w(a))for(j=0;j<a.length;j++)l=a[j],e(l)?g(l,0,m,0):w(l)?B(l):Object(l)===l&&i(l,m);else Object(a)===a&&i(a,m)},B.addPrefix=function(a,b){z[a]=b},B.addFilter=function(a){x.push(a)},B.errorTimeout=1e4,b.readyState==null&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",A=function(){b.removeEventListener("DOMContentLoaded",A,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k=b.createElement("script"),l,o,e=e||B.errorTimeout;k.src=a;for(o in d)k.setAttribute(o,d[o]);c=j?h:c||f,k.onreadystatechange=k.onload=function(){!l&&g(k.readyState)&&(l=1,c(),k.onload=k.onreadystatechange=null)},m(function(){l||(l=1,c(1))},e),i?k.onload():n.parentNode.insertBefore(k,n)},a.yepnope.injectCss=function(a,c,d,e,g,i){var e=b.createElement("link"),j,c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(n.parentNode.insertBefore(e,n),m(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("ie8compat",function(){return!window.addEventListener&&document.documentMode&&document.documentMode===7});
(function($){$('a[data-reveal-id]').live('click',function(event){event.preventDefault();var modalLocation=$(this).attr('data-reveal-id');$('#'+modalLocation).reveal($(this).data());});$.fn.reveal=function(options){var defaults={animation:'fadeAndPop',animationSpeed:300,closeOnBackgroundClick:true,dismissModalClass:'close-reveal-modal',open:$.noop,opened:$.noop,close:$.noop,closed:$.noop};options=$.extend({},defaults,options);return this.each(function(){var modal=$(this),topMeasure=parseInt(modal.css('top'),10),topOffset=modal.height()+topMeasure,locked=false,modalBg=$('.reveal-modal-bg'),closeButton;if(modalBg.length===0){modalBg=$('<div class="reveal-modal-bg" />').insertAfter(modal);modalBg.fadeTo('fast',0.8);}
function unlockModal(){locked=false;}
function lockModal(){locked=true;}
function openAnimation(){if(!locked){lockModal();if(options.animation==="fadeAndPop"){modal.css({'top':$(document).scrollTop()-topOffset,'opacity':0,'visibility':'visible'});modalBg.fadeIn(options.animationSpeed/2);modal.delay(options.animationSpeed/2).animate({"top":$(document).scrollTop()+topMeasure+'px',"opacity":1},options.animationSpeed,function(){modal.trigger('reveal:opened');});}
if(options.animation==="fade"){modal.css({'opacity':0,'visibility':'visible','top':$(document).scrollTop()+topMeasure});modalBg.fadeIn(options.animationSpeed/2);modal.delay(options.animationSpeed/2).animate({"opacity":1},options.animationSpeed,function(){modal.trigger('reveal:opened');});}
if(options.animation==="none"){modal.css({'visibility':'visible','top':$(document).scrollTop()+topMeasure});modalBg.css({"display":"block"});modal.trigger('reveal:opened');}}}
modal.bind('reveal:open.reveal',openAnimation);function closeAnimation(){if(!locked){lockModal();if(options.animation==="fadeAndPop"){modal.animate({"top":$(document).scrollTop()-topOffset+'px',"opacity":0},options.animationSpeed/2,function(){modal.css({'top':topMeasure,'opacity':1,'visibility':'hidden'});});modalBg.delay(options.animationSpeed).fadeOut(options.animationSpeed,function(){modal.trigger('reveal:closed');});}
if(options.animation==="fade"){modal.animate({"opacity":0},options.animationSpeed,function(){modal.css({'opacity':1,'visibility':'hidden','top':topMeasure});});modalBg.delay(options.animationSpeed).fadeOut(options.animationSpeed,function(){modal.trigger('reveal:closed');});}
if(options.animation==="none"){modal.css({'visibility':'hidden','top':topMeasure});modalBg.css({'display':'none'});modal.trigger('reveal:closed');}}}
function destroy(){modal.unbind('.reveal');modalBg.unbind('.reveal');$('.'+options.dismissModalClass).unbind('.reveal');$('body').unbind('.reveal');}
modal.bind('reveal:close.reveal',closeAnimation);modal.bind('reveal:opened.reveal reveal:closed.reveal',unlockModal);modal.bind('reveal:closed.reveal',destroy);modal.bind('reveal:open.reveal',options.open);modal.bind('reveal:opened.reveal',options.opened);modal.bind('reveal:close.reveal',options.close);modal.bind('reveal:closed.reveal',options.closed);modal.trigger('reveal:open');closeButton=$('.'+options.dismissModalClass).bind('click.reveal',function(){modal.trigger('reveal:close');});if(options.closeOnBackgroundClick){modalBg.css({"cursor":"pointer"});modalBg.bind('click.reveal',function(){modal.trigger('reveal:close');});}
$('body').bind('keyup.reveal',function(event){if(event.which===27){modal.trigger('reveal:close');}});});};}(jQuery));
(function($){$.fn.findFirstImage=function(){return this.first().find('img').andSelf().filter('img').first();};var ORBIT={defaults:{animation:'horizontal-push',animationSpeed:600,timer:true,advanceSpeed:4000,pauseOnHover:false,startClockOnMouseOut:false,startClockOnMouseOutAfter:1000,directionalNav:true,directionalNavRightText:'Right',directionalNavLeftText:'Left',captions:true,captionAnimation:'fade',captionAnimationSpeed:600,bullets:false,bulletThumbs:false,bulletThumbLocation:'',afterSlideChange:$.noop,fluid:true,centerBullets:true},activeSlide:0,numberSlides:0,orbitWidth:null,orbitHeight:null,locked:null,timerRunning:null,degrees:0,wrapperHTML:'<div class="orbit-wrapper" />',timerHTML:'<div class="timer"><span class="mask"><span class="rotator"></span></span><span class="pause"></span></div>',captionHTML:'<div class="orbit-caption"></div>',directionalNavHTML:'<div class="slider-nav"><span class="right"></span><span class="left"></span></div>',bulletHTML:'<ul class="orbit-bullets"></ul>',init:function(element,options){var $imageSlides,imagesLoadedCount=0,self=this;this.clickTimer=$.proxy(this.clickTimer,this);this.addBullet=$.proxy(this.addBullet,this);this.resetAndUnlock=$.proxy(this.resetAndUnlock,this);this.stopClock=$.proxy(this.stopClock,this);this.startTimerAfterMouseLeave=$.proxy(this.startTimerAfterMouseLeave,this);this.clearClockMouseLeaveTimer=$.proxy(this.clearClockMouseLeaveTimer,this);this.rotateTimer=$.proxy(this.rotateTimer,this);this.options=$.extend({},this.defaults,options);if(this.options.timer==='false')this.options.timer=false;if(this.options.captions==='false')this.options.captions=false;if(this.options.directionalNav==='false')this.options.directionalNav=false;this.$element=$(element);this.$wrapper=this.$element.wrap(this.wrapperHTML).parent();this.$slides=this.$element.children('img, a, div');this.$element.bind('orbit.next',function(){self.shift('next');});this.$element.bind('orbit.prev',function(){self.shift('prev');});this.$element.bind('orbit.goto',function(event,index){self.shift(index);});this.$element.bind('orbit.start',function(event,index){self.startClock();});this.$element.bind('orbit.stop',function(event,index){self.stopClock();});$imageSlides=this.$slides.filter('img');if($imageSlides.length===0){this.loaded();}else{$imageSlides.bind('imageready',function(){imagesLoadedCount+=1;if(imagesLoadedCount===$imageSlides.length){self.loaded();}});}},loaded:function(){this.$element.addClass('orbit').css({width:'1px',height:'1px'});this.$slides.addClass('orbit-slide');this.setDimentionsFromLargestSlide();this.updateOptionsIfOnlyOneSlide();this.setupFirstSlide();if(this.options.timer){this.setupTimer();this.startClock();}
if(this.options.captions){this.setupCaptions();}
if(this.options.directionalNav){this.setupDirectionalNav();}
if(this.options.bullets){this.setupBulletNav();this.setActiveBullet();}},currentSlide:function(){return this.$slides.eq(this.activeSlide);},setDimentionsFromLargestSlide:function(){var self=this,$fluidPlaceholder;self.$element.add(self.$wrapper).width(this.$slides.first().width());self.$element.add(self.$wrapper).height(this.$slides.first().height());self.orbitWidth=this.$slides.first().width();self.orbitHeight=this.$slides.first().height();$fluidPlaceholder=this.$slides.first().findFirstImage().clone();this.$slides.each(function(){var slide=$(this),slideWidth=slide.width(),slideHeight=slide.height();if(slideWidth>self.$element.width()){self.$element.add(self.$wrapper).width(slideWidth);self.orbitWidth=self.$element.width();}
if(slideHeight>self.$element.height()){self.$element.add(self.$wrapper).height(slideHeight);self.orbitHeight=self.$element.height();$fluidPlaceholder=$(this).findFirstImage().clone();}
self.numberSlides+=1;});if(this.options.fluid){if(typeof this.options.fluid==="string"){$fluidPlaceholder=$('<img src="http://placehold.it/'+this.options.fluid+'" />')}
self.$element.prepend($fluidPlaceholder);$fluidPlaceholder.addClass('fluid-placeholder');self.$element.add(self.$wrapper).css({width:'inherit'});self.$element.add(self.$wrapper).css({height:'inherit'});$(window).bind('resize',function(){self.orbitWidth=self.$element.width();self.orbitHeight=self.$element.height();});}},lock:function(){this.locked=true;},unlock:function(){this.locked=false;},updateOptionsIfOnlyOneSlide:function(){if(this.$slides.length===1){this.options.directionalNav=false;this.options.timer=false;this.options.bullets=false;}},setupFirstSlide:function(){var self=this;this.$slides.first().css({"z-index":3}).fadeIn(function(){self.$slides.css({"display":"block"})});},startClock:function(){var self=this;if(!this.options.timer){return false;}
if(this.$timer.is(':hidden')){this.clock=setInterval(function(){self.$element.trigger('orbit.next');},this.options.advanceSpeed);}else{this.timerRunning=true;this.$pause.removeClass('active')
this.clock=setInterval(this.rotateTimer,this.options.advanceSpeed/180);}},rotateTimer:function(){var degreeCSS="rotate("+this.degrees+"deg)"
this.degrees+=2;this.$rotator.css({"-webkit-transform":degreeCSS,"-moz-transform":degreeCSS,"-o-transform":degreeCSS});if(this.degrees>180){this.$rotator.addClass('move');this.$mask.addClass('move');}
if(this.degrees>360){this.$rotator.removeClass('move');this.$mask.removeClass('move');this.degrees=0;this.$element.trigger('orbit.next');}},stopClock:function(){if(!this.options.timer){return false;}else{this.timerRunning=false;clearInterval(this.clock);this.$pause.addClass('active');}},setupTimer:function(){this.$timer=$(this.timerHTML);this.$wrapper.append(this.$timer);this.$rotator=this.$timer.find('.rotator');this.$mask=this.$timer.find('.mask');this.$pause=this.$timer.find('.pause');this.$timer.click(this.clickTimer);if(this.options.startClockOnMouseOut){this.$wrapper.mouseleave(this.startTimerAfterMouseLeave);this.$wrapper.mouseenter(this.clearClockMouseLeaveTimer);}
if(this.options.pauseOnHover){this.$wrapper.mouseenter(this.stopClock);}},startTimerAfterMouseLeave:function(){var self=this;this.outTimer=setTimeout(function(){if(!self.timerRunning){self.startClock();}},this.options.startClockOnMouseOutAfter)},clearClockMouseLeaveTimer:function(){clearTimeout(this.outTimer);},clickTimer:function(){if(!this.timerRunning){this.startClock();}else{this.stopClock();}},setupCaptions:function(){this.$caption=$(this.captionHTML);this.$wrapper.append(this.$caption);this.setCaption();},setCaption:function(){var captionLocation=this.currentSlide().attr('data-caption'),captionHTML;if(!this.options.captions){return false;}
if(captionLocation){captionHTML=$(captionLocation).html();this.$caption.attr('id',captionLocation).html(captionHTML);switch(this.options.captionAnimation){case'none':this.$caption.show();break;case'fade':this.$caption.fadeIn(this.options.captionAnimationSpeed);break;case'slideOpen':this.$caption.slideDown(this.options.captionAnimationSpeed);break;}}else{switch(this.options.captionAnimation){case'none':this.$caption.hide();break;case'fade':this.$caption.fadeOut(this.options.captionAnimationSpeed);break;case'slideOpen':this.$caption.slideUp(this.options.captionAnimationSpeed);break;}}},setupDirectionalNav:function(){var self=this,$directionalNav=$(this.directionalNavHTML);$directionalNav.find('.right').html(this.options.directionalNavRightText);$directionalNav.find('.left').html(this.options.directionalNavLeftText);this.$wrapper.append($directionalNav);this.$wrapper.find('.left').click(function(){self.stopClock();self.$element.trigger('orbit.prev');});this.$wrapper.find('.right').click(function(){self.stopClock();self.$element.trigger('orbit.next');});},setupBulletNav:function(){this.$bullets=$(this.bulletHTML);this.$wrapper.append(this.$bullets);this.$slides.each(this.addBullet);this.$element.addClass('with-bullets');if(this.options.centerBullets)this.$bullets.css('margin-left',-this.$bullets.width()/2);},addBullet:function(index,slide){var position=index+1,$li=$('<li>'+(position)+'</li>'),thumbName,self=this;if(this.options.bulletThumbs){thumbName=$(slide).attr('data-thumb');if(thumbName){$li.addClass('has-thumb').css({background:"url("+this.options.bulletThumbLocation+thumbName+") no-repeat"});;}}
this.$bullets.append($li);$li.data('index',index);$li.click(function(){self.stopClock();self.$element.trigger('orbit.goto',[$li.data('index')])});},setActiveBullet:function(){if(!this.options.bullets){return false;}else{this.$bullets.find('li').removeClass('active').eq(this.activeSlide).addClass('active');}},resetAndUnlock:function(){this.$slides.eq(this.prevActiveSlide).css({"z-index":1});this.unlock();this.options.afterSlideChange.call(this,this.$slides.eq(this.prevActiveSlide),this.$slides.eq(this.activeSlide));},shift:function(direction){var slideDirection=direction;this.prevActiveSlide=this.activeSlide;if(this.prevActiveSlide==slideDirection){return false;}
if(this.$slides.length=="1"){return false;}
if(!this.locked){this.lock();if(direction=="next"){this.activeSlide++;if(this.activeSlide==this.numberSlides){this.activeSlide=0;}}else if(direction=="prev"){this.activeSlide--
if(this.activeSlide<0){this.activeSlide=this.numberSlides-1;}}else{this.activeSlide=direction;if(this.prevActiveSlide<this.activeSlide){slideDirection="next";}else if(this.prevActiveSlide>this.activeSlide){slideDirection="prev"}}
this.setActiveBullet();this.$slides.eq(this.prevActiveSlide).css({"z-index":2});if(this.options.animation=="fade"){this.$slides.eq(this.activeSlide).css({"opacity":0,"z-index":3}).animate({"opacity":1},this.options.animationSpeed,this.resetAndUnlock);}
if(this.options.animation=="horizontal-slide"){if(slideDirection=="next"){this.$slides.eq(this.activeSlide).css({"left":this.orbitWidth,"z-index":3}).animate({"left":0},this.options.animationSpeed,this.resetAndUnlock);}
if(slideDirection=="prev"){this.$slides.eq(this.activeSlide).css({"left":-this.orbitWidth,"z-index":3}).animate({"left":0},this.options.animationSpeed,this.resetAndUnlock);}}
if(this.options.animation=="vertical-slide"){if(slideDirection=="prev"){this.$slides.eq(this.activeSlide).css({"top":this.orbitHeight,"z-index":3}).animate({"top":0},this.options.animationSpeed,this.resetAndUnlock);}
if(slideDirection=="next"){this.$slides.eq(this.activeSlide).css({"top":-this.orbitHeight,"z-index":3}).animate({"top":0},this.options.animationSpeed,this.resetAndUnlock);}}
if(this.options.animation=="horizontal-push"){if(slideDirection=="next"){this.$slides.eq(this.activeSlide).css({"left":this.orbitWidth,"z-index":3}).animate({"left":0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({"left":-this.orbitWidth},this.options.animationSpeed);}
if(slideDirection=="prev"){this.$slides.eq(this.activeSlide).css({"left":-this.orbitWidth,"z-index":3}).animate({"left":0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({"left":this.orbitWidth},this.options.animationSpeed);}}
if(this.options.animation=="vertical-push"){if(slideDirection=="next"){this.$slides.eq(this.activeSlide).css({top:-this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({top:this.orbitHeight},this.options.animationSpeed);}
if(slideDirection=="prev"){this.$slides.eq(this.activeSlide).css({top:this.orbitHeight,"z-index":3}).animate({top:0},this.options.animationSpeed,this.resetAndUnlock);this.$slides.eq(this.prevActiveSlide).animate({top:-this.orbitHeight},this.options.animationSpeed);}}
this.setCaption();}}};$.fn.orbit=function(options){return this.each(function(){var orbit=$.extend({},ORBIT);orbit.init(this,options);});};})(jQuery);
/*
 * jQuery imageready Plugin
 * http://www.zurb.com/playground/
 *
 * Copyright 2011, ZURB
 * Released under the MIT License
 */
(function($){var options={};$.event.special.imageready={setup:function(data,namespaces,eventHandle){options=data||options;},add:function(handleObj){var $this=$(this),src;if(this.nodeType===1&&this.tagName.toLowerCase()==='img'&&this.src!==''){if(options.forceLoad){src=$this.attr('src');$this.attr('src','');bindToLoad(this,handleObj.handler);$this.attr('src',src);}else if(this.complete||this.readyState===4){handleObj.handler.apply(this,arguments);}else{bindToLoad(this,handleObj.handler);}}},teardown:function(namespaces){$(this).unbind('.imageready');}};function bindToLoad(element,callback){var $this=$(element);$this.bind('load.imageready',function(){callback.apply(element,arguments);$this.unbind('load.imageready');});}}(jQuery));
jQuery(document).ready(function($){function appendCustomMarkup(type){$('form.custom input:'+type).each(function(){var $this=$(this).hide(),$span=$this.next('span.custom.'+type);if($span.length===0){$span=$('<span class="custom '+type+'"></span>').insertAfter($this);}
$span.toggleClass('checked',$this.is(':checked'));$span.toggleClass('disabled',$this.is(':disabled'));});}
appendCustomMarkup('checkbox');appendCustomMarkup('radio');function appendCustomSelect(sel){var $this=$(sel),$customSelect=$this.next('div.custom.dropdown'),$options=$this.find('option'),maxWidth=0,$li;if($this.hasClass('no-custom')){return;}
if($customSelect.length===0){$customSelectSize='';if($(sel).hasClass('small')){$customSelectSize='small';}else if($(sel).hasClass('medium')){$customSelectSize='medium';}else if($(sel).hasClass('large')){$customSelectSize='large';}else if($(sel).hasClass('expand')){$customSelectSize='expand';}
$customSelect=$('<div class="custom dropdown '+$customSelectSize+'"><a href="#" class="selector"></a><ul></ul></div>"');$options.each(function(){$li=$('<li>'+$(this).html()+'</li>');$customSelect.find('ul').append($li);});$customSelect.prepend('<a href="#" class="current">'+$options.first().html()+'</a>');$this.after($customSelect);$this.hide();}else{$customSelect.find('ul').html('');$options.each(function(){$li=$('<li>'+$(this).html()+'</li>');$customSelect.find('ul').append($li);});}
$customSelect.toggleClass('disabled',$this.is(':disabled'));$options.each(function(index){if(this.selected){$customSelect.find('li').eq(index).addClass('selected');$customSelect.find('.current').html($(this).html());}});$customSelect.find('li').each(function(){$customSelect.addClass('open');if($(this).outerWidth()>maxWidth){maxWidth=$(this).outerWidth();}
$customSelect.removeClass('open');});if(!$customSelect.is('.small, .medium, .large, .expand')){$customSelect.css('width',maxWidth+18+'px');$customSelect.find('ul').css('width',maxWidth+16+'px');}}
$('form.custom select').each(function(){appendCustomSelect(this);});});(function($){function refreshCustomSelect($select){var maxWidth=0,$customSelect=$select.next();$options=$select.find('option');$customSelect.find('ul').html('');$options.each(function(){$li=$('<li>'+$(this).html()+'</li>');$customSelect.find('ul').append($li);});$options.each(function(index){if(this.selected){$customSelect.find('li').eq(index).addClass('selected');$customSelect.find('.current').html($(this).html());}});$customSelect.removeAttr('style').find('ul').removeAttr('style');$customSelect.find('li').each(function(){$customSelect.addClass('open');if($(this).outerWidth()>maxWidth){maxWidth=$(this).outerWidth();}
$customSelect.removeClass('open');});$customSelect.css('width',maxWidth+18+'px');$customSelect.find('ul').css('width',maxWidth+16+'px');}
function toggleCheckbox($element){var $input=$element.prev(),input=$input[0];if(false==$input.is(':disabled')){input.checked=((input.checked)?false:true);$element.toggleClass('checked');$input.trigger('change');}}
function toggleRadio($element){var $input=$element.prev(),input=$input[0];if(false==$input.is(':disabled')){$('input:radio[name="'+$input.attr('name')+'"]').each(function(){$(this).next().removeClass('checked');});input.checked=((input.checked)?false:true);$element.toggleClass('checked');$input.trigger('change');}}
$('form.custom span.custom.checkbox').live('click',function(event){event.preventDefault();event.stopPropagation();toggleCheckbox($(this));});$('form.custom span.custom.radio').live('click',function(event){event.preventDefault();event.stopPropagation();toggleRadio($(this));});$('form.custom select').live('change',function(event){refreshCustomSelect($(this));});$('form.custom label').live('click',function(event){var $associatedElement=$('#'+$(this).attr('for')),$customCheckbox,$customRadio;if($associatedElement.length!==0){if($associatedElement.attr('type')==='checkbox'){event.preventDefault();$customCheckbox=$(this).find('span.custom.checkbox');toggleCheckbox($customCheckbox);}else if($associatedElement.attr('type')==='radio'){event.preventDefault();$customRadio=$(this).find('span.custom.radio');toggleRadio($customRadio);}}});$('form.custom div.custom.dropdown a.current, form.custom div.custom.dropdown a.selector').live('click',function(event){var $this=$(this),$dropdown=$this.closest('div.custom.dropdown'),$select=$dropdown.prev();event.preventDefault();if(false==$select.is(':disabled')){$dropdown.toggleClass('open');if($dropdown.hasClass('open')){$(document).bind('click.customdropdown',function(event){$dropdown.removeClass('open');$(document).unbind('.customdropdown');});}else{$(document).unbind('.customdropdown');}
return false;}});$('form.custom div.custom.dropdown li').live('click',function(event){var $this=$(this),$customDropdown=$this.closest('div.custom.dropdown'),$select=$customDropdown.prev(),selectedIndex=0;event.preventDefault();event.stopPropagation();$this.closest('ul').find('li').removeClass('selected');$this.addClass('selected');$customDropdown.removeClass('open').find('a.current').html($this.html());$this.closest('ul').find('li').each(function(index){if($this[0]==this){selectedIndex=index;}});$select[0].selectedIndex=selectedIndex;$select.trigger('change');});})(jQuery);
/* http://mths.be/placeholder v1.8.7 by @mathias */
(function(f,h,c){var a='placeholder'in h.createElement('input'),d='placeholder'in h.createElement('textarea'),i=c.fn,j;if(a&&d){j=i.placeholder=function(){return this};j.input=j.textarea=true}else{j=i.placeholder=function(){return this.filter((a?'textarea':':input')+'[placeholder]').not('.placeholder').bind('focus.placeholder',b).bind('blur.placeholder',e).trigger('blur.placeholder').end()};j.input=a;j.textarea=d;c(function(){c(h).delegate('form','submit.placeholder',function(){var k=c('.placeholder',this).each(b);setTimeout(function(){k.each(e)},10)})});c(f).bind('unload.placeholder',function(){c('.placeholder').val('')})}function g(l){var k={},m=/^jQuery\d+$/;c.each(l.attributes,function(o,n){if(n.specified&&!m.test(n.name)){k[n.name]=n.value}});return k}function b(){var k=c(this);if(k.val()===k.attr('placeholder')&&k.hasClass('placeholder')){if(k.data('placeholder-password')){k.hide().next().show().focus().attr('id',k.removeAttr('id').data('placeholder-id'))}else{k.val('').removeClass('placeholder')}}}function e(){var o,n=c(this),k=n,m=this.id;if(n.val()===''){if(n.is(':password')){if(!n.data('placeholder-textinput')){try{o=n.clone().attr({type:'text'})}catch(l){o=c('<input>').attr(c.extend(g(this),{type:'text'}))}o.removeAttr('name').data('placeholder-password',true).data('placeholder-id',m).bind('focus.placeholder',b);n.data('placeholder-textinput',o).data('placeholder-id',m).before(o)}n=n.removeAttr('id').hide().prev().attr('id',m).show()}n.addClass('placeholder').val(n.attr('placeholder'))}else{n.removeClass('placeholder')}}}(this,document,jQuery));
(function(){var initializing=false,fnTest=/xyz/.test(function(){xyz;})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(prop){var _super=this.prototype;initializing=true;var prototype=new this();initializing=false;for(var name in prop){prototype[name]=typeof prop[name]=="function"&&typeof _super[name]=="function"&&fnTest.test(prop[name])?(function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);this._super=tmp;return ret;};})(name,prop[name]):prop[name];}
function Class(){if(!initializing&&this.init)
this.init.apply(this,arguments);}
Class.prototype=prototype;Class.prototype.constructor=Class;Class.extend=arguments.callee;return Class;};})();var global=(function(){return this||(1,eval)('this');}());if(typeof VMM=='undefined'){var VMM=Class.extend({});VMM.master_config=({init:function(){return this;},youtube:{active:false,array:[],api_loaded:false},}).init();VMM.master_config=({init:function(){return this;},youtube:{active:false,array:[],api_loaded:false,que:[]},}).init();VMM.createElement=function(tag,value,cName,attrs,styles){var ce="";if(tag!=null&&tag!=""){ce+="<"+tag;if(cName!=null&&cName!=""){ce+=" class='"+cName+"'";};if(attrs!=null&&attrs!=""){ce+=" "+attrs;};if(styles!=null&&styles!=""){ce+=" "+styles;};ce+=">";if(value!=null&&value!=""){ce+=value;}
ce=ce+"</"+tag+">";}
return ce;};VMM.createMediaElement=function(media,caption,credit){var ce="";var _valid=false;ce+="<div class='media'>";if(media!=null&&media!=""){valid=true;ce+="<img src='"+media+"'>";if(credit!=null&&credit!=""){ce+=VMM.createElement("div",credit,"credit");}
if(caption!=null&&caption!=""){ce+=VMM.createElement("div",caption,"caption");}}
ce+="</div>";return ce;};VMM.attachElement=function(element,content){if(typeof(jQuery)!='undefined'){$(element).html(content);}};VMM.appendElement=function(element,content){if(typeof(jQuery)!='undefined'){$(element).append(content);}};VMM.getHTML=function(element){var e;if(typeof(jQuery)!='undefined'){e=$(element).html();return e;}};VMM.getElement=function(element,p){var e;if(typeof(jQuery)!='undefined'){if(p){e=$(element).parent().get(0);}else{e=$(element).get(0);}
return e;}};VMM.bindEvent=function(element,the_handler,the_event_type,event_data){var e;var _event_type="click";var _event_data={};if(the_event_type!=null&&the_event_type!=""){_event_type=the_event_type;}
if(_event_data!=null&&_event_data!=""){_event_data=event_data;}
if(typeof(jQuery)!='undefined'){$(element).bind(_event_type,_event_data,the_handler);}};VMM.unbindEvent=function(element,the_handler,the_event_type){var e;var _event_type="click";var _event_data={};if(the_event_type!=null&&the_event_type!=""){_event_type=the_event_type;}
if(typeof(jQuery)!='undefined'){$(element).unbind(_event_type,the_handler);}};VMM.fireEvent=function(element,the_event_type,the_data){var e;var _event_type="click";var _data=[];if(the_event_type!=null&&the_event_type!=""){_event_type=the_event_type;}
if(the_data!=null&&the_data!=""){_data=the_data;}
if(typeof(jQuery)!='undefined'){$(element).trigger(_event_type,_data);}};VMM.getJSON=function(url,the_function){if(typeof(jQuery)!='undefined'){$.getJSON(url,the_function);}}
VMM.parseJSON=function(the_json){if(typeof(jQuery)!='undefined'){return $.parseJSON(the_json);}}
VMM.appendAndGetElement=function(append_to_element,tag,cName,content){var e;var _tag="<div>";var _class="";var _content="";if(tag!=null&&tag!=""){_tag=tag;}
if(cName!=null&&cName!=""){_class=cName;}
if(content!=null&&content!=""){_content=content;}
if(typeof(jQuery)!='undefined'){e=$(tag);e.addClass(_class);e.html(_content);$(append_to_element).append(e);}
return e;};VMM.Element=({init:function(){return this;},hide:function(element,duration){if(duration!=null&&duration!=""){if(typeof(jQuery)!='undefined'){$(element).hide(duration);}}else{if(typeof(jQuery)!='undefined'){$(element).hide();}}},remove:function(element){if(typeof(jQuery)!='undefined'){$(element).remove();}},detach:function(element){if(typeof(jQuery)!='undefined'){$(element).detach();}},append:function(element,value){if(typeof(jQuery)!='undefined'){$(element).append(value);}},show:function(element,duration){if(duration!=null&&duration!=""){if(typeof(jQuery)!='undefined'){$(element).show(duration);}}else{if(typeof(jQuery)!='undefined'){$(element).show();}}},load:function(element,callback_function,event_data){var _event_data={elem:element};if(_event_data!=null&&_event_data!=""){_event_data=event_data;}
if(typeof(jQuery)!='undefined'){$(element).load(_event_data,callback_function);}},addClass:function(element,cName){if(typeof(jQuery)!='undefined'){$(element).addClass(cName);}},removeClass:function(element,cName){if(typeof(jQuery)!='undefined'){$(element).removeClass(cName);}},attr:function(element,aName,value){if(value!=null&&value!=""){if(typeof(jQuery)!='undefined'){$(element).attr(aName,value);}}else{if(typeof(jQuery)!='undefined'){return $(element).attr(aName);}}},prop:function(element,aName,value){if(typeof jQuery=='undefined'||!/[1-9]\.[3-9].[1-9]/.test($.fn.jquery)){VMM.Element.attribute(element,aName,value);}else{$(element).prop(aName,value);}},attribute:function(element,aName,value){if(value!=null&&value!=""){if(typeof(jQuery)!='undefined'){$(element).attr(aName,value);}}else{if(typeof(jQuery)!='undefined'){return $(element).attr(aName);}}},visible:function(element,show){if(show!=null){if(typeof(jQuery)!='undefined'){if(show){$(element).show(0);}else{$(element).hide(0);}}}else{if(typeof(jQuery)!='undefined'){if($(element).is(':visible')){return true;}else{return false;}}}},css:function(element,prop,value){if(value!=null&&value!=""){if(typeof(jQuery)!='undefined'){$(element).css(prop,value);}}else{if(typeof(jQuery)!='undefined'){return $(element).css(prop);}}},cssmultiple:function(element,propval){if(typeof(jQuery)!='undefined'){return $(element).css(propval);}},offset:function(element){var p;if(typeof(jQuery)!='undefined'){p=$(element).offset();}
return p;},position:function(element){var p;if(typeof(jQuery)!='undefined'){p=$(element).position();}
return p;},width:function(element,s){if(s!=null&&s!=""){if(typeof(jQuery)!='undefined'){$(element).width(s);}}else{if(typeof(jQuery)!='undefined'){return $(element).width();}}},height:function(element,s){if(s!=null&&s!=""){if(typeof(jQuery)!='undefined'){$(element).height(s);}}else{if(typeof(jQuery)!='undefined'){return $(element).height();}}},toggleClass:function(element,cName){if(typeof(jQuery)!='undefined'){$(element).toggleClass(cName);}},each:function(element,return_function){if(typeof(jQuery)!='undefined'){$(element).each(return_function);}},html:function(element,str){var e;if(typeof(jQuery)!='undefined'){e=$(element).html();return e;}
if(str!=null&&str!=""){if(typeof(jQuery)!='undefined'){$(element).html(str);}}else{var e;if(typeof(jQuery)!='undefined'){e=$(element).html();return e;}}},find:function(element,selec){if(typeof(jQuery)!='undefined'){return $(element).find(selec);}},stop:function(element){if(typeof(jQuery)!='undefined'){$(element).stop();}},animate:function(element,duration,ease,att,callback_function){var _ease="easein";var _duration=1000;var _att={};if(duration!=null){if(duration<1){_duration=1;}else{_duration=Math.round(duration);}}
if(ease!=null&&ease!=""){_ease=ease;}
if(att!=null){_att=att}else{_att={opacity:0}}
if(VMM.Browser.device=="mobile"||VMM.Browser.device=="tablet"){var _tdd=Math.round((_duration/1500)*10)/10
var __duration=_tdd+'s';VMM.Element.css(element,'-webkit-transition','all '+__duration+' ease');VMM.Element.css(element,'-moz-transition','all '+__duration+' ease');VMM.Element.css(element,'-o-transition','all '+__duration+' ease');VMM.Element.css(element,'-ms-transition','all '+__duration+' ease');VMM.Element.css(element,'transition','all '+__duration+' ease');VMM.Element.cssmultiple(element,_att);}else{if(typeof(jQuery)!='undefined'){if(callback_function!=null&&callback_function!=""){$(element).animate(_att,{queue:false,duration:_duration,easing:_ease,complete:callback_function});}else{$(element).animate(_att,{queue:false,duration:_duration,easing:_ease});}}}},}).init();VMM.TouchSlider={createPanel:function(touch_object,move_object,w,padding,vertical,h){VMM.TouchSlider.vertical=false;VMM.TouchSlider.vertical=vertical;var x=padding;VMM.TouchSlider.width=w;VMM.TouchSlider.height=h;VMM.TouchSlider.makeTouchable(touch_object,move_object);},removePanel:function(touch_object){VMM.unbindEvent(touch_object,VMM.TouchSlider.onTouchStart,"touchstart");VMM.unbindEvent(touch_object,VMM.TouchSlider.onTouchMove,"touchmove");VMM.unbindEvent(touch_object,VMM.TouchSlider.onTouchEnd,"touchend");},makeTouchable:function(touch_object,move_object){VMM.bindEvent(touch_object,VMM.TouchSlider.onTouchStart,"touchstart",{element:move_object});VMM.bindEvent(touch_object,VMM.TouchSlider.onTouchMove,"touchmove",{element:move_object});VMM.bindEvent(touch_object,VMM.TouchSlider.onTouchEnd,"touchend",{element:move_object});},onTouchStart:function(e){VMM.TouchSlider.touchStart(e.data.element,e);e.preventDefault();e.stopPropagation();return true;},onTouchEnd:function(e){e.preventDefault();e.stopPropagation();if(VMM.TouchSlider.sliding){VMM.TouchSlider.sliding=false;VMM.TouchSlider.touchEnd(e.data.element,e);return false;}else{return true;}},onTouchMove:function(e){VMM.TouchSlider.touchMove(e.data.element,e);e.preventDefault();e.stopPropagation();return false;},getLeft:function(elem){return parseInt(VMM.Element.css(elem,'left').substring(0,VMM.Element.css(elem,'left').length-2),10);},getTop:function(elem){return parseInt(VMM.Element.css(elem,'top').substring(0,VMM.Element.css(elem,'top').length-2),10);},touchStart:function(elem,e){VMM.Element.css(elem,'-webkit-transition-duration','0');VMM.TouchSlider.startX=e.originalEvent.touches[0].screenX;VMM.TouchSlider.startY=e.originalEvent.touches[0].screenY;VMM.TouchSlider.startLeft=VMM.TouchSlider.getLeft(elem);VMM.TouchSlider.startTop=VMM.TouchSlider.getTop(elem);VMM.TouchSlider.touchStartTime=new Date().getTime();},touchEnd:function(elem,e){if(VMM.TouchSlider.getLeft(elem)>0){if(VMM.TouchSlider.vertical){VMM.Element.animate(elem,1000,"",{"top":0});}else{VMM.Element.animate(elem,1000,"",{"left":0});}
VMM.TouchSlider.startX=null;VMM.TouchSlider.startY=null;VMM.fireEvent(elem,"TOUCHUPDATE",[0]);}else{VMM.TouchSlider.slideMomentum(elem,e);}},slideMomentum:function(elem,e){var slideAdjust=(new Date().getTime()-VMM.TouchSlider.touchStartTime)*10;var timeAdjust=slideAdjust;var left=VMM.TouchSlider.getLeft(elem);var top=VMM.TouchSlider.getTop(elem);var changeX=6000*(Math.abs(VMM.TouchSlider.startLeft)-Math.abs(left));var changeY=6000*(Math.abs(VMM.TouchSlider.startTop)-Math.abs(top));slideAdjust=Math.round(changeX/slideAdjust);slideAdjustY=Math.round(changeY/slideAdjust);var newLeft=slideAdjust+left;var newTop=slideAdjustY+top;var y=newTop%VMM.TouchSlider.height;var t=newLeft%VMM.TouchSlider.width;var _r_object={top:Math.min(0,newTop),left:Math.min(0,newLeft),time:timeAdjust}
VMM.fireEvent(elem,"TOUCHUPDATE",[_r_object]);VMM.TouchSlider.startX=null;VMM.TouchSlider.startY=null;},doSlide:function(elem,x,duration){VMM.Element.css(elem,'-webkit-transition-property','left');VMM.Element.css(elem,'-webkit-transition-duration',duration);VMM.Element.css(elem,'left',x);},touchMove:function(elem,e){if(!VMM.TouchSlider.sliding){}
VMM.TouchSlider.sliding=true;if(VMM.TouchSlider.vertical){if(VMM.TouchSlider.startY>e.originalEvent.touches[0].screenY){VMM.Element.css(elem,'top',-(VMM.TouchSlider.startY-e.originalEvent.touches[0].screenY-VMM.TouchSlider.startTop));VMM.TouchSlider.slidingTop=true;}else{var top=(e.originalEvent.touches[0].screenY-VMM.TouchSlider.startY+VMM.TouchSlider.startTop);VMM.Element.css(elem,'top',-(VMM.TouchSlider.startY-e.originalEvent.touches[0].screenY-VMM.TouchSlider.startTop));VMM.TouchSlider.slidingTop=false;}}else{if(VMM.TouchSlider.startX>e.originalEvent.touches[0].screenX){VMM.Element.css(elem,'left',-(VMM.TouchSlider.startX-e.originalEvent.touches[0].screenX-VMM.TouchSlider.startLeft));VMM.TouchSlider.slidingLeft=true;}else{var left=(e.originalEvent.touches[0].screenX-VMM.TouchSlider.startX+VMM.TouchSlider.startLeft);VMM.Element.css(elem,'left',-(VMM.TouchSlider.startX-e.originalEvent.touches[0].screenX-VMM.TouchSlider.startLeft));VMM.TouchSlider.slidingLeft=false;}}}}
VMM.hideUrlBar=function(){var win=window,doc=win.document;if(!location.hash||!win.addEventListener){window.scrollTo(0,1);var scrollTop=1,bodycheck=setInterval(function(){if(doc.body){clearInterval(bodycheck);scrollTop="scrollTop"in doc.body?doc.body.scrollTop:1;win.scrollTo(0,scrollTop===1?0:1);}},15);win.addEventListener("load",function(){setTimeout(function(){win.scrollTo(0,scrollTop===1?0:1);},0);},false);}};VMM.DragSlider={createPanel:function(drag_object,move_object,w,padding,sticky){var x=padding;VMM.DragSlider.width=w;VMM.DragSlider.makeDraggable(drag_object,move_object);VMM.DragSlider.drag_elem=drag_object;VMM.DragSlider.sticky=sticky;},makeDraggable:function(drag_object,move_object){VMM.bindEvent(drag_object,VMM.DragSlider.onDragStart,"mousedown",{element:move_object,delement:drag_object});VMM.bindEvent(drag_object,VMM.DragSlider.onDragEnd,"mouseup",{element:move_object,delement:drag_object});VMM.bindEvent(drag_object,VMM.DragSlider.onDragLeave,"mouseleave",{element:move_object,delement:drag_object});},cancelSlide:function(e){VMM.unbindEvent(VMM.DragSlider.drag_elem,VMM.DragSlider.onDragMove,"mousemove");return true;},onDragLeave:function(e){VMM.unbindEvent(e.data.delement,VMM.DragSlider.onDragMove,"mousemove");e.preventDefault();e.stopPropagation();return true;},onDragStart:function(e){VMM.DragSlider.dragStart(e.data.element,e.data.delement,e);e.preventDefault();e.stopPropagation();return true;},onDragEnd:function(e){e.preventDefault();e.stopPropagation();if(VMM.DragSlider.sliding){VMM.DragSlider.sliding=false;VMM.DragSlider.dragEnd(e.data.element,e.data.delement,e);return false;}else{return true;}},onDragMove:function(e){VMM.DragSlider.dragMove(e.data.element,e);e.preventDefault();e.stopPropagation();return false;},dragStart:function(elem,delem,e){VMM.DragSlider.startX=e.pageX;VMM.DragSlider.startLeft=VMM.DragSlider.getLeft(elem);VMM.DragSlider.dragStartTime=new Date().getTime();VMM.DragSlider.dragWidth=VMM.Element.width(delem);var _newx=Math.round(VMM.DragSlider.startX-e.pageX-VMM.DragSlider.startLeft);VMM.Element.stop(elem);VMM.bindEvent(delem,VMM.DragSlider.onDragMove,"mousemove",{element:elem});},dragEnd:function(elem,delem,e){VMM.unbindEvent(delem,VMM.DragSlider.onDragMove,"mousemove");if(VMM.DragSlider.getLeft(elem)>0){}else{VMM.DragSlider.dragMomentum(elem,e);}},dragMove:function(elem,e){if(!VMM.DragSlider.sliding){}
VMM.DragSlider.sliding=true;if(VMM.DragSlider.startX>e.pageX){VMM.Element.css(elem,'left',-(VMM.DragSlider.startX-e.pageX-VMM.DragSlider.startLeft));VMM.DragSlider.slidingLeft=true;}else{var left=(e.pageX-VMM.DragSlider.startX+VMM.DragSlider.startLeft);VMM.Element.css(elem,'left',-(VMM.DragSlider.startX-e.pageX-VMM.DragSlider.startLeft));VMM.DragSlider.slidingLeft=false;}},dragMomentum:function(elem,e){var slideAdjust=(new Date().getTime()-VMM.DragSlider.dragStartTime)*10;var timeAdjust=slideAdjust;var left=VMM.DragSlider.getLeft(elem);var changeX=6000*(Math.abs(VMM.DragSlider.startLeft)-Math.abs(left));slideAdjust=Math.round(changeX/slideAdjust);var newLeft=left+slideAdjust;var t=newLeft%VMM.DragSlider.width;var _r_object={left:Math.min(newLeft),time:timeAdjust}
VMM.fireEvent(elem,"DRAGUPDATE",[_r_object]);var _ease="easeOutExpo";if(_r_object.time>0){VMM.Element.animate(elem,_r_object.time,_ease,{"left":_r_object.left});};},getLeft:function(elem){return parseInt(VMM.Element.css(elem,'left').substring(0,VMM.Element.css(elem,'left').length-2),10);}}
VMM.Browser={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS";this.device=this.searchDevice(navigator.userAgent);},searchDevice:function(d){if(d.match(/Android/i)||d.match(/iPhone|iPod/i)){return"mobile";}else if(d.match(/iPad/i)){return"tablet";}else if(d.match(/BlackBerry/i)||d.match(/IEMobile/i)){return"other mobile";}else{return"desktop";}},searchString:function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;var dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!=-1)
return data[i].identity;}
else if(dataProp)
return data[i].identity;}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString);if(index==-1)return;return parseFloat(dataString.substring(index+this.versionSearchString.length+1));},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]}
VMM.Browser.init();VMM.MediaElement=({init:function(){return this;},thumbnail:function(data,w,h){_w=32;_h=32;if(w!=null&&w!=""){_w=w;}
if(h!=null&&h!=""){_h=h;}
if(data.media!=null&&data.media!=""){_valid=true;var mediaElem="";var m={};m=VMM.MediaType(data.media);if(m.type=="image"){mediaElem="<div class='thumbnail'><img src='"+m.id+"' width='"+_w+"px' height='"+_h+"px'></div>";return mediaElem;}else if(m.type=="flickr"){mediaElem="<div class='thumbnail'><img id='flickr_"+m.id+"_thumb' width='"+_w+"px' height='"+_h+"px'></div>";return mediaElem;}else if(m.type=="youtube"){mediaElem="<div class='thumbnail youtube'></div>";return mediaElem;}else if(m.type=="vimeo"){mediaElem="<div class='thumbnail vimeo'></div>";return mediaElem;}else if(m.type=="twitter"){mediaElem="<div class='thumbnail twitter'></div>";return mediaElem;}else if(m.type=="twitter-ready"){mediaElem="<div class='thumbnail twitter'></div>";return mediaElem;}else if(m.type=="soundcloud"){mediaElem="<div class='thumbnail soundcloud'></div>";return mediaElem;}else if(m.type=="google-map"){mediaElem="<div class='thumbnail map'></div>";return mediaElem;}else if(m.type=="unknown"){mediaElem="";return mediaElem;}else if(m.type=="website"){mediaElem="<div class='thumbnail website'></div>";return mediaElem;}else{mediaElem="<div class='thumbnail'></div>";return mediaElem;}}},create:function(element,data,__return,w,h){_return=__return;_w=500;_h=400;$mediacontainer=element;var _valid=false;if(w!=null&&w!=""){_w=w;}
if(h!=null&&h!=""){_h=h;}
if(data.media!=null&&data.media!=""){_valid=true;var mediaElem="";var captionElem="";var creditElem="";var m={};var media_height=(_h-50);var isTextMedia=false;if(data.credit!=null&&data.credit!=""){creditElem="<div class='credit'>"+data.credit+"</div>";}
if(data.caption!=null&&data.caption!=""){captionElem="<div class='caption'>"+data.caption+"</div>";}
m=VMM.MediaType(data.media);if(m.type=="image"){mediaElem="<img src='"+m.id+"'>";}else if(m.type=="flickr"){var flickr_id="flickr_"+m.id;mediaElem="<img id='"+flickr_id+"_large"+"'>";VMM.ExternalAPI.flickr.getPhoto(m.id,"#"+flickr_id);}else if(m.type=="youtube"){mediaElem="<div class='media-frame video youtube' id='youtube_"+m.id+"'>Loading YouTube video...</div>";VMM.ExternalAPI.youtube.init(m.id);}else if(m.type=="vimeo"){mediaElem="<iframe class='media-frame video vimeo' frameborder='0' width='100%' height='100%' src='http://player.vimeo.com/video/"+m.id+"?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'></iframe>";}else if(m.type=="twitter"){mediaElem="<div class='twitter' id='"+m.id+"'>Loading Tweet</div>";trace("TWITTER");VMM.ExternalAPI.twitter.prettyHTML(m.id);isTextMedia=true;}else if(m.type=="twitter-ready"){mediaElem=m.id;}else if(m.type=="soundcloud"){var soundcloud_id="soundcloud_"+VMM.Util.unique_ID(5);mediaElem="<div class='media-frame soundcloud' id='"+soundcloud_id+"'>Loading Sound</div>";VMM.ExternalAPI.soundcloud.getSound(m.id,soundcloud_id)}else if(m.type=="google-map"){mediaElem="<iframe class='media-frame map' frameborder='0' width='100%' height='100%' scrolling='no' marginheight='0' marginwidth='0' src='"+m.id+"&amp;output=embed'></iframe>"}else if(m.type=="unknown"){trace("NO KNOWN MEDIA TYPE FOUND TRYING TO JUST PLACE THE HTML");mediaElem=VMM.Util.properQuotes(m.id);}else if(m.type=="website"){mediaElem="<iframe class='media-frame' frameborder='0' width='100%' height='100%' scrolling='yes' marginheight='0' marginwidth='0' src='"+m.id+"'></iframe>"}else{trace("NO KNOWN MEDIA TYPE FOUND");trace(m.type);}
mediaElem="<div class='media-container' >"+mediaElem+creditElem+captionElem+"</div>";if(_return){if(isTextMedia){return"<div class='media text-media'><div class='media-wrapper'>"+mediaElem+"</div></div>";}else{return"<div class='media'><div class='media-wrapper'>"+mediaElem+"</div></div>";}}else{VMM.appendElement($mediacontainer,mediaElem);VMM.appendElement($mediacontainer,creditElem);VMM.appendElement($mediacontainer,captionElem);}};},}).init();VMM.MediaType=function(d){var success=false;var media={};if(d.match("div class='twitter'")){media.type="twitter-ready";media.id=d;success=true;}else if(d.match('(www.)?youtube|youtu\.be')){if(d.match('embed')){youtube_id=d.split(/embed\//)[1].split('"')[0];}else{youtube_id=d.split(/v\/|v=|youtu\.be\//)[1].split(/[?&]/)[0];}
media.type="youtube";media.id=youtube_id;success=true;}else if(d.match('(player.)?vimeo\.com')){vimeo_id=d.split(/video\/|\/\/vimeo\.com\//)[1].split(/[?&]/)[0];media.type="vimeo";media.id=vimeo_id;success=true;}else if(d.match('(player.)?soundcloud\.com')){media.type="soundcloud";media.id=d;success=true;}else if(d.match('(www.)?twitter\.com')){trace("TWITTER MATCH");if(d.match("status\/")){twitter_id=d.split("status\/")[1];}else if(d.match("statuses\/")){twitter_id=d.split("statuses\/")[1];}else{twitter_id="";}
media.type="twitter";media.id=twitter_id;success=true;}else if(d.match("maps.google.com")){media.type="google-map";media.id=d.split(/src=['|"][^'|"]*?['|"]/gi);trace("google map "+media.id);success=true;}else if(d.match("flickr.com/photos")){media.type="flickr";media.id=d.split("photos\/")[1].split("/")[1];trace("FLICKR "+media.id);success=true;}else if(d.match(/jpg|jpeg|png|gif/i)){media.type="image";media.id=d;success=true;}else if(d.indexOf('http://')==0){media.type="website";media.id=d;success=true;}else{trace("unknown media");media.type="unknown";media.id=d;success=true;}
if(success){return media;}else{trace("No valid media id detected");trace(d);}
return false;}
VMM.Keys={flickr:"6d6f59d8d30d79f4f402a7644d5073e3",}
VMM.ExternalAPI={twitter:{tweetArray:[],getHTML:function(id){var the_url="https://api.twitter.com/1/statuses/oembed.json?id="+id+"&callback=?";VMM.getJSON(the_url,function(d){VMM.ExternalAPI.twitter.onJSONLoaded(d,id);});},onJSONLoaded:function(d,id){VMM.attachElement("#"+id,VMM.ExternalAPI.twitter.linkify(d.html));},linkify:function(d){return d.replace(/[@]+[A-Za-z0-9-_]+/g,function(u){var username=u.replace("@","");return u.link("http://twitter.com/"+username);});},parseTwitterDate:function(d){var date=new Date(Date.parse(d));return date;},prettyParseTwitterDate:function(d){var date=new Date(Date.parse(d));return VMM.Util.date.prettyDate(date,true);},getTweets:function(tweets){var tweetArray=[];var number_of_tweets=tweets.length;for(var i=0;i<tweets.length;i++){var twitter_id="";if(tweets[i].tweet.match("status\/")){twitter_id=tweets[i].tweet.split("status\/")[1];}else if(tweets[i].tweet.match("statuses\/")){twitter_id=tweets[i].tweet.split("statuses\/")[1];}else{twitter_id="";}
var the_url="https://api.twitter.com/1/statuses/show.json?id="+twitter_id+"&include_entities=true&callback=?";VMM.getJSON(the_url,function(d){var tweet={}
var twit="<div class='twitter'><blockquote><p>";var td=VMM.Util.linkify(d.text);td=td.replace(/(@([\w]+))/g,"<a href='http://twitter.com/$2'>$1</a>");td=td.replace(/(#([\w]+))/g,"<a href='http://twitter.com/#search?q=%23$2'>$1</a>");twit+=td;twit+="</p>";twit+="— "+d.user.name+" (<a href='https://twitter.com/"+d.user.screen_name+"'>@"+d.user.screen_name+"</a>) <a href='https://twitter.com/"+d.user.screen_name+"/status/"+d.id+"'>"+VMM.ExternalAPI.twitter.prettyParseTwitterDate(d.created_at)+" </a></blockquote></div>";tweet.content=twit;tweet.raw=d;tweetArray.push(tweet);if(tweetArray.length==number_of_tweets){var the_tweets={tweetdata:tweetArray}
VMM.fireEvent(global,"TWEETSLOADED",the_tweets);}});}},getTweetSearch:function(tweets,number_of_tweets){var _number_of_tweets=40;if(number_of_tweets!=null&&number_of_tweets!=""){_number_of_tweets=number_of_tweets;}
var the_url="http://search.twitter.com/search.json?q="+tweets+"&rpp="+_number_of_tweets+"&include_entities=true&result_type=mixed";var tweetArray=[];VMM.getJSON(the_url,function(d){for(var i=0;i<d.results.length;i++){var tweet={}
var twit="<div class='twitter'><blockquote><p>";var td=VMM.Util.linkify(d.results[i].text);td=td.replace(/(@([\w]+))/g,"<a href='http://twitter.com/$2'>$1</a>");td=td.replace(/(#([\w]+))/g,"<a href='http://twitter.com/#search?q=%23$2'>$1</a>");twit+=td;twit+="</p>";twit+="— "+d.results[i].from_user_name+" (<a href='https://twitter.com/"+d.results[i].from_user+"'>@"+d.results[i].from_user+"</a>) <a href='https://twitter.com/"+d.results[i].from_user+"/status/"+d.id+"'>"+VMM.ExternalAPI.twitter.prettyParseTwitterDate(d.results[i].created_at)+" </a></blockquote></div>";tweet.content=twit;tweet.raw=d.results[i];tweetArray.push(tweet);}
var the_tweets={tweetdata:tweetArray}
VMM.fireEvent(global,"TWEETSLOADED",the_tweets);});},prettyHTML:function(id){var the_url="https://api.twitter.com/1/statuses/show.json?id="+id+"&include_entities=true&callback=?";VMM.getJSON(the_url,function(d){VMM.ExternalAPI.twitter.formatJSON(d,id);});},formatJSON:function(d,id){var twit="<blockquote><p>";var td=VMM.Util.linkify(d.text);td=td.replace(/(@([\w]+))/g,"<a href='http://twitter.com/$2'>$1</a>");td=td.replace(/(#([\w]+))/g,"<a href='http://twitter.com/#search?q=%23$2'>$1</a>");twit+=td;twit+="</p></blockquote>";twit+=" <a href='https://twitter.com/"+d.user.screen_name+"/status/"+d.id+"' alt='link to original tweet' title='link to original tweet'>"+"<span class='created-at'></span>"+" </a>";twit+="<div class='vcard author'>"
twit+="<a class='screen-name url' href='https://twitter.com/"+d.user.screen_name+"' data-screen-name='"+d.user.screen_name+"'>";twit+="<span class='avatar'><img src=' "+d.user.profile_image_url+"'  alt=''></span>";twit+="<span class='fn'>"+d.user.name+"</span>";twit+="<span class='nickname'>@"+d.user.screen_name+"</span>";twit+="</a>"
twit+="</div>"
VMM.attachElement("#"+id,twit);}},maps:{},flickr:{getPhoto:function(mid,id){var the_url="http://api.flickr.com/services/rest/?method=flickr.photos.getSizes&api_key="+VMM.Keys.flickr+"&photo_id="+mid+"&format=json&nojsoncallback=1";VMM.getJSON(the_url,function(d){var flickr_large_id=id+"_large";var flickr_thumb_id=id+"_thumb";var flickr_img_large=d.sizes.size[d.sizes.size.length-1].source;var flickr_img_thumb=d.sizes.size[0].source;VMM.Element.attr(flickr_large_id,"src",flickr_img_large);VMM.Element.attr(flickr_thumb_id,"src",flickr_img_thumb);});},},soundcloud:{getSound:function(url,id){var the_url="http://soundcloud.com/oembed?iframe=true&url="+url+"";VMM.getJSON(the_url,function(d){VMM.attachElement("#"+id,d.html);});},},youtube:{init:function(id){if(VMM.master_config.youtube.active){VMM.master_config.youtube.createPlayer(id);}else{VMM.master_config.youtube.que.push(id);if(VMM.master_config.youtube.api_loaded){}else{var tag=document.createElement('script');tag.src="http://www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);VMM.master_config.youtube.api_loaded=true;}}},onAPIReady:function(){VMM.master_config.youtube.active=true;for(var i=0;i<VMM.master_config.youtube.que.length;i++){VMM.ExternalAPI.youtube.createPlayer(VMM.master_config.youtube.que[i]);}},createPlayer:function(id){var p={active:false,player:{},name:'youtube_'+id,playing:false};p.player['youtube_'+id]=new YT.Player('youtube_'+id,{height:'390',width:'640',playerVars:{enablejsapi:1,color:'white',showinfo:0,theme:'light',rel:0,origin:'http://dev.verite.co'},videoId:id,events:{'onReady':VMM.ExternalAPI.youtube.onPlayerReady,'onStateChange':VMM.ExternalAPI.youtube.onStateChange}});VMM.master_config.youtube.array.push(p);},stopPlayers:function(){for(var i=0;i<VMM.master_config.youtube.array.length;i++){if(VMM.master_config.youtube.array[i].playing){var the_name=VMM.master_config.youtube.array[i].name;VMM.master_config.youtube.array[i].player[the_name].stopVideo();}}},onStateChange:function(e){for(var i=0;i<VMM.master_config.youtube.array.length;i++){var the_name=VMM.master_config.youtube.array[i].name;if(VMM.master_config.youtube.array[i].player[the_name]==e.target){if(e.data==YT.PlayerState.PLAYING){VMM.master_config.youtube.array[i].playing=true;}}}},onPlayerReady:function(e){}}}
VMM.Media=function(parent,w,h,thedata){var data={};var _valid=false;var config={width:720,height:400,content_width:720,content_height:400,ease:"easeInOutExpo",duration:1000,spacing:15};var $media="";var $container="";var $mediacontainer="";var $mediaelement="";var layout=parent;if(w!=null&&w!=""){config.width=w};if(h!=null&&h!=""){config.height=h};this.init=function(d){if(typeof d!='undefined'){this.setData(d);}else{trace("WAITING ON DATA");}};var build=function(media,caption,credit){$media=VMM.appendAndGetElement(layout,"<div>","media");$container=VMM.appendAndGetElement($media,"<div>","container");$mediacontainer=VMM.appendAndGetElement($container,"<div>","media-container");if(data.media!=null&&data.media!=""){_valid=true;var m={};m=VMM.MediaType(data.media);if(m.type=="image"){VMM.appendElement($mediacontainer,"<img src='"+m.id+"'>");}else if(m.type=="youtube"){VMM.appendElement($mediacontainer,"<iframe frameborder='0' src='http://www.youtube.com/embed/"+m.id+"?&rel=0&theme=light&showinfo=0&hd=1&autohide=0&color=white' allowfullscreen>");}else if(m.type=="vimeo"){VMM.appendElement($mediacontainer,"<iframe frameborder='0' src='http://player.vimeo.com/video/"+m.id+"?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff'>");}else{}
if(data.credit!=null&&data.credit!=""){VMM.appendElement($container,VMM.createElement("div",data.credit,"credit"));}
if(data.caption!=null&&data.caption!=""){VMM.appendElement($container,VMM.createElement("div",data.caption,"caption"));}}};this.setData=function(d){if(typeof d!='undefined'){data=d;build();}else{trace("NO DATA");}};function reSize(){}}
VMM.Media.prototype.height=function(h){if(h!=null&&h!=""){config.height=h;reSize();}else{return config.height;}};VMM.Media.prototype.width=function(w){if(w!=null&&w!=""){config.width=w;reSize();}else{return config.width;}};VMM.Media.prototype.getData=function(){return data;};VMM.Media.prototype.setConfig=function(d){if(typeof d!='undefined'){config=d;}else{trace("NO CONFIG DATA");}};VMM.Media.prototype.getConfig=function(){return config;};VMM.Media.prototype.setSize=function(w,h){if(w!=null){config.width=w};if(h!=null){config.height=h};if(_active){reSize();}}
VMM.Media.prototype.active=function(){return _active;};}
function trace(msg){if(window.console){console.log(msg);}else if(typeof(jsTrace)!='undefined'){jsTrace.send(msg);}else{}}
Date.prototype.getWeek=function(){var onejan=new Date(this.getFullYear(),0,1);return Math.ceil((((this-onejan)/86400000)+onejan.getDay()+1)/7);}
Date.prototype.getDayOfYear=function(){var onejan=new Date(this.getFullYear(),0,1);return Math.ceil((this-onejan)/86400000);}
var is={Null:function(a){return a===null;},Undefined:function(a){return a===undefined;},nt:function(a){return(a===null||a===undefined);},Function:function(a){return(typeof(a)==="function")?a.constructor.toString().match(/Function/)!==null:false;},String:function(a){return(typeof(a)==="string")?true:(typeof(a)==="object")?a.constructor.toString().match(/string/i)!==null:false;},Array:function(a){return(typeof(a)==="object")?a.constructor.toString().match(/array/i)!==null||a.length!==undefined:false;},Boolean:function(a){return(typeof(a)==="boolean")?true:(typeof(a)==="object")?a.constructor.toString().match(/boolean/i)!==null:false;},Date:function(a){return(typeof(a)==="date")?true:(typeof(a)==="object")?a.constructor.toString().match(/date/i)!==null:false;},HTML:function(a){return(typeof(a)==="object")?a.constructor.toString().match(/html/i)!==null:false;},Number:function(a){return(typeof(a)==="number")?true:(typeof(a)==="object")?a.constructor.toString().match(/Number/)!==null:false;},Object:function(a){return(typeof(a)==="object")?a.constructor.toString().match(/object/i)!==null:false;},RegExp:function(a){return(typeof(a)==="function")?a.constructor.toString().match(/regexp/i)!==null:false;}};var type={of:function(a){for(var i in is){if(is[i](a)){return i.toLowerCase();}}}};function onYouTubePlayerAPIReady(){VMM.ExternalAPI.youtube.onAPIReady();}
if(typeof(jQuery)!='undefined'){jQuery.easing['jswing']=jQuery.easing['swing'];jQuery.extend(jQuery.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d);},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},});}
if(typeof VMM!='undefined'&&typeof VMM.Sequence=='undefined'){VMM.Sequence=Class.extend({initialize:function(length,index){trace('sequence init');this.increment=1;this.decrement=1;this.wrap=false;this.length=(length==null)?0:length;this.index=(index==null)?((length==0)?-1:0):(index>=length)?length-1:index;this.synced=[];},setLength:function(i){this.length=i;this.setIndex(this.index);},getLength:function(){return this.length;},setIndex:function(i){if(this.length<=0){this.index=-1;return;}
if(i<0)i=(this.wrap)?this.length-(i%this.length):0;else if(i>=this.length)i=(this.wrap)?(i%this.length):this.length-1;var pi=this.index;this.index=i;if(pi!=this.index){for(var j=0;j<this.synced.length;j++){var s=this.synced[j];if(s.getIndex()!=this.index)s.setIndex(this.index);}}},getIndex:function(){return this.index;},next:function(){this.setIndex(this.index+this.increment);},prev:function(){this.setIndex(this.index-this.decrement);},sync:function(s,bothWays){if(s instanceof NYTMM.Sequence&&s!=this){this.synced.push(s);if(bothWays)s.sync(this);return true;}
return false;},unsync:function(s,bothWays){for(var i=0;i<this.synced.length;i++){if(this.synced[i]==s){this.synced.splice(i,1);if(bothWays)s.unsync(this);return true;}}
return false;}});}
if(typeof VMM!='undefined'&&typeof VMM.Slider=='undefined'){VMM.Slider=function(parent,content_width,content_height,is_timeline){var _private_var="private";var events={};var data=[];var slides_content="";var slides=[];var medias=[];var current_slide=0;var current_width=960;var touch={move:false,x:10,y:0,off:0,dampen:48};var slide_positions=[];var config={interval:10,something:0,width:720,height:400,content_width:720,content_height:400,content_padding:130,ease:"easeInOutExpo",duration:1000,nav_width:100,nav_height:200,timeline:false,spacing:15,};var slider_width=1000;if(content_width!=null&&content_width!=""){config.width=content_width;}
if(content_height!=null&&content_height!=""){config.height=content_height;}
if(is_timeline!=null&&is_timeline!=""){config.timeline=is_timeline;}
var content="";var _active=false;var $slider="";var $slider_mask="";var $slider_container="";var $slides_items="";var navigation={};navigation.nextBtn;navigation.prevBtn;navigation.nextDate;navigation.prevDate;navigation.nextTitle;navigation.prevTitle;this.ver="0.1";var layout=parent;this.init=function(d){if(typeof d!='undefined'){this.setData(d);}else{trace("WAITING ON DATA");}};this.width=function(w){if(w!=null&&w!=""){config.width=w;reSize();}else{return config.width;}}
this.height=function(h){if(h!=null&&h!=""){config.height=h;reSize();}else{return config.height;}}
this.setData=function(d){if(typeof d!='undefined'){data=d;build();}else{trace("NO DATA");}};this.getData=function(){return data;};this.setConfig=function(d){if(typeof d!='undefined'){config=d;}else{trace("NO CONFIG DATA");}}
this.getConfig=function(){return config;};this.setSize=function(w,h){if(w!=null){config.width=w};if(h!=null){config.height=h};if(_active){reSize();}}
this.active=function(){return _active;};this.getCurrentNumber=function(){return current_slide;};this.setSlide=function(n){goToSlide(n);};function onConfigSet(){trace("onConfigSet");};function reSize(go_to_slide,from_start){var _go_to_slide=true;var _from_start=false;if(go_to_slide!=null){_go_to_slide=go_to_slide};if(from_start!=null){_from_start=from_start};current_width=config.width;config.nav_height=VMM.Element.height(navigation.prevBtnContainer);config.content_width=current_width-(config.content_padding*2);VMM.Element.width($slides_items,(slides.length*config.content_width));if(_from_start){var _pos=VMM.Element.position(slides[current_slide]);VMM.Element.css($slider_container,"left",_pos.left);}
positionSlides();VMM.Element.css(navigation.nextBtn,"left",(current_width-config.nav_width));VMM.Element.height(navigation.prevBtn,config.height);VMM.Element.height(navigation.nextBtn,config.height);VMM.Element.css(navigation.nextBtnContainer,"top",((config.height/2)-(config.nav_height/2)));VMM.Element.css(navigation.prevBtnContainer,"top",((config.height/2)-(config.nav_height/2)));VMM.Element.height($slider_mask,config.height);VMM.Element.width($slider_mask,current_width);if(_go_to_slide){goToSlide(current_slide,"linear",1);};if(current_slide==0){VMM.Element.visible(navigation.prevBtn,false);}}
function onNextClick(e){if(current_slide==slides.length-1){VMM.Element.animate($slider_container,config.duration,config.ease,{"left":-(VMM.Element.position(slides[current_slide]).left)});}else{goToSlide(current_slide+1);upDate();}}
function onPrevClick(e){if(current_slide==0){goToSlide(current_slide);}else{goToSlide(current_slide-1);upDate();}}
function onTouchUpdate(e,b){if(slide_positions.length==0){for(var i=0;i<slides.length;i++){var sp=VMM.Element.position(slides[i]);slide_positions.push(sp.left);}}
if(typeof b.left=="number"){var _pos=b.left;if(_pos<-(VMM.Element.position(slides[current_slide]).left)-(config.width/3)){onNextClick();}else if(_pos>-(VMM.Element.position(slides[current_slide]).left)+(config.width/3)){onPrevClick();}else{VMM.Element.animate($slider_container,config.duration,config.ease,{"left":-(VMM.Element.position(slides[current_slide]).left)});}}else{VMM.Element.animate($slider_container,config.duration,config.ease,{"left":-(VMM.Element.position(slides[current_slide]).left)});}
if(typeof b.top=="number"){VMM.Element.animate($slider_container,config.duration,config.ease,{"top":-b.top});}else{}};function upDate(){VMM.fireEvent(layout,"UPDATE");};var getData=function(d){data=d;};var buildSlides=function(d){VMM.attachElement($slides_items,"");for(var i=0;i<d.length;i++){var bw="";var _slide;var _media;bw=VMM.createElement("div",d[i].content,"content");_slide=VMM.appendAndGetElement($slides_items,"<div>","slider-item",bw);slides.push(_slide);}}
var positionSlides=function(){VMM.Element.css(".slider-item","width",config.content_width);VMM.Element.height(".slider-item",config.height);VMM.Element.css(".slider-item .layout-text-media .media .media-container img","max-height",config.height-50);VMM.Element.css(".slider-item .layout-media .media .media-container img","max-height",config.height-150);VMM.Element.css(".slider-item .media .media-container .soundcloud","max-height",168);var _iframe_height_full=Math.round(config.height)-160;var _iframe_width_full=Math.round((_iframe_height_full/9)*16);var _iframe_width=(config.content_width/100)*60;var _iframe_height=Math.round((_iframe_width/16)*9)+25;VMM.Element.height(".slider-item .media .media-container .media-frame",_iframe_height);VMM.Element.width(".slider-item .media .media-container .media-frame",_iframe_width);VMM.Element.height(".slider-item .layout-media .media .media-container .media-frame",_iframe_height_full);VMM.Element.width(".slider-item .layout-media .media .media-container .media-frame",_iframe_width_full);VMM.Element.height(".slider-item .layout-media .media .media-container .soundcloud",config.height-150);VMM.Element.width(".slider-item .layout-media .media .media-container .soundcloud",config.content_width);VMM.Element.width(".slider-item .layout-text-media .media .media-container .soundcloud",_iframe_width);VMM.Element.height(".slider-item .media .media-container .map",_iframe_height_full);VMM.Element.css(".slider-item .layout-text-media .media .media-container .media-frame","max-width",config.content_width);var pos=0;for(var i=0;i<slides.length;i++){pos=i*(config.width+config.spacing);VMM.Element.css(slides[i],"left",pos);}}
var opacitySlides=function(n){var _ease="linear";for(var i=0;i<slides.length;i++){if(i==current_slide){VMM.Element.animate(slides[i],config.duration,_ease,{"opacity":1});}else if(i==current_slide-1){VMM.Element.animate(slides[i],config.duration,_ease,{"opacity":0.1});}else if(i==current_slide+1){VMM.Element.animate(slides[i],config.duration,_ease,{"opacity":0.1});}else{VMM.Element.css(slides[i],"opacity",n);}}}
var goToSlide=function(n,ease,duration,fast,firstrun){VMM.ExternalAPI.youtube.stopPlayers();current_slide=n;var _ease=config.ease;var _duration=config.duration;var is_last=false;var is_first=false;if(current_slide==0){is_first=true;}
if(current_slide+1==slides.length){is_last=true}
if(ease!=null&&ease!=""){_ease=ease};if(duration!=null&&duration!=""){_duration=duration};var _pos=VMM.Element.position(slides[current_slide]);if(is_first){VMM.Element.visible(navigation.prevBtn,false);}else{VMM.Element.visible(navigation.prevBtn,true);if(config.timeline){VMM.attachElement(navigation.prevDate,data[current_slide-1].date);}
VMM.attachElement(navigation.prevTitle,VMM.Util.unlinkify(data[current_slide-1].title));}
if(is_last){VMM.Element.visible(navigation.nextBtn,false);}else{VMM.Element.visible(navigation.nextBtn,true);if(config.timeline){VMM.attachElement(navigation.nextDate,data[current_slide+1].date);}
VMM.attachElement(navigation.nextTitle,VMM.Util.unlinkify(data[current_slide+1].title));}
if(fast){VMM.Element.css($slider_container,"left",-(_pos.left-config.content_padding));}else{VMM.Element.stop($slider_container);VMM.Element.animate($slider_container,_duration,_ease,{"left":-(_pos.left-config.content_padding)});}
if(firstrun){VMM.fireEvent(layout,"LOADED");}
if(VMM.Element.height(slides[current_slide])>config.height){VMM.Element.css(".slider","overflow-y","scroll");}else{VMM.Element.css(layout,"overflow-y","hidden");VMM.Element.animate(layout,_duration,_ease,{scrollTop:VMM.Element.prop(layout,"scrollHeight")-VMM.Element.height(layout)});}}
var buildNavigation=function(){var temp_icon="<div class='icon'>&nbsp;</div>";navigation.nextBtn=VMM.appendAndGetElement($slider,"<div>","nav-next");navigation.prevBtn=VMM.appendAndGetElement($slider,"<div>","nav-previous");navigation.nextBtnContainer=VMM.appendAndGetElement(navigation.nextBtn,"<div>","nav-container",temp_icon);navigation.prevBtnContainer=VMM.appendAndGetElement(navigation.prevBtn,"<div>","nav-container",temp_icon);if(config.timeline){navigation.nextDate=VMM.appendAndGetElement(navigation.nextBtnContainer,"<div>","date","");navigation.prevDate=VMM.appendAndGetElement(navigation.prevBtnContainer,"<div>","date","");}
navigation.nextTitle=VMM.appendAndGetElement(navigation.nextBtnContainer,"<div>","title","");navigation.prevTitle=VMM.appendAndGetElement(navigation.prevBtnContainer,"<div>","title","");VMM.bindEvent(".nav-next",onNextClick);VMM.bindEvent(".nav-previous",onPrevClick);}
var build=function(){VMM.attachElement(layout,"");$slider=VMM.getElement("div.slider");$slider_mask=VMM.appendAndGetElement($slider,"<div>","slider-container-mask");$slider_container=VMM.appendAndGetElement($slider_mask,"<div>","slider-container");$slides_items=VMM.appendAndGetElement($slider_container,"<div>","slider-item-container");buildNavigation();buildSlides(data);var __duration=3000;if(VMM.Browser.device=="tablet"||VMM.Browser.device=="mobile"){config.duration=500;__duration=1000;VMM.TouchSlider.createPanel($slider_container,$slider_container,VMM.Element.width(slides[0]),config.spacing,true);VMM.bindEvent($slider_container,onTouchUpdate,"TOUCHUPDATE");}else if(VMM.Browser.device=="mobile"){}else{}
reSize(false,true);VMM.Element.visible(navigation.prevBtn,false);goToSlide(0,"easeOutExpo",__duration,true,true);_active=true;};};}
if(typeof VMM!='undefined'&&typeof VMM.Util=='undefined'){VMM.Util=({init:function(){return this;},randomBetween:function(min,max){return Math.floor(Math.random()*(max-min+1)+min);},customSort:function(a,b){var a1=a,b1=b;if(a1==b1)return 0;return a1>b1?1:-1;},number2money:function(n,symbol,padding){var symbol=(symbol!==null)?symbol:true;var padding=(padding!==null)?padding:false;var number=VMM.Math2.floatPrecision(n,2);var formatted=this.niceNumber(number);if(!formatted.split(/\./g)[1]&&padding)formatted=formatted+".00";if(symbol)formatted="$"+formatted;return formatted;},wordCount:function(s){var fullStr=s+" ";var initial_whitespace_rExp=/^[^A-Za-z0-9\'\-]+/gi;var left_trimmedStr=fullStr.replace(initial_whitespace_rExp,"");var non_alphanumerics_rExp=/[^A-Za-z0-9\'\-]+/gi;var cleanedStr=left_trimmedStr.replace(non_alphanumerics_rExp," ");var splitString=cleanedStr.split(" ");var word_count=splitString.length-1;if(fullStr.length<2){word_count=0;}
return word_count;},parseDate:function(d){var _date;if(d.match(/,/gi)){var _d_array=d.split(",");for(var i=0;i<_d_array.length;i++){_d_array[i]=parseInt(_d_array[i]);}
_date=new Date();if(_d_array[0]){_date.setFullYear(_d_array[0]);}
if(_d_array[1]>1){_date.setMonth(_d_array[1]-1);}else{_date.setMonth(0);}
if(_d_array[2]>1){_date.setDate(_d_array[2]);}else{_date.setDate(1);}
if(_d_array[3]>1){_date.setHours(_d_array[3]);}else{_date.setHours(0);}
if(_d_array[4]>1){_date.setMinutes(_d_array[4]);}else{_date.setMinutes(0);}
if(_d_array[5]>1){_date.setSeconds(_d_array[5]);}else{_date.setSeconds(0);}
if(_d_array[6]>1){_date.setMilliseconds(_d_array[6]);}else{_date.setMilliseconds(0);}}else if(d.match("/")){_date=new Date(d);}else if(d.length<5){_date=new Date();_date.setFullYear(parseInt(d));_date.setMonth(0);_date.setDate(1);_date.setHours(0);_date.setMinutes(0);_date.setSeconds(0);_date.setMilliseconds(0);}else{_date=new Date(parseInt(d.slice(0,4)),parseInt(d.slice(4,6))-1,parseInt(d.slice(6,8)),parseInt(d.slice(8,10)),parseInt(d.slice(10,12)));}
return _date;},ratio:{r16_9:function(w,h){if(w!==null&&w!==""){return Math.round((h/16)*9);}else if(h!==null&&h!==""){return Math.round((w/9)*16);}},r4_3:function(w,h){if(w!==null&&w!==""){return Math.round((h/4)*3);}else if(h!==null&&h!==""){return Math.round((w/3)*4);}}},date:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],month_abbr:["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_abbr:["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."],hour:[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],hour_suffix:["am"],prettyDate:function(d,is_abbr,date_type){var _date="";if(type.of(d)=="date"){if(d.getMonth()===0&&d.getDate()==1&&d.getHours()===0&&d.getMinutes()===0){_date=d.getFullYear();}else{if(d.getDate()<=1&&d.getHours()===0&&d.getMinutes()===0){if(is_abbr){_date=VMM.Util.date.month_abbr[d.getMonth()];}else{_date=VMM.Util.date.month[d.getMonth()]+" "+d.getFullYear();}}else if(d.getHours()===0&&d.getMinutes()===0){if(is_abbr){_date=VMM.Util.date.month_abbr[d.getMonth()]+" "+d.getDate();}else{_date=VMM.Util.date.month[d.getMonth()]+" "+d.getDate()+", "+d.getFullYear();}}else if(d.getMinutes()===0){if(is_abbr){_date=VMM.Util.date.get12HRTime(d);}else{_date=VMM.Util.date.get12HRTime(d)+"<br/><small>"+VMM.Util.date.month[d.getMonth()]+" "+d.getDate()+", "+d.getFullYear()+" </small> ";}}else{if(is_abbr){_date=VMM.Util.date.day[d.getDay()]+", "+VMM.Util.date.month_abbr[d.getMonth()]+" "+d.getDate()+", "+d.getFullYear()+" at "+VMM.Util.date.get12HRTime(d);}else{_date=VMM.Util.date.get12HRTime(d)+"<br/><small>"+VMM.Util.date.day[d.getDay()]+", "+VMM.Util.date.month[d.getMonth()]+" "+d.getDate()+", "+d.getFullYear()+" </small> ";}}}}else{trace("NOT A VALID DATE?");trace(d);}
return _date;},prettyMonth:function(m,is_year){var _month="";if(type.of(t)=="date"){}
return _month;},get12HRTime:function(t,is_seconds){var _time="";if(type.of(t)=="date"){_time=VMM.Util.date.theHour(t.getHours())+":"+VMM.Util.date.minuteZeroFill(t.getMinutes());if(is_seconds){_time=_time+":"+VMM.Util.date.minuteZeroFill(t.getSeconds());}
_time=_time+VMM.Util.date.hourSuffix(t.getHours());}
return _time;},theHour:function(hr){if(hr>0&&hr<13){return(hr);}
if(hr=="0"){hr=12;return(hr);}
if(hr===0){return(12);}
return(hr-12);},minuteZeroFill:function(v){if(v>9){return""+v;}
return"0"+v;},hourSuffix:function(t){if(t<12){return(" am");}
return(" pm");}},doubledigit:function(n){return(n<10?'0':'')+n;},truncateWords:function(s,min,max){if(!min)min=30;if(!max)max=min;var initial_whitespace_rExp=/^[^A-Za-z0-9\'\-]+/gi;var left_trimmedStr=s.replace(initial_whitespace_rExp,"");var words=left_trimmedStr.split(" ");var result=[];min=Math.min(words.length,min);max=Math.min(words.length,max);for(var i=0;i<min;i++){result.push(words[i]);}
for(var j=min;i<max;i++){var word=words[i];result.push(word);if(word.charAt(word.length-1)=='.'){break;}}
return(result.join(' '));},linkify:function(text,targets,is_touch){if(!text)return text;text=text.replace(/((https?\:\/\/|ftp\:\/\/)|(www\.))(\S+)(\w{2,4})(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi,function(url){var nice=url;var _touch="";if(url.search('^https?:\/\/')<0)url='http://'+url;_touch="onclick = 'void(0)'";if(is_touch){_touch="onclick = 'void(0)'";}
onclick="void(0)";if(targets===null||targets==="")return'<a href="'+url+" "+_touch+'">'+url+'</a>';else return"<a href='"+url+" "+_touch+" target='"+targets+"'>'"+url+"</a>";});return text;},unlinkify:function(text){if(!text)return text;text=text.replace(/<a\b[^>]*>/i,"");text=text.replace(/<\/a>/i,"");return text;},nl2br:function(text){return text.replace(/(\r\n|[\r\n]|\\n|\\r)/g,"<br/>");},unique_ID:function(size){var getRandomNumber=function(range){return Math.floor(Math.random()*range);};var getRandomChar=function(){var chars="abcdefghijklmnopqurstuvwxyzABCDEFGHIJKLMNOPQURSTUVWXYZ";return chars.substr(getRandomNumber(62),1);};var randomID=function(size){var str="";for(var i=0;i<size;i++){str+=getRandomChar();}
return str;};return randomID(size);},isEven:function(n){return(n%2===0)?true:false;},getUrlVars:function(str){var vars=[],hash;var hashes=str.slice(str.indexOf('?')+1).split('&');for(var i=0;i<hashes.length;i++){hash=hashes[i].split('=');vars.push(hash[0]);vars[hash[0]]=hash[1];}
trace(vars);return vars;},toHTML:function(text){text=this.nl2br(text);text=this.linkify(text);return text.replace(/\s\s/g,"&nbsp;&nbsp;");},toCamelCase:function(s,forceLowerCase){if(forceLowerCase!==false)forceLowerCase=true;var sps=((forceLowerCase)?s.toLowerCase():s).split(" ");for(var i=0;i<sps.length;i++){sps[i]=sps[i].substr(0,1).toUpperCase()+sps[i].substr(1);}
return sps.join(" ");},properQuotes:function(str){return str.replace(/\"([^\"]*)\"/gi,"&#8220;$1&#8221;");},niceNumber:function(n){var amount=String(Math.abs(Number(n)));var leftOfDecimal=amount.split(/\./g)[0];var rightOfDecimal=amount.split(/\./g)[1];var formatted_text='';var num_a=leftOfDecimal.toArray();num_a.reverse();for(var i=1;i<=num_a.length;i++){if((i%3==0)&&(i<num_a.length)){formatted_text=","+num_a[i-1]+formatted_text;}else{formatted_text=num_a[i-1]+formatted_text;}}
if(rightOfDecimal!=null&&rightOfDecimal!=''&&rightOfDecimal!=undefined){return formatted_text+"."+rightOfDecimal;}else{return formatted_text;}},toTitleCase:function(t){var __TitleCase={__smallWords:['a','an','and','as','at','but','by','en','for','if','in','of','on','or','the','to','v[.]?','via','vs[.]?'],init:function(){this.__smallRE=this.__smallWords.join('|');this.__lowerCaseWordsRE=new RegExp('\\b('+this.__smallRE+')\\b','gi');this.__firstWordRE=new RegExp('^([^a-zA-Z0-9 \\r\\n\\t]*)('+this.__smallRE+')\\b','gi');this.__lastWordRE=new RegExp('\\b('+this.__smallRE+')([^a-zA-Z0-9 \\r\\n\\t]*)$','gi');},toTitleCase:function(string){var line='';var split=string.split(/([:.;?!][ ]|(?:[ ]|^)["“])/);for(var i=0;i<split.length;++i){var s=split[i];s=s.replace(/\b([a-zA-Z][a-z.'’]*)\b/g,this.__titleCaseDottedWordReplacer);s=s.replace(this.__lowerCaseWordsRE,this.__lowerReplacer);s=s.replace(this.__firstWordRE,this.__firstToUpperCase);s=s.replace(this.__lastWordRE,this.__firstToUpperCase);line+=s;}
line=line.replace(/ V(s?)\. /g,' v$1. ');line=line.replace(/(['’])S\b/g,'$1s');line=line.replace(/\b(AT&T|Q&A)\b/ig,this.__upperReplacer);return line;},__titleCaseDottedWordReplacer:function(w){return(w.match(/[a-zA-Z][.][a-zA-Z]/))?w:__TitleCase.__firstToUpperCase(w);},__lowerReplacer:function(w){return w.toLowerCase()},__upperReplacer:function(w){return w.toUpperCase()},__firstToUpperCase:function(w){var split=w.split(/(^[^a-zA-Z0-9]*[a-zA-Z0-9])(.*)$/);split[1]=split[1].toUpperCase();return split.join('');},};__TitleCase.init();t=t.replace(/_/g," ");t=__TitleCase.toTitleCase(t);return t;},}).init();}
!function($){"use strict"
var Tooltip=function(element,options){this.init('tooltip',element,options)}
Tooltip.prototype={constructor:Tooltip,init:function(type,element,options){var eventIn,eventOut
this.type=type
this.$element=$(element)
this.options=this.getOptions(options)
this.enabled=true
if(this.options.trigger!='manual'){eventIn=this.options.trigger=='hover'?'mouseenter':'focus'
eventOut=this.options.trigger=='hover'?'mouseleave':'blur'
this.$element.on(eventIn,this.options.selector,$.proxy(this.enter,this))
this.$element.on(eventOut,this.options.selector,$.proxy(this.leave,this))}
this.options.selector?(this._options=$.extend({},this.options,{trigger:'manual',selector:''})):this.fixTitle()},getOptions:function(options){options=$.extend({},$.fn[this.type].defaults,options,this.$element.data())
if(options.delay&&typeof options.delay=='number'){options.delay={show:options.delay,hide:options.delay}}
return options},enter:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type)
if(!self.options.delay||!self.options.delay.show){self.show()}else{self.hoverState='in'
setTimeout(function(){if(self.hoverState=='in'){self.show()}},self.options.delay.show)}},leave:function(e){var self=$(e.currentTarget)[this.type](this._options).data(this.type)
if(!self.options.delay||!self.options.delay.hide){self.hide()}else{self.hoverState='out'
setTimeout(function(){if(self.hoverState=='out'){self.hide()}},self.options.delay.hide)}},show:function(){var $tip,inside,pos,actualWidth,actualHeight,placement,tp
if(this.hasContent()&&this.enabled){$tip=this.tip()
this.setContent()
if(this.options.animation){$tip.addClass('fade')}
placement=typeof this.options.placement=='function'?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement
inside=/in/.test(placement)
$tip.remove().css({top:0,left:0,display:'block'}).appendTo(inside?this.$element:document.body)
pos=this.getPosition(inside)
actualWidth=$tip[0].offsetWidth
actualHeight=$tip[0].offsetHeight
switch(inside?placement.split(' ')[1]:placement){case'bottom':tp={top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}
break
case'top':tp={top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}
break
case'left':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}
break
case'right':tp={top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}
break}
$tip.css(tp).addClass(placement).addClass('in')}},setContent:function(){var $tip=this.tip()
$tip.find('.tooltip-inner').html(this.getTitle())
$tip.removeClass('fade in top bottom left right')},hide:function(){var that=this,$tip=this.tip()
$tip.removeClass('in')
function removeWithAnimation(){var timeout=setTimeout(function(){$tip.off($.support.transition.end).remove()},500)
$tip.one($.support.transition.end,function(){clearTimeout(timeout)
$tip.remove()})}
$.support.transition&&this.$tip.hasClass('fade')?removeWithAnimation():$tip.remove()},fixTitle:function(){var $e=this.$element
if($e.attr('title')||typeof($e.attr('data-original-title'))!='string'){$e.attr('data-original-title',$e.attr('title')||'').removeAttr('title')}},hasContent:function(){return this.getTitle()},getPosition:function(inside){return $.extend({},(inside?{top:0,left:0}:this.$element.offset()),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var title,$e=this.$element,o=this.options
title=$e.attr('data-original-title')||(typeof o.title=='function'?o.title.call($e[0]):o.title)
title=title.toString().replace(/(^\s*|\s*$)/,"")
return title},tip:function(){return this.$tip=this.$tip||$(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide()
this.$element=null
this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass('in')?'hide':'show']()}}
$.fn.tooltip=function(option){return this.each(function(){var $this=$(this),data=$this.data('tooltip'),options=typeof option=='object'&&option
if(!data)$this.data('tooltip',(data=new Tooltip(this,options)))
if(typeof option=='string')data[option]()})}
$.fn.tooltip.Constructor=Tooltip
$.fn.tooltip.defaults={animation:true,delay:0,selector:false,placement:'top',trigger:'hover',title:'',template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery);
/*
 Verite Timeline 0.85
 Designed and built by Zach Wise digitalartwork.net
 Date: March 30, 2012

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    http://www.gnu.org/licenses/

*/

/*
 TODO
 -
 -
 FUTURE PLANS
 - Better iPhone usability
 - Support feeds from popular sources
 - Storify integration
 - Code optimization
 - Clean up config flow
 - Possible tagging of events (depends on usability factors)

*/
if(typeof VMM!='undefined'&&typeof VMM.Timeline=='undefined'){VMM.Timeline=function(w,h){var $timeline=VMM.getElement("#timeline");var $feedback;var $messege;var html_string=VMM.getElement("#timeline");$feedback=VMM.appendAndGetElement($timeline,"<div>","feedback","");$messege=VMM.appendAndGetElement($feedback,"<div>","messege","Loading Timeline");var slider=new VMM.Slider("div.slider",720,400,true);var timenav=new VMM.Timeline.TimeNav("div.navigation",720,400,true);var _private_var='private';var events={};var data={};var _dates=[];var config={};config.interval=10;config.something=0;config.width=960;config.height=540;config.spacing=15;config.loaded={slider:false,timenav:false,percentloaded:0};config.ease="easeInOutExpo";config.duration=1000;if(w!=null&&w!=""){config.width=w;VMM.Element.width($timeline,w);}else{config.width=VMM.Element.width($timeline);}
if(h!=null&&h!=""){config.height=h;VMM.Element.height($timeline,h);}else{config.height=VMM.Element.height($timeline);}
if(VMM.Browser.device=="mobile"){config.nav_width=config.width;config.nav_height=200;config.feature_width=config.width;config.feature_height=config.height;}else{config.nav_width=config.width;config.nav_height=200;config.feature_width=config.width;config.feature_height=config.height-config.nav_height;}
var ie7=false;if(VMM.Browser.browser=="MSIE"){if(parseInt(VMM.Browser.version,10)==7){ie7=true;}}
this.ver="0.85";function onDataReady(e,d){data=d.timeline;if(type.of(data.era)=="array"){}else{data.era=[];}
buildDates();};function onDatesProcessed(){build();}
function reSize(){updateSize();slider.setSize(config.feature_width,config.feature_height);timenav.setSize(config.width,config.height);resizeSlides();};function onSliderLoaded(e){config.loaded.slider=true;onComponentLoaded();};function onComponentLoaded(e){config.loaded.percentloaded=config.loaded.percentloaded+25;showMessege("Loading Timeline "+config.loaded.percentloaded);if(config.loaded.slider&&config.loaded.timenav){hideMessege();}}
function onTimeNavLoaded(e){config.loaded.timenav=true;onComponentLoaded();}
function onSlideUpdate(e){timenav.setMarker(slider.getCurrentNumber(),config.ease,config.duration);};function onMarkerUpdate(e){slider.setSlide(timenav.getCurrentNumber());};this.init=function(d){trace('init');VMM.bindEvent(global,onDataReady,"DATAREADY");if(ie7){$feedback=VMM.appendAndGetElement($timeline,"<div>","feedback","");$messege=VMM.appendAndGetElement($feedback,"<div>","messege","Internet Explorer 7 is not supported by Timeline.");}else{if(type.of(d)=="string"){VMM.Timeline.DataObj.getData(d);}else{VMM.Timeline.DataObj.getData(html_string);}
$feedback=VMM.appendAndGetElement($timeline,"<div>","feedback","");$messege=VMM.appendAndGetElement($feedback,"<div>","messege","Loading Timeline");}};this.iframeLoaded=function(){trace("iframeLoaded");};var getData=function(url){VMM.getJSON(url,function(d){data=VMM.Timeline.DataObj.getData(d);VMM.fireEvent(global,"DATAREADY");});};var showMessege=function(msg){};var hideMessege=function(){VMM.Element.animate($feedback,config.duration,config.ease*4,{"opacity":0},detachMessege);};var detachMessege=function(){VMM.Element.detach($feedback);}
var build=function(){VMM.attachElement($timeline,"");VMM.appendElement($timeline,"<div class='container main'><div class='feature'><div class='slider'></div></div><div class='navigation'></div></div>");reSize();VMM.bindEvent("div.slider",onSliderLoaded,"LOADED");VMM.bindEvent("div.navigation",onTimeNavLoaded,"LOADED");VMM.bindEvent("div.slider",onSlideUpdate,"UPDATE");VMM.bindEvent("div.navigation",onMarkerUpdate,"UPDATE");slider.init(_dates);timenav.init(_dates,data.era);VMM.bindEvent(global,reSize,"resize");VMM.bindEvent(global,function(e){e.preventDefault()},"touchmove");};var buildSlide=function(dd,d_date){updateSize();var d=dd;var slide="";var c={};c._text="";c._media="";var _valid=false;var _hasmedia=false;var _hastext=false;if(type.of(d_date)=="date"){_valid=true;if(dd.type=="start"){}else{c._text+=VMM.createElement("h2",VMM.Util.date.prettyDate(d_date),"date");}
if(d.headline!=null&&d.headline!=""){if(d.type=="tweets"){}else if(dd.type=="start"){c._text+=VMM.createElement("div",d.headline,"start headline////////");}else{c._text+=VMM.createElement("div",d.headline,"headline");}}
if(d.text!=null&&d.text!=""){_hastext=true;c._text+=VMM.createElement("p",d.text);}
c._text=VMM.createElement("div",c._text,"container");c._text=VMM.createElement("div",c._text,"text");}
if(_valid){if(d.asset!=null&&d.asset!=""){if(d.asset.media!=null&&d.asset.media!=""){_hasmedia=true;c._media=VMM.MediaElement.create("",d.asset,true,config.feature_width,config.feature_height);}}}
if(_valid){var _layout_class="content-container layout";if(_hastext){_layout_class+="-text"}
if(_hasmedia){_layout_class+="-media";}
if(typeof d.figure!='undefined'&&d.figure){c._media=VMM.createElement("div",d.figure,"media-container");c._media=VMM.createElement("div",c._media,"media-wrapper");c._media=VMM.createElement("div",c._media,"media");}
slide=VMM.createElement("div",c._text+c._media,_layout_class);}
return slide;}
var updateSize=function(){config.width=VMM.Element.width($timeline);config.height=VMM.Element.height($timeline);config.nav_width=config.width;config.feature_width=config.width;if(VMM.Browser.device=="mobile"){config.feature_height=config.height;}else{config.feature_height=config.height-config.nav_height-3;}};var resizeSlides=function(){if(config.width<500){VMM.Element.hide("div.navigation");VMM.Element.hide("div.nav-next");VMM.Element.hide("div.nav-previous");VMM.Element.height(".slider-container-mask",config.height);}else{VMM.Element.show("div.navigation");VMM.Element.show("div.nav-next");VMM.Element.show("div.nav-previous");VMM.Element.height(".slider-container-mask",config.feature_height);}
if(config.width<820){if(config.width<500){}else{}}else{}};var buildDates=function(){updateSize();if(data.headline!=null&&data.headline!=""&&data.text!=null&&data.text!=""){trace("HAS STARTPAGE");var _date={};if(data.type=="google spreadsheet"){trace("google spreadsheet startpage date"+data.startDate);_date.startdate=new Date(Date.parse(data.startDate));trace(_date.startdate);}else{_date.startdate=VMM.Util.parseDate(data.startDate);}
_date.uniqueid=VMM.Util.unique_ID(5);_date.enddate=_date.startdate;_date.title=data.headline;_date.headline=data.headline;_date.text=data.text;_date.type="start";_date.date=VMM.Util.date.prettyDate(data.startDate);_date.asset=data.asset;_date.fulldate=_date.startdate.getTime();_date.figure=data.figure;_date.content=buildSlide(_date,_date.startdate);if(_date.content!=null&&_date.content!=""){_dates.push(_date);}}
for(var i=0;i<data.date.length;i++){if(data.date[i].startDate!=null&&data.date[i].startDate!=""){var _date={};if(data.date[i].type=="tweets"){_date.startdate=VMM.ExternalAPI.twitter.parseTwitterDate(data.date[i].startDate);}else if(data.date[i].type=="google spreadsheet"){_date.startdate=new Date(Date.parse(data.date[i].startDate));trace(_date.startdate);}else{_date.startdate=VMM.Util.parseDate(data.date[i].startDate);}
_date.uniqueid=(data.date[i].startDate).toString()+"-"+i.toString();if(data.date[i].endDate!=null&&data.date[i].endDate!=""){if(data.date[i].type=="tweets"){_date.enddate=VMM.ExternalAPI.twitter.parseTwitterDate(data.date[i].endDate);}else if(data.date[i].type=="google spreadsheet"){_date.enddate=new Date(Date.parse(data.date[i].endDate));}else{_date.enddate=VMM.Util.parseDate(data.date[i].endDate);}}else{_date.enddate=_date.startdate;}
_date.title=data.date[i].headline;_date.type=data.date[i].type;_date.date=VMM.Util.date.prettyDate(_date.startdate);_date.asset=data.date[i].asset;_date.fulldate=_date.startdate.getTime();_date.content=buildSlide(data.date[i],_date.startdate);if(_date.content!=null&&_date.content!=""){_dates.push(_date);}}};_dates.sort(function(a,b){return a.fulldate-b.fulldate});onDatesProcessed();}};VMM.Timeline.TimeNav=function(parent,content_width,content_height){trace("VMM.Timeline.TimeNav");var events={};var data=[];var eras;var era_markers=[];var markers=[];var interval_array=[];var timespan={};var current_marker=0;var _active=false;var timelookup={day:24,month:12,year:10,hour:60,minute:60,second:1000,decade:10,century:100,millenium:1000,week:4.34812141,days_in_month:30.4368499,days_in_week:7,weeks_in_month:4.34812141,weeks_in_year:52.177457,days_in_year:365.242199,hours_in_day:24};var dateFractionBrowser={day:86400000,week:7,month:30.4166666667,year:12,hour:24,minute:1440,second:86400,decade:10,century:100,millenium:1000}
var interval={type:"year",number:10,first:1970,last:2011,multiplier:100};var interval_major={type:"year",number:10,first:1970,last:2011,multiplier:100};var interval_calc={day:{},month:{},year:{},hour:{},minute:{},second:{},decade:{},century:{},millenium:{},week:{}};var config={interval:10,something:0,width:900,height:150,ease:"easeInOutExpo",duration:1000,nav_width:100,nav_height:200,timeline:false,spacing:15,marker_width:150,marker_height:48,density:2,timeline_width:900,interval_width:200,rows:[1,1,1],multiplier:6,max_multiplier:16,min_multiplier:1,has_start_page:false,};config.rows=[config.marker_height,config.marker_height*2,1];if(content_width!=null&&content_width!=""){config.width=content_width;}
if(content_height!=null&&content_height!=""){config.height=content_height;}
var content="";var _active=false;var $timenav="";var $content="";var $time="";var $timeintervalminor="";var $timeinterval="";var $timeintervalmajor="";var $timebackground="";var $timeintervalbackground="";var $timenavline="";var $timeintervalminor_minor="";var $toolbar="";var $zoomin="";var $zoomout="";var navigation={};navigation.nextBtn;navigation.prevBtn;navigation.nextDate;navigation.prevDate;navigation.nextTitle;navigation.prevTitle;this.ver="0.1";var layout=parent;this.init=function(d,e){trace('VMM.Timeline.TimeNav init');if(typeof d!='undefined'){this.setData(d,e);}else{trace("WAITING ON DATA");}};this.setData=function(d,e){if(typeof d!='undefined'){data=d;eras=e;build();}else{trace("NO DATA");}};this.setSize=function(w,h){if(w!=null){config.width=w};if(h!=null){config.height=h};if(_active){reSize();}}
this.setMarker=function(n,ease,duration,fast){goToMarker(n,ease,duration);}
this.getCurrentNumber=function(){return current_marker;}
function onConfigSet(){trace("onConfigSet");};function reSize(firstrun){VMM.Element.css($timenavline,"left",Math.round(config.width/2)+2);goToMarker(current_marker,config.ease,config.duration,true,firstrun);};function upDate(){VMM.fireEvent(layout,"UPDATE");}
function onZoomIn(){trace("CLICK");VMM.DragSlider.cancelSlide();if(config.multiplier>config.min_multiplier){config.multiplier=config.multiplier-1;if(config.multiplier<0){config.multiplier=config.min_multiplier;}
refreshTimeline();}}
function onZoomOut(){trace("CLICK");VMM.DragSlider.cancelSlide();if(config.multiplier<config.max_multiplier){config.multiplier=config.multiplier+1;if(config.multiplier==config.max_multiplier){}
refreshTimeline();}}
function onBackHome(e){VMM.DragSlider.cancelSlide();goToMarker(0);upDate();}
function onMarkerClick(e){VMM.DragSlider.cancelSlide();goToMarker(e.data.number);upDate();};function onMarkerHover(e){VMM.Element.toggleClass(e.data.elem,"zFront");};function onTouchUpdate(e,b){VMM.Element.animate($timenav,b.time/2,config.ease,{"left":b.left});};var buildMarkers=function(){var row=2;var lpos=0;var row_depth=0;for(var i=0;i<data.length;i++){var bw="";var _marker;var _marker_flag;var _marker_content;var _marker_dot;var _marker_line;var _marker_line_event;_marker=VMM.appendAndGetElement($content,"<div>","marker");_marker_flag=VMM.appendAndGetElement(_marker,"<div>","flag");_marker_content=VMM.appendAndGetElement(_marker_flag,"<div>","flag-content");_marker_dot=VMM.appendAndGetElement(_marker,"<div>","dot");_marker_line=VMM.appendAndGetElement(_marker,"<div>","line");_marker_line_event=VMM.appendAndGetElement(_marker_line,"<div>","event-line");if(data[i].asset!=null&&data[i].asset!=""){VMM.appendElement(_marker_content,VMM.MediaElement.thumbnail(data[i].asset,32,32));}
VMM.appendElement(_marker_content,"<h3>"+VMM.Util.unlinkify($('<p/>').text($(data[i].title).find('.a-slot-content:eq(0)').text()).html())+"</h3><h4>"+data[i].date+"</h4>");VMM.Element.attr(_marker,"id",(data[i].uniqueid).toString());VMM.bindEvent(_marker_flag,onMarkerClick,"",{number:i});VMM.bindEvent(_marker_flag,onMarkerHover,"mouseenter mouseleave",{number:i,elem:_marker_flag});var _marker_obj={marker:_marker,flag:_marker_flag,lineevent:_marker_line_event,type:"marker"};if(data[i].type=="start"){trace("BUILD MARKER HAS START PAGE")
config.has_start_page=true;_marker_obj.type="start";}
markers.push(_marker_obj);}
for(var j=0;j<eras.length;j++){var bw="";var era={content:"",startdate:"",enddate:"",headline:"",uniqueid:"",color:""};era.title=eras[j].headline;era.uniqueid=VMM.Util.unique_ID(4);era.color=eras[j].color;era.content=VMM.appendAndGetElement($content,"<div>","era");VMM.Element.attr(era.content,"id",era.uniqueid);VMM.Element.css(era.content,"background",era.color);VMM.appendElement(era.content,"<h3>"+VMM.Util.unlinkify(era.title)+"</h3>");era.startdate=VMM.Util.parseDate(eras[j].startDate);era.enddate=VMM.Util.parseDate(eras[j].endDate);era_markers.push(era);}
positionMarkers();}
var positionOnTimeline=function(the_interval,first,last){var _type=the_interval.type;var _multiplier=the_interval.multiplier;var _first=getDateFractions(first);var _last=getDateFractions(last);var tsd=first.months;var ted=last.months;if(_type=="millenium"){tsd=first.milleniums;ted=last.milleniums;}else if(_type=="century"){tsd=_first.centuries;ted=_last.centuries;}else if(_type=="decade"){tsd=_first.decades;ted=_last.decades;}else if(_type=="year"){tsd=_first.years;ted=_last.years;}else if(_type=="month"){tsd=_first.months;ted=_last.months;}else if(_type=="week"){tsd=_first.weeks;ted=_last.weeks;}else if(_type=="day"){tsd=_first.days;ted=_last.days;}else if(_type=="hour"){tsd=_first.hours;ted=_last.hours;}else if(_type=="minute"){tsd=_first.minutes;ted=_last.minutes;}
_pos=(tsd-interval.base)*(config.interval_width/config.multiplier);_pos_end=(ted-interval.base)*(config.interval_width/config.multiplier);return pos={begin:_pos,end:_pos_end};}
var positionMarkers=function(is_animated){var _type=interval.type;var _multiplier=interval.multiplier;var row=2;var lpos=0;var row_depth=0;var _line_last_height_pos=150;var _line_height=6;var cur_mark=0;VMM.Element.removeClass(".flag","row1");VMM.Element.removeClass(".flag","row2");VMM.Element.removeClass(".flag","row3");for(var i=0;i<markers.length;i++){var _line;var _marker=markers[i].marker;var _marker_flag=markers[i].flag;var _marker_line_event=markers[i].lineevent;var _pos=positionOnTimeline(interval,data[i].startdate,data[i].enddate);pos=_pos.begin;_pos_end=_pos.end;var _pos_offset=-2;pos=Math.round(pos+_pos_offset);_pos_end=Math.round(_pos_end+_pos_offset);_line=Math.round(_pos_end-pos);if(is_animated){VMM.Element.stop(_marker);VMM.Element.animate(_marker,config.duration/2,config.ease,{"left":pos});}else{VMM.Element.css(_marker,"left",pos);}
if(i==current_marker){cur_mark=pos;}
if(_line>5){VMM.Element.css(_marker_line_event,"height",_line_height);VMM.Element.css(_marker_line_event,"width",_line);VMM.Element.css(_marker_line_event,"top",_line_last_height_pos);}
if(pos-lpos<(config.marker_width+config.spacing)){if(row<config.rows.length-1){row++;}else{row=0;row_depth++;}}else{row_depth=0;row=0;}
lpos=pos;if(is_animated){VMM.Element.stop(_marker_flag);VMM.Element.animate(_marker_flag,config.duration,config.ease,{"top":config.rows[row]});}else{VMM.Element.css(_marker_flag,"top",config.rows[row]);}
if(config.has_start_page&&markers[i].type=="start"){VMM.Element.visible(_marker,false);}}
for(var j=0;j<era_markers.length;j++){var _line;var era=era_markers[j];var era_elem=era.content;var pos=positionOnTimeline(interval,era.startdate,era.enddate);var era_length=pos.end-pos.begin;var era_height=25;VMM.Element.css(era_elem,"left",pos.begin);VMM.Element.css(era_elem,"width",era_length);}
if(is_animated){VMM.Element.stop($timenav);VMM.Element.animate($timenav,config.duration/2,config.ease,{"left":(config.width/2)-(cur_mark)});}}
var getDateFractions=function(the_date,is_utc){var _time={};_time.days=the_date/dateFractionBrowser.day;_time.weeks=_time.days/dateFractionBrowser.week;_time.months=_time.days/dateFractionBrowser.month;_time.years=_time.months/dateFractionBrowser.year;_time.hours=_time.days*dateFractionBrowser.hour;_time.minutes=_time.days*dateFractionBrowser.minute;_time.seconds=_time.days*dateFractionBrowser.second;_time.decades=_time.years/dateFractionBrowser.decade;_time.centuries=_time.years/dateFractionBrowser.century;_time.milleniums=_time.years/dateFractionBrowser.millenium;return _time;}
var calculateInterval=function(){var _first=getDateFractions(data[0].startdate);var _last=getDateFractions(data[data.length-1].enddate);interval_calc.millenium.type="millenium";interval_calc.millenium.first=_first.milleniums;interval_calc.millenium.base=Math.floor(_first.milleniums);interval_calc.millenium.last=_last.milleniums;interval_calc.millenium.number=timespan.milleniums;interval_calc.millenium.multiplier=timelookup.millenium;interval_calc.millenium.minor=timelookup.millenium;interval_calc.century.type="century";interval_calc.century.first=_first.centuries;interval_calc.century.base=Math.floor(_first.centuries);interval_calc.century.last=_last.centuries;interval_calc.century.number=timespan.centuries;interval_calc.century.multiplier=timelookup.century;interval_calc.century.minor=timelookup.century;interval_calc.decade.type="decade";interval_calc.decade.first=_first.decades;interval_calc.decade.base=Math.floor(_first.decades);interval_calc.decade.last=_last.decades;interval_calc.decade.number=timespan.decades;interval_calc.decade.multiplier=timelookup.decade;interval_calc.decade.minor=timelookup.decade;interval_calc.year.type="year";interval_calc.year.first=_first.years;interval_calc.year.base=Math.floor(_first.years);interval_calc.year.last=_last.years;interval_calc.year.number=timespan.years;interval_calc.year.multiplier=1;interval_calc.year.minor=timelookup.month;interval_calc.month.type="month";interval_calc.month.first=_first.months;interval_calc.month.base=Math.floor(_first.months);interval_calc.month.last=_last.months;interval_calc.month.number=timespan.months;interval_calc.month.multiplier=1;interval_calc.month.minor=Math.round(timelookup.week);interval_calc.week.type="week";interval_calc.week.first=_first.weeks;interval_calc.week.base=Math.floor(_first.weeks);interval_calc.week.last=_last.weeks;interval_calc.week.number=timespan.weeks;interval_calc.week.multiplier=1;interval_calc.week.minor=7;interval_calc.day.type="day";interval_calc.day.first=_first.days;interval_calc.day.base=Math.floor(_first.days);interval_calc.day.last=_last.days;interval_calc.day.number=timespan.days;interval_calc.day.multiplier=1;interval_calc.day.minor=24;interval_calc.hour.type="hour";interval_calc.hour.first=_first.hours;interval_calc.hour.base=Math.floor(_first.hours);interval_calc.hour.last=_last.hours;interval_calc.hour.number=timespan.hours;interval_calc.hour.multiplier=1;interval_calc.hour.minor=60;interval_calc.minute.type="minute";interval_calc.minute.first=_first.minutes;interval_calc.minute.base=Math.floor(_first.minutes);interval_calc.minute.last=_last.minutes;interval_calc.minute.number=timespan.minutes;interval_calc.minute.multiplier=1;interval_calc.minute.minor=60;interval_calc.second.type="decade";interval_calc.second.first=_first.seconds;interval_calc.second.base=Math.floor(_first.seconds);interval_calc.second.last=_last.seconds;interval_calc.second.number=timespan.seconds;interval_calc.second.multiplier=1;interval_calc.second.minor=10;}
var positionInterval=function(){VMM.attachElement($timeinterval,"");VMM.attachElement($timeintervalmajor,"");interval.date=new Date(data[0].startdate.getFullYear(),0,1,0,0,0);interval_major.date=new Date(data[0].startdate.getFullYear(),0,1,0,0,0);var inc_time=0;var inc_time_major=0;var _first_run=true;var _normal_first_pos=0;var _last_pos=0;var _last_pos_major=0;for(var i=0;i<interval.number+1;i++){var _idd;if(interval.type=="century"){if(_first_run){interval.date.setFullYear(Math.floor(data[0].startdate.getFullYear()/100)*100);}
interval.date.setFullYear(interval.date.getFullYear()+(inc_time*100));_idd=Math.floor(interval.date.getFullYear()/100)*100;}else if(interval.type=="decade"){if(_first_run){interval.date.setFullYear(Math.floor(data[0].startdate.getFullYear()/10)*10);}
interval.date.setFullYear(interval.date.getFullYear()+(inc_time*10));_idd=Math.floor(interval.date.getFullYear()/10)*10;}else if(interval.type=="year"){if(_first_run){}
interval.date.setFullYear(interval.date.getFullYear()+inc_time);_idd=VMM.Util.date.prettyDate(interval.date,true,interval.type);}else if(interval.type=="month"){if(_first_run){interval.date.setMonth(data[0].startdate.getMonth());}
interval.date.setMonth(interval.date.getMonth()+inc_time);_idd=VMM.Util.date.prettyDate(interval.date,true,interval.type);}else if(interval.type=="week"){if(_first_run){interval.date.setMonth(data[0].startdate.getMonth());interval.date.setDate(Math.floor(data[0].startdate.getDate()*7));}
interval.date.setDate(interval.date.getDate()+(inc_time*7));_idd=VMM.Util.date.day_abbr[interval.date.getDay()]+" "+VMM.Util.date.month_abbr[interval.date.getMonth()]+" "+interval.date.getDate();}else if(interval.type=="day"){if(_first_run){interval.date.setMonth(data[0].startdate.getMonth());interval.date.setDate(data[0].startdate.getDate());}
interval.date.setDate(interval.date.getDate()+inc_time);_idd=VMM.Util.date.prettyDate(interval.date,true,interval.type);}else if(interval.type=="hour"){if(_first_run){interval.date.setMonth(data[0].startdate.getMonth());interval.date.setDate(data[0].startdate.getDate());interval.date.setHours(data[0].startdate.getHours());}
interval.date.setHours(interval.date.getHours()+inc_time);_idd=VMM.Util.date.prettyDate(interval.date,true,interval.type);}else if(interval.type=="minute"){if(_first_run){interval.date.setMonth(data[0].startdate.getMonth());interval.date.setDate(data[0].startdate.getDate());interval.date.setHours(data[0].startdate.getHours());interval.date.setMinutes(data[0].startdate.getMinutes());}
interval.date.setMinutes(interval.date.getMinutes()+inc_time);_idd=VMM.Util.date.prettyDate(interval.date,true,interval.type);}else if(interval.type=="second"){if(_first_run){interval.date.setMonth(data[0].startdate.getMonth());interval.date.setDate(data[0].startdate.getDate());interval.date.setHours(data[0].startdate.getHours());interval.date.setMinutes(data[0].startdate.getMinutes());interval.date.setSeconds(data[0].startdate.getSeconds());}
interval.date.setSeconds(interval.date.getSeconds()+inc_time);_idd=VMM.Util.date.prettyDate(interval.date,true,interval.type);}
inc_time=1;if(_first_run){_normal_first_pos=pos;}
_first_run=false;var _pos=positionOnTimeline(interval,interval.date,interval.date);var pos=_pos.begin;$interval_date=VMM.appendAndGetElement($timeinterval,"<div>","_idd");VMM.appendElement($interval_date,_idd);VMM.Element.css($interval_date,"left",pos);VMM.Element.css($interval_date,"text-indent",-(VMM.Element.width($interval_date)/2));if((pos-_last_pos)<65){if((pos-_last_pos)<35){if(i%4==0){if(pos==0){VMM.Element.css($interval_date,"display","none");}else{VMM.Element.css($interval_date,"display","");}}else{VMM.Element.css($interval_date,"display","none");}}else{if(VMM.Util.isEven(i)){VMM.Element.css($interval_date,"display","none");}else{VMM.Element.css($interval_date,"display","");}}}else{VMM.Element.css($interval_date,"display","");}
_last_pos=pos;}
_first_run=true;_major_first_pos=0;_major_last_pos=0;for(var i=0;i<Math.ceil(interval_major.number)+1;i++){var _idd;if(interval_major.type=="century"){if(_first_run){interval_major.date.setFullYear(Math.floor(data[0].startdate.getFullYear()/100)*100);}
interval_major.date.setFullYear(interval_major.date.getFullYear()+(inc_time_major*100));_idd=Math.floor(interval_major.date.getFullYear()/100)*100;}else if(interval_major.type=="decade"){if(_first_run){interval_major.date.setFullYear(Math.floor(data[0].startdate.getFullYear()/10)*10);}
interval_major.date.setFullYear(interval_major.date.getFullYear()+(inc_time_major*10));_idd=Math.floor(interval_major.date.getFullYear()/10)*10;}else if(interval_major.type=="year"){if(_first_run){}
interval_major.date.setFullYear(interval_major.date.getFullYear()+inc_time_major);_idd=interval_major.date.getFullYear();}else if(interval_major.type=="month"){if(_first_run){interval_major.date.setMonth(data[0].startdate.getMonth());}
interval_major.date.setMonth(interval_major.date.getMonth()+inc_time_major);_idd=VMM.Util.date.month[interval_major.date.getMonth()]+" "+interval_major.date.getFullYear();}else if(interval_major.type=="week"){if(_first_run){interval_major.date.setMonth(data[0].startdate.getMonth());interval_major.date.setDate(Math.floor(data[0].startdate.getDate()*7));}
interval_major.date.setDate(interval_major.date.getDate()+(inc_time_major*7));_idd=VMM.Util.date.day_abbr[interval_major.date.getDay()]+" "+VMM.Util.date.month_abbr[interval_major.date.getMonth()]+" "+interval_major.date.getDate();}else if(interval_major.type=="day"){if(_first_run){interval_major.date.setMonth(data[0].startdate.getMonth());interval_major.date.setDate(data[0].startdate.getDate());}
interval_major.date.setDate(interval_major.date.getDate()+inc_time_major);_idd=VMM.Util.date.prettyDate(interval_major.date,true,interval_major.type);}else if(interval_major.type=="hour"){if(_first_run){interval_major.date.setMonth(data[0].startdate.getMonth());interval_major.date.setDate(data[0].startdate.getDate());interval_major.date.setHours(data[0].startdate.getHours());}
interval_major.date.setHours(interval_major.date.getHours()+inc_time_major);_idd=VMM.Util.date.prettyDate(interval_major.date,true,interval_major.type);}else if(interval_major.type=="minute"){if(_first_run){interval_major.date.setMonth(data[0].startdate.getMonth());interval_major.date.setDate(data[0].startdate.getDate());interval_major.date.setHours(data[0].startdate.getHours());interval_major.date.setMinutes(data[0].startdate.getMinutes());}
interval_major.date.setMinutes(interval_major.date.getMinutes()+inc_time_major);_idd=VMM.Util.date.prettyDate(interval_major.date,true,interval_major.type);}else if(interval_major.type=="second"){if(_first_run){interval_major.date.setMonth(data[0].startdate.getMonth());interval_major.date.setDate(data[0].startdate.getDate());interval_major.date.setHours(data[0].startdate.getHours());interval_major.date.setMinutes(data[0].startdate.getMinutes());interval_major.date.setSeconds(data[0].startdate.getSeconds());}
interval_major.date.setSeconds(interval_major.date.getSeconds()+inc_time_major);_idd=VMM.Util.date.prettyDate(interval_major.date,true,interval_major.type);}
trace("interval_major.type "+interval_major.type);inc_time_major=1;var _pos=positionOnTimeline(interval,interval_major.date,interval_major.date);var pos=_pos.begin;$interval_date=VMM.appendAndGetElement($timeintervalmajor,"<div>","major");VMM.appendElement($interval_date,_idd);VMM.Element.css($interval_date,"left",pos);VMM.Element.css($interval_date,"left",pos);VMM.Element.css($interval_date,"text-indent",-(VMM.Element.width($interval_date)/2));if(_first_run){_major_first_pos=pos;}
_first_run=false;_last_pos_major=pos;_major_last_pos=pos;}
VMM.Element.width($content,interval.number*(config.interval_width/config.multiplier));_minor_pos_offset=50;var _minor_width=(_major_last_pos-_major_first_pos)+(_minor_pos_offset*6);var _normal_width=(_last_pos)+(_minor_pos_offset*6);if(_minor_width<_normal_width){VMM.Element.width($timeintervalminor_minor,_normal_width);}else{VMM.Element.width($timeintervalminor_minor,_minor_width);}
VMM.Element.css($timeintervalminor_minor,"left",_major_first_pos-_minor_pos_offset);config.timeline_width=VMM.Element.width($timeinterval);}
var buildInterval=function(){timespan=getDateFractions((data[data.length-1].enddate)-(data[0].startdate),true);calculateInterval();if(timespan.milleniums>data.length/config.density){interval=interval_calc.millenium;}else if(timespan.centuries>data.length/config.density){interval=Math.ceil(interval_calc.century);}else if(timespan.decades>data.length/config.density){interval=interval_calc.decade;}else if(timespan.years>data.length/config.density){interval=interval_calc.year;}else if(timespan.months>data.length/config.density){interval=interval_calc.month;}else if(timespan.days>data.length/config.density){interval=interval_calc.day;}else if(timespan.hours>data.length/config.density){interval=interval_calc.hour;}else if(timespan.minutes>data.length/config.density){interval=interval_calc.minute;}else if(timespan.seconds>data.length/config.density){interval=interval_calc.second;}else{trace("NO FUCKING IDEA WHAT THE TYPE SHOULD BE");interval.type="unknown";}
if(timespan.milleniums>=1){interval_major=interval_calc.millenium;}else if(timespan.centuries>=1){interval_major=interval_calc.century;}else if(timespan.decades>=1){interval_major=interval_calc.decade;}else if(timespan.years>=1){interval_major=interval_calc.year;}else if(timespan.months>1){interval_major=interval_calc.month;}else if(timespan.weeks>1){interval_major=interval_calc.month;}else if(timespan.days>1){interval_major=interval_calc.day;}else if(timespan.hours>1){interval_major=interval_calc.hour;}else if(timespan.minutes>1){interval_major=interval_calc.minute;}else if(timespan.seconds>1){interval_major=interval_calc.minute;}else{trace("NO FUCKING IDEA WHAT THE TYPE SHOULD BE");interval_major.type="unknown";}
$timeintervalminor_minor=VMM.appendAndGetElement($timeintervalminor,"<div>","minor");positionInterval();}
var goToMarker=function(n,ease,duration,fast,firstrun){current_marker=n;var _ease=config.ease;var _duration=config.duration;var is_last=false;var is_first=false;if(current_marker==0){is_first=true;}
if(current_marker+1==markers.length){is_last=true}
if(ease!=null&&ease!=""){_ease=ease};if(duration!=null&&duration!=""){_duration=duration};var _pos=VMM.Element.position(markers[current_marker].marker);for(var i=0;i<markers.length;i++){VMM.Element.removeClass(markers[i].marker,"active");}
if(config.has_start_page&&markers[current_marker].type=="start"){VMM.Element.visible(markers[current_marker].marker,false);VMM.Element.addClass(markers[current_marker].marker,"start");}
VMM.Element.addClass(markers[current_marker].marker,"active");if(is_first){}else{}
if(is_last){}else{}
VMM.Element.stop($timenav);VMM.Element.animate($timenav,_duration,_ease,{"left":(config.width/2)-(_pos.left)});}
var build=function(){VMM.attachElement(layout,"");$timenav=VMM.appendAndGetElement(layout,"<div>","timenav");$content=VMM.appendAndGetElement($timenav,"<div>","content");$time=VMM.appendAndGetElement($timenav,"<div>","time");$timeintervalminor=VMM.appendAndGetElement($time,"<div>","time-interval-minor");$timeintervalmajor=VMM.appendAndGetElement($time,"<div>","time-interval-major");$timeinterval=VMM.appendAndGetElement($time,"<div>","time-interval");$timebackground=VMM.appendAndGetElement(layout,"<div>","timenav-background");$timenavline=VMM.appendAndGetElement($timebackground,"<div>","timenav-line");$timeintervalbackground=VMM.appendAndGetElement($timebackground,"<div>","timenav-interval-background","<div class='top-highlight'></div>");buildInterval();buildMarkers();reSize(true);VMM.fireEvent(layout,"LOADED");$toolbar=VMM.appendAndGetElement(layout,"<div>","toolbar");if(config.has_start_page){$backhome=VMM.appendAndGetElement($toolbar,"<div>","back-home","<div class='icon'></div>");VMM.bindEvent(".back-home",onBackHome,"click");VMM.Element.css($toolbar,"top",27);}
$zoomin=VMM.appendAndGetElement($toolbar,"<div>","zoom-in","<div class='icon'></div>");$zoomout=VMM.appendAndGetElement($toolbar,"<div>","zoom-out","<div class='icon'></div>");if('undefined'!=typeof $backhome){VMM.Element.attribute($backhome,"title","Return to Title");VMM.Element.attribute($backhome,"rel","tooltip");}
VMM.Element.attribute($zoomin,"title","Expand Timeline");VMM.Element.attribute($zoomin,"rel","tooltip");VMM.Element.attribute($zoomout,"title","Contract Timeline");VMM.Element.attribute($zoomout,"rel","tooltip");VMM.bindEvent(".zoom-in",onZoomIn,"click");VMM.bindEvent(".zoom-out",onZoomOut,"click");$toolbar.tooltip({selector:"div[rel=tooltip]",placement:"right"})
if(VMM.Browser.device=="mobile"||VMM.Browser.device=="tablet"){VMM.TouchSlider.createPanel($timebackground,$timenav,config.width,config.spacing,false);VMM.bindEvent($timenav,onTouchUpdate,"TOUCHUPDATE");}else{VMM.DragSlider.createPanel(layout,$timenav,config.width,config.spacing,false);}
_active=true;};var refreshTimeline=function(){positionInterval();positionMarkers(true);};};VMM.Timeline.DataObj={data_obj:{},model_array:[],getData:function(raw_data){data=VMM.Timeline.DataObj.data_obj;if(type.of(raw_data)!="string"){trace("DATA SOURCE: NOT JSON");trace("TRYING HTML PARSE");VMM.Timeline.DataObj.parseHTML(raw_data);}else{if(raw_data.match("%23")){trace("DATA SOURCE: TWITTER SEARCH");VMM.Timeline.DataObj.model_Tweets.getData("%23medill");}else if(raw_data.match("spreadsheet")){trace("DATA SOURCE: GOOGLE SPREADSHEET");VMM.Timeline.DataObj.model_GoogleSpreadsheet.getData(raw_data);}else{trace("DATA SOURCE: JSON");VMM.getJSON(raw_data,VMM.Timeline.DataObj.parseJSON);}}},parseHTML:function(d){trace("parseHTML");var _data_obj=VMM.Timeline.DataObj.data_template_obj;if(VMM.Element.find("#timeline > section","time")[0]){_data_obj.timeline.startDate=VMM.Element.html(VMM.Element.find("#timeline > section","time")[0]);_data_obj.timeline.headline=VMM.Element.html(VMM.Element.find("#timeline > section","h2"));_data_obj.timeline.text=VMM.Element.html(VMM.Element.find("#timeline > section","article"));var found_main_media=false;if(VMM.Element.find("#timeline > section","figure img").length!=0){found_main_media=true;_data_obj.timeline.asset.media=VMM.Element.attr(VMM.Element.find("#timeline > section","figure img"),"src");}else if(VMM.Element.find("#timeline > section","figure a").length!=0){found_main_media=true;_data_obj.timeline.asset.media=VMM.Element.attr(VMM.Element.find("#timeline > section","figure a"),"href");}else{}
_data_obj.timeline.figure='';if(VMM.Element.find("#timeline > section","figure").length){_data_obj.timeline.figure=VMM.Element.find("#timeline > section","figure").html();}
if(found_main_media){if(VMM.Element.find("#timeline > section","cite").length!=0){_data_obj.timeline.asset.credit=VMM.Element.html(VMM.Element.find("#timeline > section","cite"));}
if(VMM.Element.find(this,"figcaption").length!=0){_data_obj.timeline.asset.caption=VMM.Element.html(VMM.Element.find("#timeline > section","figcaption"));}}}
VMM.Element.each("#timeline > ul > li",function(i,elem){var valid_date=false;var _date={"type":"default","startDate":"","headline":"","text":"","asset":{"media":"","credit":"","caption":""},"tags":"Optional"};if(VMM.Element.find(this,"time")!=0){valid_date=true;_date.startDate=VMM.Element.html(VMM.Element.find(this,"time")[0]);if(VMM.Element.find(this,"time")[1]){_date.endDate=VMM.Element.html(VMM.Element.find(this,"time")[0]);}
_date.headline=VMM.Element.html(VMM.Element.find(this,"h3"));_date.text=VMM.Element.html(VMM.Element.find(this,"article"));var found_media=false;if(VMM.Element.find(this,"figure img").length!=0){found_media=true;_date.asset.media=VMM.Element.attr(VMM.Element.find(this,"figure img"),"src");}else if(VMM.Element.find(this,"figure a").length!=0){found_media=true;_date.asset.media=VMM.Element.attr(VMM.Element.find(this,"figure a"),"href");}else{}
_date.figure='';if(VMM.Element.find(this,"figure").length){_date.figure=VMM.Element.find(this,"figure").html();}
if(found_media){if(VMM.Element.find(this,"cite").length!=0){_date.asset.credit=VMM.Element.html(VMM.Element.find(this,"cite"));}
if(VMM.Element.find(this,"figcaption").length!=0){_date.asset.caption=VMM.Element.html(VMM.Element.find(this,"figcaption"));}}
trace(_date);_data_obj.timeline.date.push(_date);}});VMM.fireEvent(global,"DATAREADY",_data_obj);},parseJSON:function(d){if(d.timeline.type=="default"){trace("DATA SOURCE: JSON STANDARD TIMELINE");VMM.fireEvent(global,"DATAREADY",d);}else if(d.timeline.type=="twitter"){trace("DATA SOURCE: JSON TWEETS");VMM.Timeline.DataObj.model_Tweets.buildData(d);}else{trace("DATA SOURCE: NO IDEA");trace(type.of(d.timeline));};},model_Tweets:{type:"twitter",buildData:function(raw_data){VMM.bindEvent(global,VMM.Timeline.DataObj.model_Tweets.onTwitterDataReady,"TWEETSLOADED");VMM.ExternalAPI.twitter.getTweets(raw_data.timeline.tweets);},getData:function(raw_data){VMM.bindEvent(global,VMM.Timeline.DataObj.model_Tweets.onTwitterDataReady,"TWEETSLOADED");VMM.ExternalAPI.twitter.getTweetSearch(raw_data);},onTwitterDataReady:function(e,d){var _data_obj=VMM.Timeline.DataObj.data_template_obj;for(var i=0;i<d.tweetdata.length;i++){var _date={"type":"tweets","startDate":"","headline":"","text":"","asset":{"media":"","credit":"","caption":""},"tags":"Optional"};_date.startDate=d.tweetdata[i].raw.created_at;if(type.of(d.tweetdata[i].raw.from_user_name)){_date.headline=d.tweetdata[i].raw.from_user_name+" (<a href='https://twitter.com/"+d.tweetdata[i].raw.from_user+"'>"+"@"+d.tweetdata[i].raw.from_user+"</a>)";}else{_date.headline=d.tweetdata[i].raw.user.name+" (<a href='https://twitter.com/"+d.tweetdata[i].raw.user.screen_name+"'>"+"@"+d.tweetdata[i].raw.user.screen_name+"</a>)";}
_date.asset.media=d.tweetdata[i].content;_data_obj.timeline.date.push(_date);};VMM.fireEvent(global,"DATAREADY",_data_obj);}},model_GoogleSpreadsheet:{type:"google spreadsheet",getData:function(raw_data){var _key=VMM.Util.getUrlVars(raw_data)["key"];var _url="https://spreadsheets.google.com/feeds/list/"+_key+"/od6/public/values?alt=json";if(VMM.Browser.browser=="Explorer"&&parseInt(VMM.Browser.version,10)>=8&&window.XDomainRequest){trace("it's ie");var ie_xdr=new XDomainRequest();var _url="//spreadsheets.google.com/feeds/list/"+_key+"/od6/public/values?alt=json";ie_xdr.open("get",_url);ie_xdr.onload=function(){var ie_j={};var ie_json=VMM.parseJSON(ie_xdr.responseText);VMM.Timeline.DataObj.model_GoogleSpreadsheet.buildData(ie_json);}
ie_xdr.send();}else{trace("not ie");VMM.getJSON(_url,VMM.Timeline.DataObj.model_GoogleSpreadsheet.buildData);}},buildData:function(d){var _data_obj=VMM.Timeline.DataObj.data_template_obj;for(var i=0;i<d.feed.entry.length;i++){var dd=d.feed.entry[i];if(dd.gsx$titleslide.$t.match("start")){_data_obj.timeline.startDate=dd.gsx$startdate.$t;_data_obj.timeline.headline=dd.gsx$headline.$t;_data_obj.timeline.asset.media=dd.gsx$media.$t;_data_obj.timeline.asset.caption=dd.gsx$mediacaption.$t;_data_obj.timeline.asset.credit=dd.gsx$mediacredit.$t;_data_obj.timeline.text=dd.gsx$text.$t;_data_obj.timeline.type="google spreadsheet";}else{var _date={"type":"google spreadsheet","startDate":"","endDate":"","headline":"","text":"","type":"google spreadsheet","asset":{"media":"","credit":"","caption":""},"tags":"Optional"};_date.endDate=dd.gsx$enddate.$t;_date.startDate=dd.gsx$startdate.$t;_date.headline=dd.gsx$headline.$t;_date.asset.media=dd.gsx$media.$t;_date.asset.caption=dd.gsx$mediacaption.$t;_date.asset.credit=dd.gsx$mediacredit.$t;_date.text=dd.gsx$text.$t;_data_obj.timeline.date.push(_date);}};VMM.fireEvent(global,"DATAREADY",_data_obj);}},data_template_obj:{"timeline":{"headline":"","description":"","asset":{"media":"","credit":"","caption":""},"date":[]}},date_obj:{"startDate":"2012,2,2,11,30","headline":"","text":"","asset":{"media":"http://youtu.be/vjVfu8-Wp6s","credit":"","caption":""},"tags":"Optional"}};};
;(function($){var attributes={bodyHeight:0,pollInterval:1000};var methods={init:function(options){return this.each(function(){var targets=$('.has-tip'),tips=$('.tooltip'),tipTemplate=function(target,content){console.log(content,$(content).html());return'<span data-id="'+target+'" class="tooltip">'+$(content).hide().html()+'<span class="nub"></span></span>';},poll=setInterval(methods.isDomResized,attributes.pollInterval);if(tips.length<1){targets.each(function(i){var target=$(this),id='foundationTooltip'+i,content=target.attr('data-tooltips'),classes=target.attr('class');target.data('id',id);var tip=$(tipTemplate(id,content));tip.addClass(classes).removeClass('has-tip').appendTo('body');if(Modernizr.touch){tip.append('<span class="tap-to-close">tap to close </span>');}
methods.reposition(target,tip,classes);tip.fadeOut(150);});}
$(window).resize(function(){var tips=$('.tooltip');tips.each(function(){var data=$(this).data();target=targets=$('.has-tip'),tip=$(this),classes=tip.attr('class');targets.each(function(){($(this).data().id==data.id)?target=$(this):target=target;});methods.reposition(target,tip,classes);});});if(Modernizr.touch){$('.tooltip').live('click touchstart touchend',function(e){e.preventDefault();$(this).fadeOut(150);});targets.live('click touchstart touchend',function(e){e.preventDefault();$('.tooltip').hide();$('span[data-id='+$(this).data('id')+'].tooltip').fadeIn(150);targets.attr('title',"");});}else{targets.hover(function(){$('span[data-id='+$(this).data('id')+'].tooltip').fadeIn(150);targets.attr('title',"");},function(){$('span[data-id='+$(this).data('id')+'].tooltip').fadeOut(150);});}});},reposition:function(target,tip,classes){var width=target.data('width'),nub=tip.children('.nub'),nubHeight=nub.outerHeight(),nubWidth=nub.outerWidth();function nubPos(nub,top,right,bottom,left){nub.css({'top':top,'bottom':bottom,'left':left,'right':right});}
tip.css({'top':(target.offset().top+target.outerHeight()+10),'left':target.offset().left,'width':width});nubPos(nub,-nubHeight,'auto','auto',10);if($(window).width()<767){var row=target.parents('.row');tip.width(row.outerWidth()-20).css('left',row.offset().left).addClass('tip-override');nubPos(nub,-nubHeight,'auto','auto',target.offset().left);}else{if(classes.indexOf('tip-top')>-1){tip.css({'top':target.offset().top-tip.outerHeight()-nubHeight,'left':target.offset().left,'width':width}).removeClass('tip-override');nubPos(nub,'auto','auto',-nubHeight,'auto');}else if(classes.indexOf('tip-left')>-1){tip.css({'top':target.offset().top+(target.outerHeight()/2)-nubHeight,'left':target.offset().left-tip.outerWidth()-10,'width':width}).removeClass('tip-override');nubPos(nub,(tip.outerHeight()/2)-(nubHeight/2),-nubHeight,'auto','auto');}else if(classes.indexOf('tip-right')>-1){tip.css({'top':target.offset().top+(target.outerHeight()/2)-nubHeight,'left':target.offset().left+target.outerWidth()+10,'width':width}).removeClass('tip-override');nubPos(nub,(tip.outerHeight()/2)-(nubHeight/2),'auto','auto',-nubHeight);}}},isDomResized:function(){$body=$('body');if(attributes.bodyHeight!=$body.height()){attributes.bodyHeight=$body.height();$(window).trigger('resize');}}};$.fn.tooltips=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);}else{$.error('Method '+method+' does not exist on jQuery.tooltips');}};})(jQuery);;
function apostropheReady()
{}
$(function(){function activateTab($tab){var $activeTab=$tab.closest('dl').find('a.active'),contentLocation=$tab.attr("href")+'Tab';contentLocation=contentLocation.replace(/^.+#/,'#');$activeTab.removeClass('active');$tab.addClass('active');$(contentLocation).closest('.tabs-content').children('li').hide();$(contentLocation).css('display','block');}
$('dl.tabs').each(function(){var tabs=$(this).children('dd').children('a');tabs.click(function(e){activateTab($(this));});});if(window.location.hash){activateTab($('a[href="'+window.location.hash+'"]'));}
$(".alert-box").delegate("a.close","click",function(event){event.preventDefault();$(this).closest(".alert-box").fadeOut(function(event){$(this).remove();});});$(this).tooltips();var lockNavBar=false;$('.nav-bar a.flyout-toggle').live('click',function(e){e.preventDefault();var flyout=$(this).siblings('.flyout');if(lockNavBar===false){$('.nav-bar .flyout').not(flyout).slideUp(500);flyout.slideToggle(500,function(){lockNavBar=false;});}
lockNavBar=true;});if(Modernizr.touch){$('.nav-bar>li.has-flyout>a.main').css({'padding-right':'75px',});$('.nav-bar>li.has-flyout>a.flyout-toggle').css({'border-left':'1px dashed #eee'});}else{$('.nav-bar>li.has-flyout').hover(function(){$(this).children('.flyout').slideToggle(180);},function(){$(this).children('.flyout').slideToggle(180);})}
if($('#select_language_form').length&&$('#select_language').length){$('#select_language').bind('change',function(event){window.location=$(this).val();});}
if($('#timeline').length){$('#timeline').show();timeline=new VMM.Timeline();timeline.init();}});
String.prototype.rot13 = function(){return this.replace(/[a-zA-Z]/g, function(c){return String.fromCharCode((c <= "Z" ? 90 : 122) >= (c = c.charCodeAt(0) + 13) ? c : c - 26);});};
$(function() {$('a.rot13').each(function(){var a = $(this);var v = a.data("rot13").rot13();a.attr("href", "mailto:"+v);a.text(v);});});